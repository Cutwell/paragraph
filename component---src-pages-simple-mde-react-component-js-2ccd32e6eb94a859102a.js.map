{"version":3,"file":"component---src-pages-simple-mde-react-component-js-2ccd32e6eb94a859102a.js","mappings":"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","sources":["webpack://paragraph/./node_modules/codemirror-spell-checker/src/js/spell-checker.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/addon/display/autorefresh.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/addon/display/fullscreen.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/addon/display/placeholder.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/addon/edit/continuelist.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/addon/mode/overlay.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/addon/search/searchcursor.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/addon/selection/mark-selection.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/mode/gfm/gfm.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/mode/markdown/markdown.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/mode/meta.js","webpack://paragraph/./node_modules/easymde/node_modules/codemirror/mode/xml/xml.js","webpack://paragraph/./node_modules/easymde/src/js/codemirror/tablist.js","webpack://paragraph/./node_modules/easymde/src/js/easymde.js","webpack://paragraph/./node_modules/react-simplemde-editor/dist/SimpleMdeReact.mjs","webpack://paragraph/./src/pages/SimpleMdeReactComponent.js","webpack://paragraph/./node_modules/typo-js/typo.js","webpack://paragraph/./node_modules/marked/lib/marked.cjs"],"sourcesContent":["// Use strict mode (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode)\n\"use strict\";\n\n\n// Requires\nvar Typo = require(\"typo-js\");\n\n\n// Create function\nfunction CodeMirrorSpellChecker(options) {\n\t// Initialize\n\toptions = options || {};\n\n\n\t// Verify\n\tif(typeof options.codeMirrorInstance !== \"function\" || typeof options.codeMirrorInstance.defineMode !== \"function\") {\n\t\tconsole.log(\"CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`\");\n\t\treturn;\n\t}\n\n\n\t// Because some browsers don't support this functionality yet\n\tif(!String.prototype.includes) {\n\t\tString.prototype.includes = function() {\n\t\t\t\"use strict\";\n\t\t\treturn String.prototype.indexOf.apply(this, arguments) !== -1;\n\t\t};\n\t}\n\n\n\t// Define the new mode\n\toptions.codeMirrorInstance.defineMode(\"spell-checker\", function(config) {\n\t\t// Load AFF/DIC data\n\t\tif(!CodeMirrorSpellChecker.aff_loading) {\n\t\t\tCodeMirrorSpellChecker.aff_loading = true;\n\t\t\tvar xhr_aff = new XMLHttpRequest();\n\t\t\txhr_aff.open(\"GET\", \"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff\", true);\n\t\t\txhr_aff.onload = function() {\n\t\t\t\tif(xhr_aff.readyState === 4 && xhr_aff.status === 200) {\n\t\t\t\t\tCodeMirrorSpellChecker.aff_data = xhr_aff.responseText;\n\t\t\t\t\tCodeMirrorSpellChecker.num_loaded++;\n\n\t\t\t\t\tif(CodeMirrorSpellChecker.num_loaded == 2) {\n\t\t\t\t\t\tCodeMirrorSpellChecker.typo = new Typo(\"en_US\", CodeMirrorSpellChecker.aff_data, CodeMirrorSpellChecker.dic_data, {\n\t\t\t\t\t\t\tplatform: \"any\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr_aff.send(null);\n\t\t}\n\n\t\tif(!CodeMirrorSpellChecker.dic_loading) {\n\t\t\tCodeMirrorSpellChecker.dic_loading = true;\n\t\t\tvar xhr_dic = new XMLHttpRequest();\n\t\t\txhr_dic.open(\"GET\", \"https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic\", true);\n\t\t\txhr_dic.onload = function() {\n\t\t\t\tif(xhr_dic.readyState === 4 && xhr_dic.status === 200) {\n\t\t\t\t\tCodeMirrorSpellChecker.dic_data = xhr_dic.responseText;\n\t\t\t\t\tCodeMirrorSpellChecker.num_loaded++;\n\n\t\t\t\t\tif(CodeMirrorSpellChecker.num_loaded == 2) {\n\t\t\t\t\t\tCodeMirrorSpellChecker.typo = new Typo(\"en_US\", CodeMirrorSpellChecker.aff_data, CodeMirrorSpellChecker.dic_data, {\n\t\t\t\t\t\t\tplatform: \"any\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr_dic.send(null);\n\t\t}\n\n\n\t\t// Define what separates a word\n\t\tvar rx_word = \"!\\\"#$%&()*+,-./:;<=>?@[\\\\]^_`{|}~ \";\n\n\n\t\t// Create the overlay and such\n\t\tvar overlay = {\n\t\t\ttoken: function(stream) {\n\t\t\t\tvar ch = stream.peek();\n\t\t\t\tvar word = \"\";\n\n\t\t\t\tif(rx_word.includes(ch)) {\n\t\t\t\t\tstream.next();\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\twhile((ch = stream.peek()) != null && !rx_word.includes(ch)) {\n\t\t\t\t\tword += ch;\n\t\t\t\t\tstream.next();\n\t\t\t\t}\n\n\t\t\t\tif(CodeMirrorSpellChecker.typo && !CodeMirrorSpellChecker.typo.check(word))\n\t\t\t\t\treturn \"spell-error\"; // CSS class: cm-spell-error\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\n\t\tvar mode = options.codeMirrorInstance.getMode(\n\t\t\tconfig, config.backdrop || \"text/plain\"\n\t\t);\n\n\t\treturn options.codeMirrorInstance.overlayMode(mode, overlay, true);\n\t});\n}\n\n\n// Initialize data globally to reduce memory consumption\nCodeMirrorSpellChecker.num_loaded = 0;\nCodeMirrorSpellChecker.aff_loading = false;\nCodeMirrorSpellChecker.dic_loading = false;\nCodeMirrorSpellChecker.aff_data = \"\";\nCodeMirrorSpellChecker.dic_data = \"\";\nCodeMirrorSpellChecker.typo;\n\n\n// Export\nmodule.exports = CodeMirrorSpellChecker;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n\n  CodeMirror.defineOption(\"autoRefresh\", false, function(cm, val) {\n    if (cm.state.autoRefresh) {\n      stopListening(cm, cm.state.autoRefresh)\n      cm.state.autoRefresh = null\n    }\n    if (val && cm.display.wrapper.offsetHeight == 0)\n      startListening(cm, cm.state.autoRefresh = {delay: val.delay || 250})\n  })\n\n  function startListening(cm, state) {\n    function check() {\n      if (cm.display.wrapper.offsetHeight) {\n        stopListening(cm, state)\n        if (cm.display.lastWrapHeight != cm.display.wrapper.clientHeight)\n          cm.refresh()\n      } else {\n        state.timeout = setTimeout(check, state.delay)\n      }\n    }\n    state.timeout = setTimeout(check, state.delay)\n    state.hurry = function() {\n      clearTimeout(state.timeout)\n      state.timeout = setTimeout(check, 50)\n    }\n    CodeMirror.on(window, \"mouseup\", state.hurry)\n    CodeMirror.on(window, \"keyup\", state.hurry)\n  }\n\n  function stopListening(_cm, state) {\n    clearTimeout(state.timeout)\n    CodeMirror.off(window, \"mouseup\", state.hurry)\n    CodeMirror.off(window, \"keyup\", state.hurry)\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"fullScreen\", false, function(cm, val, old) {\n    if (old == CodeMirror.Init) old = false;\n    if (!old == !val) return;\n    if (val) setFullscreen(cm);\n    else setNormal(cm);\n  });\n\n  function setFullscreen(cm) {\n    var wrap = cm.getWrapperElement();\n    cm.state.fullScreenRestore = {scrollTop: window.pageYOffset, scrollLeft: window.pageXOffset,\n                                  width: wrap.style.width, height: wrap.style.height};\n    wrap.style.width = \"\";\n    wrap.style.height = \"auto\";\n    wrap.className += \" CodeMirror-fullscreen\";\n    document.documentElement.style.overflow = \"hidden\";\n    cm.refresh();\n  }\n\n  function setNormal(cm) {\n    var wrap = cm.getWrapperElement();\n    wrap.className = wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/, \"\");\n    document.documentElement.style.overflow = \"\";\n    var info = cm.state.fullScreenRestore;\n    wrap.style.width = info.width; wrap.style.height = info.height;\n    window.scrollTo(info.scrollLeft, info.scrollTop);\n    cm.refresh();\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      CodeMirror.on(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose = function() { onComposition(cm) })\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      CodeMirror.off(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose)\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\")\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder)\n    elt.appendChild(placeHolder)\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onComposition(cm) {\n    setTimeout(function() {\n      var empty = false\n      if (cm.lineCount() == 1) {\n        var input = cm.getInputField()\n        empty = input.nodeName == \"TEXTAREA\" ? !cm.getLine(0).length\n          : !/[^\\u200b]/.test(input.querySelector(\".CodeMirror-line\").textContent)\n      }\n      if (empty) setPlaceholder(cm)\n      else clearPlaceholder(cm)\n    }, 20)\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(), empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n\n    if (empty) setPlaceholder(cm);\n    else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return (cm.lineCount() === 1) && (cm.getLine(0) === \"\");\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var listRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]\\s|[*+-]\\s|(\\d+)([.)]))(\\s*)/,\n      emptyListRE = /^(\\s*)(>[> ]*|[*+-] \\[[x ]\\]|[*+-]|(\\d+)[.)])(\\s*)$/,\n      unorderedListRE = /[*+-]\\s/;\n\n  CodeMirror.commands.newlineAndIndentContinueMarkdownList = function(cm) {\n    if (cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n    var ranges = cm.listSelections(), replacements = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].head;\n\n      // If we're not in Markdown mode, fall back to normal newlineAndIndent\n      var eolState = cm.getStateAfter(pos.line);\n      var inner = CodeMirror.innerMode(cm.getMode(), eolState);\n      if (inner.mode.name !== \"markdown\" && inner.mode.helperType !== \"markdown\") {\n        cm.execCommand(\"newlineAndIndent\");\n        return;\n      } else {\n        eolState = inner.state;\n      }\n\n      var inList = eolState.list !== false;\n      var inQuote = eolState.quote !== 0;\n\n      var line = cm.getLine(pos.line), match = listRE.exec(line);\n      var cursorBeforeBullet = /^\\s*$/.test(line.slice(0, pos.ch));\n      if (!ranges[i].empty() || (!inList && !inQuote) || !match || cursorBeforeBullet) {\n        cm.execCommand(\"newlineAndIndent\");\n        return;\n      }\n      if (emptyListRE.test(line)) {\n        var endOfQuote = inQuote && />\\s*$/.test(line)\n        var endOfList = !/>\\s*$/.test(line)\n        if (endOfQuote || endOfList) cm.replaceRange(\"\", {\n          line: pos.line, ch: 0\n        }, {\n          line: pos.line, ch: pos.ch + 1\n        });\n        replacements[i] = \"\\n\";\n      } else {\n        var indent = match[1], after = match[5];\n        var numbered = !(unorderedListRE.test(match[2]) || match[2].indexOf(\">\") >= 0);\n        var bullet = numbered ? (parseInt(match[3], 10) + 1) + match[4] : match[2].replace(\"x\", \" \");\n        replacements[i] = \"\\n\" + indent + bullet + after;\n\n        if (numbered) incrementRemainingMarkdownListNumbers(cm, pos);\n      }\n    }\n\n    cm.replaceSelections(replacements);\n  };\n\n  // Auto-updating Markdown list numbers when a new item is added to the\n  // middle of a list\n  function incrementRemainingMarkdownListNumbers(cm, pos) {\n    var startLine = pos.line, lookAhead = 0, skipCount = 0;\n    var startItem = listRE.exec(cm.getLine(startLine)), startIndent = startItem[1];\n\n    do {\n      lookAhead += 1;\n      var nextLineNumber = startLine + lookAhead;\n      var nextLine = cm.getLine(nextLineNumber), nextItem = listRE.exec(nextLine);\n\n      if (nextItem) {\n        var nextIndent = nextItem[1];\n        var newNumber = (parseInt(startItem[3], 10) + lookAhead - skipCount);\n        var nextNumber = (parseInt(nextItem[3], 10)), itemNumber = nextNumber;\n\n        if (startIndent === nextIndent && !isNaN(nextNumber)) {\n          if (newNumber === nextNumber) itemNumber = nextNumber + 1;\n          if (newNumber > nextNumber) itemNumber = newNumber + 1;\n          cm.replaceRange(\n            nextLine.replace(listRE, nextIndent + itemNumber + nextItem[4] + nextItem[5]),\n          {\n            line: nextLineNumber, ch: 0\n          }, {\n            line: nextLineNumber, ch: nextLine.length\n          });\n        } else {\n          if (startIndent.length > nextIndent.length) return;\n          // This doesn't run if the next line immediately indents, as it is\n          // not clear of the users intention (new indented item or same level)\n          if ((startIndent.length < nextIndent.length) && (lookAhead === 1)) return;\n          skipCount += 1;\n        }\n      }\n    } while (nextItem);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Utility function that allows modes to be combined. The mode given\n// as the base argument takes care of most of the normal mode\n// functionality, but a second (typically simple) mode is used, which\n// can override the style of text. Both modes get to parse all of the\n// text, but when both assign a non-null style to a piece of code, the\n// overlay wins, unless the combine argument was true and not overridden,\n// or state.overlay.combineTokens was true, in which case the styles are\n// combined.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.overlayMode = function(base, overlay, combine) {\n  return {\n    startState: function() {\n      return {\n        base: CodeMirror.startState(base),\n        overlay: CodeMirror.startState(overlay),\n        basePos: 0, baseCur: null,\n        overlayPos: 0, overlayCur: null,\n        streamSeen: null\n      };\n    },\n    copyState: function(state) {\n      return {\n        base: CodeMirror.copyState(base, state.base),\n        overlay: CodeMirror.copyState(overlay, state.overlay),\n        basePos: state.basePos, baseCur: null,\n        overlayPos: state.overlayPos, overlayCur: null\n      };\n    },\n\n    token: function(stream, state) {\n      if (stream != state.streamSeen ||\n          Math.min(state.basePos, state.overlayPos) < stream.start) {\n        state.streamSeen = stream;\n        state.basePos = state.overlayPos = stream.start;\n      }\n\n      if (stream.start == state.basePos) {\n        state.baseCur = base.token(stream, state.base);\n        state.basePos = stream.pos;\n      }\n      if (stream.start == state.overlayPos) {\n        stream.pos = stream.start;\n        state.overlayCur = overlay.token(stream, state.overlay);\n        state.overlayPos = stream.pos;\n      }\n      stream.pos = Math.min(state.basePos, state.overlayPos);\n\n      // state.overlay.combineTokens always takes precedence over combine,\n      // unless set to null\n      if (state.overlayCur == null) return state.baseCur;\n      else if (state.baseCur != null &&\n               state.overlay.combineTokens ||\n               combine && state.overlay.combineTokens == null)\n        return state.baseCur + \" \" + state.overlayCur;\n      else return state.overlayCur;\n    },\n\n    indent: base.indent && function(state, textAfter, line) {\n      return base.indent(state.base, textAfter, line);\n    },\n    electricChars: base.electricChars,\n\n    innerMode: function(state) { return {state: state.base, mode: base}; },\n\n    blankLine: function(state) {\n      var baseToken, overlayToken;\n      if (base.blankLine) baseToken = base.blankLine(state.base);\n      if (overlay.blankLine) overlayToken = overlay.blankLine(state.overlay);\n\n      return overlayToken == null ?\n        baseToken :\n        (combine && baseToken != null ? baseToken + \" \" + overlayToken : overlayToken);\n    }\n  };\n};\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp), target = current\n    for (var i = 0; i < flags.length; i++) if (target.indexOf(flags.charAt(i)) == -1)\n      target += flags.charAt(i)\n    return current == target ? regexp : new RegExp(regexp.source, target)\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp, endMargin) {\n    var match, from = 0\n    while (from <= string.length) {\n      regexp.lastIndex = from\n      var newMatch = regexp.exec(string)\n      if (!newMatch) break\n      var end = newMatch.index + newMatch[0].length\n      if (end > string.length - endMargin) break\n      if (!match || end > match.index + match[0].length)\n        match = newMatch\n      from = newMatch.index + 1\n    }\n    return match\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      var match = lastMatchIn(string, regexp, ch < 0 ? 0 : string.length - ch)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpBackward(doc, regexp, start)\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunkSize = 1, endMargin = doc.getLine(start.line).length - start.ch\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunkSize && line >= first; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine : curLine + \"\\n\" + string\n      }\n      chunkSize *= 2\n\n      var match = lastMatchIn(string, regexp, endMargin)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (endString.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.afterEmptyMatch = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { // Backwards compat for when caseFold was the 4th argument\n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureFlags(query, \"gm\")\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var head = this.doc.clipPos(reverse ? this.pos.from : this.pos.to);\n      if (this.afterEmptyMatch && this.atOccurrence) {\n        // do not return the same 0 width match twice\n        head = Pos(head.line, head.ch)\n        if (reverse) {\n          head.ch--;\n          if (head.ch < 0) {\n            head.line--;\n            head.ch = (this.doc.getLine(head.line) || \"\").length;\n          }\n        } else {\n          head.ch++;\n          if (head.ch > (this.doc.getLine(head.line) || \"\").length) {\n            head.ch = 0;\n            head.line++;\n          }\n        }\n        if (CodeMirror.cmpPos(head, this.doc.clipPos(head)) != 0) {\n           return this.atOccurrence = false\n        }\n      }\n      var result = this.matches(reverse, head)\n      this.afterEmptyMatch = result && CodeMirror.cmpPos(result.from, result.to) == 0\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Because sometimes you need to mark the selected *text*.\n//\n// Adds an option 'styleSelectedText' which, when enabled, gives\n// selected text the CSS class given as option value, or\n// \"CodeMirror-selectedtext\" when the value is not a string.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"styleSelectedText\", false, function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.state.markedSelection = [];\n      cm.state.markedSelectionStyle = typeof val == \"string\" ? val : \"CodeMirror-selectedtext\";\n      reset(cm);\n      cm.on(\"cursorActivity\", onCursorActivity);\n      cm.on(\"change\", onChange);\n    } else if (!val && prev) {\n      cm.off(\"cursorActivity\", onCursorActivity);\n      cm.off(\"change\", onChange);\n      clear(cm);\n      cm.state.markedSelection = cm.state.markedSelectionStyle = null;\n    }\n  });\n\n  function onCursorActivity(cm) {\n    if (cm.state.markedSelection)\n      cm.operation(function() { update(cm); });\n  }\n\n  function onChange(cm) {\n    if (cm.state.markedSelection && cm.state.markedSelection.length)\n      cm.operation(function() { clear(cm); });\n  }\n\n  var CHUNK_SIZE = 8;\n  var Pos = CodeMirror.Pos;\n  var cmp = CodeMirror.cmpPos;\n\n  function coverRange(cm, from, to, addAt) {\n    if (cmp(from, to) == 0) return;\n    var array = cm.state.markedSelection;\n    var cls = cm.state.markedSelectionStyle;\n    for (var line = from.line;;) {\n      var start = line == from.line ? from : Pos(line, 0);\n      var endLine = line + CHUNK_SIZE, atEnd = endLine >= to.line;\n      var end = atEnd ? to : Pos(endLine, 0);\n      var mark = cm.markText(start, end, {className: cls});\n      if (addAt == null) array.push(mark);\n      else array.splice(addAt++, 0, mark);\n      if (atEnd) break;\n      line = endLine;\n    }\n  }\n\n  function clear(cm) {\n    var array = cm.state.markedSelection;\n    for (var i = 0; i < array.length; ++i) array[i].clear();\n    array.length = 0;\n  }\n\n  function reset(cm) {\n    clear(cm);\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++)\n      coverRange(cm, ranges[i].from(), ranges[i].to());\n  }\n\n  function update(cm) {\n    if (!cm.somethingSelected()) return clear(cm);\n    if (cm.listSelections().length > 1) return reset(cm);\n\n    var from = cm.getCursor(\"start\"), to = cm.getCursor(\"end\");\n\n    var array = cm.state.markedSelection;\n    if (!array.length) return coverRange(cm, from, to);\n\n    var coverStart = array[0].find(), coverEnd = array[array.length - 1].find();\n    if (!coverStart || !coverEnd || to.line - from.line <= CHUNK_SIZE ||\n        cmp(from, coverEnd.to) >= 0 || cmp(to, coverStart.from) <= 0)\n      return reset(cm);\n\n    while (cmp(from, coverStart.from) > 0) {\n      array.shift().clear();\n      coverStart = array[0].find();\n    }\n    if (cmp(from, coverStart.from) < 0) {\n      if (coverStart.to.line - from.line < CHUNK_SIZE) {\n        array.shift().clear();\n        coverRange(cm, from, coverStart.to, 0);\n      } else {\n        coverRange(cm, from, coverStart.from, 0);\n      }\n    }\n\n    while (cmp(to, coverEnd.to) < 0) {\n      array.pop().clear();\n      coverEnd = array[array.length - 1].find();\n    }\n    if (cmp(to, coverEnd.to) > 0) {\n      if (to.line - coverEnd.from.line < CHUNK_SIZE) {\n        array.pop().clear();\n        coverRange(cm, coverEnd.from, to);\n      } else {\n        coverRange(cm, coverEnd.to, to);\n      }\n    }\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../markdown/markdown\"), require(\"../../addon/mode/overlay\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../markdown/markdown\", \"../../addon/mode/overlay\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar urlRE = /^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\\.beep|\\.lwz|\\.xpc|\\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\\.beeps?|xmpp|xri|ymsgr|z39\\.50[rs]?):(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]|\\([^\\s()<>]*\\))+(?:\\([^\\s()<>]*\\)|[^\\s`*!()\\[\\]{};:'\".,<>?«»“”‘’]))/i\n\nCodeMirror.defineMode(\"gfm\", function(config, modeConfig) {\n  var codeDepth = 0;\n  function blankLine(state) {\n    state.code = false;\n    return null;\n  }\n  var gfmOverlay = {\n    startState: function() {\n      return {\n        code: false,\n        codeBlock: false,\n        ateSpace: false\n      };\n    },\n    copyState: function(s) {\n      return {\n        code: s.code,\n        codeBlock: s.codeBlock,\n        ateSpace: s.ateSpace\n      };\n    },\n    token: function(stream, state) {\n      state.combineTokens = null;\n\n      // Hack to prevent formatting override inside code blocks (block and inline)\n      if (state.codeBlock) {\n        if (stream.match(/^```+/)) {\n          state.codeBlock = false;\n          return null;\n        }\n        stream.skipToEnd();\n        return null;\n      }\n      if (stream.sol()) {\n        state.code = false;\n      }\n      if (stream.sol() && stream.match(/^```+/)) {\n        stream.skipToEnd();\n        state.codeBlock = true;\n        return null;\n      }\n      // If this block is changed, it may need to be updated in Markdown mode\n      if (stream.peek() === '`') {\n        stream.next();\n        var before = stream.pos;\n        stream.eatWhile('`');\n        var difference = 1 + stream.pos - before;\n        if (!state.code) {\n          codeDepth = difference;\n          state.code = true;\n        } else {\n          if (difference === codeDepth) { // Must be exact\n            state.code = false;\n          }\n        }\n        return null;\n      } else if (state.code) {\n        stream.next();\n        return null;\n      }\n      // Check if space. If so, links can be formatted later on\n      if (stream.eatSpace()) {\n        state.ateSpace = true;\n        return null;\n      }\n      if (stream.sol() || state.ateSpace) {\n        state.ateSpace = false;\n        if (modeConfig.gitHubSpice !== false) {\n          if(stream.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+@)?(?=.{0,6}\\d)(?:[a-f0-9]{7,40}\\b)/)) {\n            // User/Project@SHA\n            // User@SHA\n            // SHA\n            state.combineTokens = true;\n            return \"link\";\n          } else if (stream.match(/^(?:[a-zA-Z0-9\\-_]+\\/)?(?:[a-zA-Z0-9\\-_]+)?#[0-9]+\\b/)) {\n            // User/Project#Num\n            // User#Num\n            // #Num\n            state.combineTokens = true;\n            return \"link\";\n          }\n        }\n      }\n      if (stream.match(urlRE) &&\n          stream.string.slice(stream.start - 2, stream.start) != \"](\" &&\n          (stream.start == 0 || /\\W/.test(stream.string.charAt(stream.start - 1)))) {\n        // URLs\n        // Taken from http://daringfireball.net/2010/07/improved_regex_for_matching_urls\n        // And then (issue #1160) simplified to make it not crash the Chrome Regexp engine\n        // And then limited url schemes to the CommonMark list, so foo:bar isn't matched as a URL\n        state.combineTokens = true;\n        return \"link\";\n      }\n      stream.next();\n      return null;\n    },\n    blankLine: blankLine\n  };\n\n  var markdownConfig = {\n    taskLists: true,\n    strikethrough: true,\n    emoji: true\n  };\n  for (var attr in modeConfig) {\n    markdownConfig[attr] = modeConfig[attr];\n  }\n  markdownConfig.name = \"markdown\";\n  return CodeMirror.overlayMode(CodeMirror.getMode(config, markdownConfig), gfmOverlay);\n\n}, \"markdown\");\n\n  CodeMirror.defineMIME(\"text/x-gfm\", \"gfm\");\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"asc\", \"pgp\", \"sig\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\", \"ino\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\", \"cbl\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\", \"cs\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists\\.txt$/},\n    {name: \"CoffeeScript\", mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"], mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded JavaScript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Esper\", mime: \"text/x-esper\", mode: \"sql\"},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history)\\.md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"], file: /^Jenkinsfile$/},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Pug\", mime: \"text/x-pug\", mode: \"pug\", ext: [\"jade\", \"pug\"], alias: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"text/jinja2\", mode: \"jinja2\", ext: [\"j2\", \"jinja\", \"jinja2\"]},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"], alias: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\", \"wl\", \"wls\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n     mode: \"ntriples\", ext: [\"nt\", \"nq\"]},\n    {name: \"Objective-C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"Objective-C++\", mime: \"text/x-objectivec++\", mode: \"clike\", ext: [\"mm\"], alias: [\"objective-c++\", \"objc++\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"], mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PostgreSQL\", mime: \"text/x-pgsql\", mode: \"sql\"},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\", \"R\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mimes: [\"text/x-sh\", \"application/x-sh\"], mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"SML\", mime: \"text/x-sml\", mode: \"mllike\", ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"SQLite\", mime: \"text/x-sqlite\", mode: \"sql\"},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Stylus\", mime: \"text/x-styl\", mode: \"stylus\", ext: [\"styl\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\", \"tex\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\", \"sv\", \"svh\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki\", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"TypeScript-JSX\", mime: \"text/typescript-jsx\", mode: \"jsx\", ext: [\"tsx\"], alias: [\"tsx\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"Vue.js Component\", mimes: [\"script/x-vue\", \"text/x-vue\"], mode: \"vue\", ext: [\"vue\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mimes: [\"text/x-yaml\", \"text/yaml\"], mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]},\n    {name: \"WebAssembly\", mime: \"text/webassembly\", mode: \"wast\", ext: [\"wat\", \"wast\"]},\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\")\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\")\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    ext = ext.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function lower(tagName) {\n    return tagName && tagName.toLowerCase();\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(lower(parentTagName)) ||\n          !config.contextGrabbers[lower(parentTagName)].hasOwnProperty(lower(nextTagName))) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(lower(state.context.tagName)))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(lower(tagName))) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(lower(context.tagName))) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[lower(context.tagName)];\n          if (grabbers && grabbers.hasOwnProperty(lower(tagAfter[2])))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\nvar CodeMirror = require('codemirror');\n\nCodeMirror.commands.tabAndIndentMarkdownList = function (cm) {\n    var ranges = cm.listSelections();\n    var pos = ranges[0].head;\n    var eolState = cm.getStateAfter(pos.line);\n    var inList = eolState.list !== false;\n\n    if (inList) {\n        cm.execCommand('indentMore');\n        return;\n    }\n\n    if (cm.options.indentWithTabs) {\n        cm.execCommand('insertTab');\n    } else {\n        var spaces = Array(cm.options.tabSize + 1).join(' ');\n        cm.replaceSelection(spaces);\n    }\n};\n\nCodeMirror.commands.shiftTabAndUnindentMarkdownList = function (cm) {\n    var ranges = cm.listSelections();\n    var pos = ranges[0].head;\n    var eolState = cm.getStateAfter(pos.line);\n    var inList = eolState.list !== false;\n\n    if (inList) {\n        cm.execCommand('indentLess');\n        return;\n    }\n\n    if (cm.options.indentWithTabs) {\n        cm.execCommand('insertTab');\n    } else {\n        var spaces = Array(cm.options.tabSize + 1).join(' ');\n        cm.replaceSelection(spaces);\n    }\n};\n","'use strict';\nvar CodeMirror = require('codemirror');\nrequire('codemirror/addon/edit/continuelist.js');\nrequire('./codemirror/tablist');\nrequire('codemirror/addon/display/fullscreen.js');\nrequire('codemirror/mode/markdown/markdown.js');\nrequire('codemirror/addon/mode/overlay.js');\nrequire('codemirror/addon/display/placeholder.js');\nrequire('codemirror/addon/display/autorefresh.js');\nrequire('codemirror/addon/selection/mark-selection.js');\nrequire('codemirror/addon/search/searchcursor.js');\nrequire('codemirror/mode/gfm/gfm.js');\nrequire('codemirror/mode/xml/xml.js');\nvar CodeMirrorSpellChecker = require('codemirror-spell-checker');\nvar marked = require('marked').marked;\n\n\n// Some variables\nvar isMac = /Mac/.test(navigator.platform);\nvar anchorToExternalRegex = new RegExp(/(<a.*?https?:\\/\\/.*?[^a]>)+?/g);\n\n// Mapping of actions that can be bound to keyboard shortcuts or toolbar buttons\nvar bindings = {\n    'toggleBold': toggleBold,\n    'toggleItalic': toggleItalic,\n    'drawLink': drawLink,\n    'toggleHeadingSmaller': toggleHeadingSmaller,\n    'toggleHeadingBigger': toggleHeadingBigger,\n    'drawImage': drawImage,\n    'toggleBlockquote': toggleBlockquote,\n    'toggleOrderedList': toggleOrderedList,\n    'toggleUnorderedList': toggleUnorderedList,\n    'toggleCodeBlock': toggleCodeBlock,\n    'togglePreview': togglePreview,\n    'toggleStrikethrough': toggleStrikethrough,\n    'toggleHeading1': toggleHeading1,\n    'toggleHeading2': toggleHeading2,\n    'toggleHeading3': toggleHeading3,\n    'toggleHeading4': toggleHeading4,\n    'toggleHeading5': toggleHeading5,\n    'toggleHeading6': toggleHeading6,\n    'cleanBlock': cleanBlock,\n    'drawTable': drawTable,\n    'drawHorizontalRule': drawHorizontalRule,\n    'undo': undo,\n    'redo': redo,\n    'toggleSideBySide': toggleSideBySide,\n    'toggleFullScreen': toggleFullScreen,\n};\n\nvar shortcuts = {\n    'toggleBold': 'Cmd-B',\n    'toggleItalic': 'Cmd-I',\n    'drawLink': 'Cmd-K',\n    'toggleHeadingSmaller': 'Cmd-H',\n    'toggleHeadingBigger': 'Shift-Cmd-H',\n    'toggleHeading1': 'Ctrl+Alt+1',\n    'toggleHeading2': 'Ctrl+Alt+2',\n    'toggleHeading3': 'Ctrl+Alt+3',\n    'toggleHeading4': 'Ctrl+Alt+4',\n    'toggleHeading5': 'Ctrl+Alt+5',\n    'toggleHeading6': 'Ctrl+Alt+6',\n    'cleanBlock': 'Cmd-E',\n    'drawImage': 'Cmd-Alt-I',\n    'toggleBlockquote': 'Cmd-\\'',\n    'toggleOrderedList': 'Cmd-Alt-L',\n    'toggleUnorderedList': 'Cmd-L',\n    'toggleCodeBlock': 'Cmd-Alt-C',\n    'togglePreview': 'Cmd-P',\n    'toggleSideBySide': 'F9',\n    'toggleFullScreen': 'F11',\n};\n\nvar getBindingName = function (f) {\n    for (var key in bindings) {\n        if (bindings[key] === f) {\n            return key;\n        }\n    }\n    return null;\n};\n\nvar isMobile = function () {\n    var check = false;\n    (function (a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0, 4))) check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n};\n\n/**\n * Modify HTML to add 'target=\"_blank\"' to links so they open in new tabs by default.\n * @param {string} htmlText - HTML to be modified.\n * @return {string} The modified HTML text.\n */\nfunction addAnchorTargetBlank(htmlText) {\n    var match;\n    while ((match = anchorToExternalRegex.exec(htmlText)) !== null) {\n        // With only one capture group in the RegExp, we can safely take the first index from the match.\n        var linkString = match[0];\n\n        if (linkString.indexOf('target=') === -1) {\n            var fixedLinkString = linkString.replace(/>$/, ' target=\"_blank\">');\n            htmlText = htmlText.replace(linkString, fixedLinkString);\n        }\n    }\n    return htmlText;\n}\n\n/**\n * Modify HTML to remove the list-style when rendering checkboxes.\n * @param {string} htmlText - HTML to be modified.\n * @return {string} The modified HTML text.\n */\nfunction removeListStyleWhenCheckbox(htmlText) {\n\n    var parser = new DOMParser();\n    var htmlDoc = parser.parseFromString(htmlText, 'text/html');\n    var listItems = htmlDoc.getElementsByTagName('li');\n\n    for (var i = 0; i < listItems.length; i++) {\n        var listItem = listItems[i];\n\n        for (var j = 0; j < listItem.children.length; j++) {\n            var listItemChild = listItem.children[j];\n\n            if (listItemChild instanceof HTMLInputElement && listItemChild.type === 'checkbox') {\n                // From Github: margin: 0 .2em .25em -1.6em;\n                listItem.style.marginLeft = '-1.5em';\n                listItem.style.listStyleType = 'none';\n            }\n        }\n    }\n\n    return htmlDoc.documentElement.innerHTML;\n}\n\n/**\n * Fix shortcut. Mac use Command, others use Ctrl.\n */\nfunction fixShortcut(name) {\n    if (isMac) {\n        name = name.replace('Ctrl', 'Cmd');\n    } else {\n        name = name.replace('Cmd', 'Ctrl');\n    }\n    return name;\n}\n\n/**\n * Create dropdown block\n */\nfunction createToolbarDropdown(options, enableTooltips, shortcuts, parent) {\n    var el = createToolbarButton(options, false, enableTooltips, shortcuts, 'button', parent);\n    el.classList.add('easymde-dropdown');\n\n    el.onclick = function () {\n        el.focus();\n    };\n\n    var content = document.createElement('div');\n    content.className = 'easymde-dropdown-content';\n    for (var childrenIndex = 0; childrenIndex < options.children.length; childrenIndex++) {\n\n        var child = options.children[childrenIndex];\n        var childElement;\n\n        if (typeof child === 'string' && child in toolbarBuiltInButtons) {\n            childElement = createToolbarButton(toolbarBuiltInButtons[child], true, enableTooltips, shortcuts, 'button', parent);\n        } else {\n            childElement = createToolbarButton(child, true, enableTooltips, shortcuts, 'button', parent);\n        }\n\n        childElement.addEventListener('click', function (e) { e.stopPropagation(); }, false);\n        content.appendChild(childElement);\n    }\n    el.appendChild(content);\n    return el;\n}\n\n/**\n * Create button element for toolbar.\n */\nfunction createToolbarButton(options, enableActions, enableTooltips, shortcuts, markup, parent) {\n    options = options || {};\n    var el = document.createElement(markup);\n\n    // Add 'custom' attributes as early as possible, so that 'official' attributes will never be overwritten.\n    if (options.attributes) {\n        for (var attribute in options.attributes) {\n            if (Object.prototype.hasOwnProperty.call(options.attributes, attribute)) {\n                el.setAttribute(attribute, options.attributes[attribute]);\n            }\n        }\n    }\n\n    var classNamePrefix = parent.options.toolbarButtonClassPrefix ? parent.options.toolbarButtonClassPrefix + '-' : '';\n    el.className = classNamePrefix + options.name;\n    el.setAttribute('type', markup);\n    enableTooltips = (enableTooltips == undefined) ? true : enableTooltips;\n\n    if (options.text) {\n        el.innerText = options.text;\n    }\n\n    // Properly handle custom shortcuts\n    if (options.name && options.name in shortcuts) {\n        bindings[options.name] = options.action;\n    }\n\n    if (options.title && enableTooltips) {\n        el.title = createTooltip(options.title, options.action, shortcuts);\n\n        if (isMac) {\n            el.title = el.title.replace('Ctrl', '⌘');\n            el.title = el.title.replace('Alt', '⌥');\n        }\n    }\n\n    if (options.title) {\n        el.setAttribute('aria-label', options.title);\n    }\n\n    if (options.noDisable) {\n        el.classList.add('no-disable');\n    }\n\n    if (options.noMobile) {\n        el.classList.add('no-mobile');\n    }\n\n    // Prevent errors if there is no class name in custom options\n    var classNameParts = [];\n    if (typeof options.className !== 'undefined') {\n        classNameParts = options.className.split(' ');\n    }\n\n    // Provide backwards compatibility with simple-markdown-editor by adding custom classes to the button.\n    var iconClasses = [];\n    for (var classNameIndex = 0; classNameIndex < classNameParts.length; classNameIndex++) {\n        var classNamePart = classNameParts[classNameIndex];\n        // Split icon classes from the button.\n        // Regex will detect \"fa\", \"fas\", \"fa-something\" and \"fa-some-icon-1\", but not \"fanfare\".\n        if (classNamePart.match(/^fa([srlb]|(-[\\w-]*)|$)/)) {\n            iconClasses.push(classNamePart);\n        } else {\n            el.classList.add(classNamePart);\n        }\n    }\n\n    el.tabIndex = -1;\n\n    if (iconClasses.length > 0) {\n        // Create icon element and append as a child to the button\n        var icon = document.createElement('i');\n        for (var iconClassIndex = 0; iconClassIndex < iconClasses.length; iconClassIndex++) {\n            var iconClass = iconClasses[iconClassIndex];\n            icon.classList.add(iconClass);\n        }\n        el.appendChild(icon);\n    }\n\n    // If there is a custom icon markup set, use that\n    if (typeof options.icon !== 'undefined') {\n        el.innerHTML = options.icon;\n    }\n\n    if (options.action && enableActions) {\n        if (typeof options.action === 'function') {\n            el.onclick = function (e) {\n                e.preventDefault();\n                options.action(parent);\n            };\n        } else if (typeof options.action === 'string') {\n            el.onclick = function (e) {\n                e.preventDefault();\n                window.open(options.action, '_blank');\n            };\n        }\n    }\n\n    return el;\n}\n\nfunction createSep() {\n    var el = document.createElement('i');\n    el.className = 'separator';\n    el.innerHTML = '|';\n    return el;\n}\n\nfunction createTooltip(title, action, shortcuts) {\n    var actionName;\n    var tooltip = title;\n\n    if (action) {\n        actionName = getBindingName(action);\n        if (shortcuts[actionName]) {\n            tooltip += ' (' + fixShortcut(shortcuts[actionName]) + ')';\n        }\n    }\n\n    return tooltip;\n}\n\n/**\n * The state of CodeMirror at the given position.\n */\nfunction getState(cm, pos) {\n    pos = pos || cm.getCursor('start');\n    var stat = cm.getTokenAt(pos);\n    if (!stat.type) return {};\n\n    var types = stat.type.split(' ');\n\n    var ret = {},\n        data, text;\n    for (var i = 0; i < types.length; i++) {\n        data = types[i];\n        if (data === 'strong') {\n            ret.bold = true;\n        } else if (data === 'variable-2') {\n            text = cm.getLine(pos.line);\n            if (/^\\s*\\d+\\.\\s/.test(text)) {\n                ret['ordered-list'] = true;\n            } else {\n                ret['unordered-list'] = true;\n            }\n        } else if (data === 'atom') {\n            ret.quote = true;\n        } else if (data === 'em') {\n            ret.italic = true;\n        } else if (data === 'quote') {\n            ret.quote = true;\n        } else if (data === 'strikethrough') {\n            ret.strikethrough = true;\n        } else if (data === 'comment') {\n            ret.code = true;\n        } else if (data === 'link' && !ret.image) {\n            ret.link = true;\n        } else if (data === 'image') {\n            ret.image = true;\n        } else if (data.match(/^header(-[1-6])?$/)) {\n            ret[data.replace('header', 'heading')] = true;\n        }\n    }\n    return ret;\n}\n\n\n// Saved overflow setting\nvar saved_overflow = '';\n\n/**\n * Toggle full screen of the editor.\n * @param {EasyMDE} editor\n */\nfunction toggleFullScreen(editor) {\n    // Set fullscreen\n    var cm = editor.codemirror;\n    cm.setOption('fullScreen', !cm.getOption('fullScreen'));\n\n\n    // Prevent scrolling on body during fullscreen active\n    if (cm.getOption('fullScreen')) {\n        saved_overflow = document.body.style.overflow;\n        document.body.style.overflow = 'hidden';\n    } else {\n        document.body.style.overflow = saved_overflow;\n    }\n\n    var wrapper = cm.getWrapperElement();\n    var sidebyside = wrapper.nextSibling;\n\n    if (sidebyside.classList.contains('editor-preview-active-side')) {\n        if (editor.options.sideBySideFullscreen === false) {\n            // if side-by-side not-fullscreen ok, apply classes as needed\n            var easyMDEContainer = wrapper.parentNode;\n            if (cm.getOption('fullScreen')) {\n                easyMDEContainer.classList.remove('sided--no-fullscreen');\n            } else {\n                easyMDEContainer.classList.add('sided--no-fullscreen');\n            }\n        } else {\n            toggleSideBySide(editor);\n        }\n    }\n\n    if (editor.options.onToggleFullScreen) {\n        editor.options.onToggleFullScreen(cm.getOption('fullScreen') || false);\n    }\n\n    // Remove or set maxHeight\n    if (typeof editor.options.maxHeight !== 'undefined') {\n        if (cm.getOption('fullScreen')) {\n            cm.getScrollerElement().style.removeProperty('height');\n            sidebyside.style.removeProperty('height');\n        } else {\n            cm.getScrollerElement().style.height = editor.options.maxHeight;\n            editor.setPreviewMaxHeight();\n        }\n    }\n\n    // Update toolbar class\n    editor.toolbar_div.classList.toggle('fullscreen');\n\n    // Update toolbar button\n    if (editor.toolbarElements && editor.toolbarElements.fullscreen) {\n        var toolbarButton = editor.toolbarElements.fullscreen;\n        toolbarButton.classList.toggle('active');\n    }\n}\n\n\n/**\n * Action for toggling bold.\n * @param {EasyMDE} editor\n */\nfunction toggleBold(editor) {\n    _toggleBlock(editor, 'bold', editor.options.blockStyles.bold);\n}\n\n\n/**\n * Action for toggling italic.\n * @param {EasyMDE} editor\n */\nfunction toggleItalic(editor) {\n    _toggleBlock(editor, 'italic', editor.options.blockStyles.italic);\n}\n\n\n/**\n * Action for toggling strikethrough.\n * @param {EasyMDE} editor\n */\nfunction toggleStrikethrough(editor) {\n    _toggleBlock(editor, 'strikethrough', '~~');\n}\n\n/**\n * Action for toggling code block.\n * @param {EasyMDE} editor\n */\nfunction toggleCodeBlock(editor) {\n    var fenceCharsToInsert = editor.options.blockStyles.code;\n\n    function fencing_line(line) {\n        /* return true, if this is a ``` or ~~~ line */\n        if (typeof line !== 'object') {\n            throw 'fencing_line() takes a \\'line\\' object (not a line number, or line text).  Got: ' + typeof line + ': ' + line;\n        }\n        return line.styles && line.styles[2] && line.styles[2].indexOf('formatting-code-block') !== -1;\n    }\n\n    function token_state(token) {\n        // base goes an extra level deep when mode backdrops are used, e.g. spellchecker on\n        return token.state.base.base || token.state.base;\n    }\n\n    function code_type(cm, line_num, line, firstTok, lastTok) {\n        /*\n         * Return \"single\", \"indented\", \"fenced\" or false\n         *\n         * cm and line_num are required.  Others are optional for efficiency\n         *   To check in the middle of a line, pass in firstTok yourself.\n         */\n        line = line || cm.getLineHandle(line_num);\n        firstTok = firstTok || cm.getTokenAt({\n            line: line_num,\n            ch: 1,\n        });\n        lastTok = lastTok || (!!line.text && cm.getTokenAt({\n            line: line_num,\n            ch: line.text.length - 1,\n        }));\n        var types = firstTok.type ? firstTok.type.split(' ') : [];\n        if (lastTok && token_state(lastTok).indentedCode) {\n            // have to check last char, since first chars of first line aren\"t marked as indented\n            return 'indented';\n        } else if (types.indexOf('comment') === -1) {\n            // has to be after \"indented\" check, since first chars of first indented line aren\"t marked as such\n            return false;\n        } else if (token_state(firstTok).fencedChars || token_state(lastTok).fencedChars || fencing_line(line)) {\n            return 'fenced';\n        } else {\n            return 'single';\n        }\n    }\n\n    function insertFencingAtSelection(cm, cur_start, cur_end, fenceCharsToInsert) {\n        var start_line_sel = cur_start.line + 1,\n            end_line_sel = cur_end.line + 1,\n            sel_multi = cur_start.line !== cur_end.line,\n            repl_start = fenceCharsToInsert + '\\n',\n            repl_end = '\\n' + fenceCharsToInsert;\n        if (sel_multi) {\n            end_line_sel++;\n        }\n        // handle last char including \\n or not\n        if (sel_multi && cur_end.ch === 0) {\n            repl_end = fenceCharsToInsert + '\\n';\n            end_line_sel--;\n        }\n        _replaceSelection(cm, false, [repl_start, repl_end]);\n        cm.setSelection({\n            line: start_line_sel,\n            ch: 0,\n        }, {\n            line: end_line_sel,\n            ch: 0,\n        });\n    }\n\n    var cm = editor.codemirror,\n        cur_start = cm.getCursor('start'),\n        cur_end = cm.getCursor('end'),\n        tok = cm.getTokenAt({\n            line: cur_start.line,\n            ch: cur_start.ch || 1,\n        }), // avoid ch 0 which is a cursor pos but not token\n        line = cm.getLineHandle(cur_start.line),\n        is_code = code_type(cm, cur_start.line, line, tok);\n    var block_start, block_end, lineCount;\n\n    if (is_code === 'single') {\n        // similar to some EasyMDE _toggleBlock logic\n        var start = line.text.slice(0, cur_start.ch).replace('`', ''),\n            end = line.text.slice(cur_start.ch).replace('`', '');\n        cm.replaceRange(start + end, {\n            line: cur_start.line,\n            ch: 0,\n        }, {\n            line: cur_start.line,\n            ch: 99999999999999,\n        });\n        cur_start.ch--;\n        if (cur_start !== cur_end) {\n            cur_end.ch--;\n        }\n        cm.setSelection(cur_start, cur_end);\n        cm.focus();\n    } else if (is_code === 'fenced') {\n        if (cur_start.line !== cur_end.line || cur_start.ch !== cur_end.ch) {\n            // use selection\n\n            // find the fenced line so we know what type it is (tilde, backticks, number of them)\n            for (block_start = cur_start.line; block_start >= 0; block_start--) {\n                line = cm.getLineHandle(block_start);\n                if (fencing_line(line)) {\n                    break;\n                }\n            }\n            var fencedTok = cm.getTokenAt({\n                line: block_start,\n                ch: 1,\n            });\n            var fence_chars = token_state(fencedTok).fencedChars;\n            var start_text, start_line;\n            var end_text, end_line;\n            // check for selection going up against fenced lines, in which case we don't want to add more fencing\n            if (fencing_line(cm.getLineHandle(cur_start.line))) {\n                start_text = '';\n                start_line = cur_start.line;\n            } else if (fencing_line(cm.getLineHandle(cur_start.line - 1))) {\n                start_text = '';\n                start_line = cur_start.line - 1;\n            } else {\n                start_text = fence_chars + '\\n';\n                start_line = cur_start.line;\n            }\n            if (fencing_line(cm.getLineHandle(cur_end.line))) {\n                end_text = '';\n                end_line = cur_end.line;\n                if (cur_end.ch === 0) {\n                    end_line += 1;\n                }\n            } else if (cur_end.ch !== 0 && fencing_line(cm.getLineHandle(cur_end.line + 1))) {\n                end_text = '';\n                end_line = cur_end.line + 1;\n            } else {\n                end_text = fence_chars + '\\n';\n                end_line = cur_end.line + 1;\n            }\n            if (cur_end.ch === 0) {\n                // full last line selected, putting cursor at beginning of next\n                end_line -= 1;\n            }\n            cm.operation(function () {\n                // end line first, so that line numbers don't change\n                cm.replaceRange(end_text, {\n                    line: end_line,\n                    ch: 0,\n                }, {\n                    line: end_line + (end_text ? 0 : 1),\n                    ch: 0,\n                });\n                cm.replaceRange(start_text, {\n                    line: start_line,\n                    ch: 0,\n                }, {\n                    line: start_line + (start_text ? 0 : 1),\n                    ch: 0,\n                });\n            });\n            cm.setSelection({\n                line: start_line + (start_text ? 1 : 0),\n                ch: 0,\n            }, {\n                line: end_line + (start_text ? 1 : -1),\n                ch: 0,\n            });\n            cm.focus();\n        } else {\n            // no selection, search for ends of this fenced block\n            var search_from = cur_start.line;\n            if (fencing_line(cm.getLineHandle(cur_start.line))) { // gets a little tricky if cursor is right on a fenced line\n                if (code_type(cm, cur_start.line + 1) === 'fenced') {\n                    block_start = cur_start.line;\n                    search_from = cur_start.line + 1; // for searching for \"end\"\n                } else {\n                    block_end = cur_start.line;\n                    search_from = cur_start.line - 1; // for searching for \"start\"\n                }\n            }\n            if (block_start === undefined) {\n                for (block_start = search_from; block_start >= 0; block_start--) {\n                    line = cm.getLineHandle(block_start);\n                    if (fencing_line(line)) {\n                        break;\n                    }\n                }\n            }\n            if (block_end === undefined) {\n                lineCount = cm.lineCount();\n                for (block_end = search_from; block_end < lineCount; block_end++) {\n                    line = cm.getLineHandle(block_end);\n                    if (fencing_line(line)) {\n                        break;\n                    }\n                }\n            }\n            cm.operation(function () {\n                cm.replaceRange('', {\n                    line: block_start,\n                    ch: 0,\n                }, {\n                    line: block_start + 1,\n                    ch: 0,\n                });\n                cm.replaceRange('', {\n                    line: block_end - 1,\n                    ch: 0,\n                }, {\n                    line: block_end,\n                    ch: 0,\n                });\n            });\n            cm.focus();\n        }\n    } else if (is_code === 'indented') {\n        if (cur_start.line !== cur_end.line || cur_start.ch !== cur_end.ch) {\n            // use selection\n            block_start = cur_start.line;\n            block_end = cur_end.line;\n            if (cur_end.ch === 0) {\n                block_end--;\n            }\n        } else {\n            // no selection, search for ends of this indented block\n            for (block_start = cur_start.line; block_start >= 0; block_start--) {\n                line = cm.getLineHandle(block_start);\n                if (line.text.match(/^\\s*$/)) {\n                    // empty or all whitespace - keep going\n                    continue;\n                } else {\n                    if (code_type(cm, block_start, line) !== 'indented') {\n                        block_start += 1;\n                        break;\n                    }\n                }\n            }\n            lineCount = cm.lineCount();\n            for (block_end = cur_start.line; block_end < lineCount; block_end++) {\n                line = cm.getLineHandle(block_end);\n                if (line.text.match(/^\\s*$/)) {\n                    // empty or all whitespace - keep going\n                    continue;\n                } else {\n                    if (code_type(cm, block_end, line) !== 'indented') {\n                        block_end -= 1;\n                        break;\n                    }\n                }\n            }\n        }\n        // if we are going to un-indent based on a selected set of lines, and the next line is indented too, we need to\n        // insert a blank line so that the next line(s) continue to be indented code\n        var next_line = cm.getLineHandle(block_end + 1),\n            next_line_last_tok = next_line && cm.getTokenAt({\n                line: block_end + 1,\n                ch: next_line.text.length - 1,\n            }),\n            next_line_indented = next_line_last_tok && token_state(next_line_last_tok).indentedCode;\n        if (next_line_indented) {\n            cm.replaceRange('\\n', {\n                line: block_end + 1,\n                ch: 0,\n            });\n        }\n\n        for (var i = block_start; i <= block_end; i++) {\n            cm.indentLine(i, 'subtract'); // TODO: this doesn't get tracked in the history, so can't be undone :(\n        }\n        cm.focus();\n    } else {\n        // insert code formatting\n        var no_sel_and_starting_of_line = (cur_start.line === cur_end.line && cur_start.ch === cur_end.ch && cur_start.ch === 0);\n        var sel_multi = cur_start.line !== cur_end.line;\n        if (no_sel_and_starting_of_line || sel_multi) {\n            insertFencingAtSelection(cm, cur_start, cur_end, fenceCharsToInsert);\n        } else {\n            _replaceSelection(cm, false, ['`', '`']);\n        }\n    }\n}\n\n/**\n * Action for toggling blockquote.\n */\nfunction toggleBlockquote(editor) {\n    _toggleLine(editor.codemirror, 'quote');\n}\n\n/**\n * Action for toggling heading size: normal -> h1 -> h2 -> h3 -> h4 -> h5 -> h6 -> normal\n */\nfunction toggleHeadingSmaller(editor) {\n    _toggleHeading(editor.codemirror, 'smaller');\n}\n\n/**\n * Action for toggling heading size: normal -> h6 -> h5 -> h4 -> h3 -> h2 -> h1 -> normal\n */\nfunction toggleHeadingBigger(editor) {\n    _toggleHeading(editor.codemirror, 'bigger');\n}\n\n/**\n * Action for toggling heading size 1\n */\nfunction toggleHeading1(editor) {\n    _toggleHeading(editor.codemirror, undefined, 1);\n}\n\n/**\n * Action for toggling heading size 2\n */\nfunction toggleHeading2(editor) {\n    _toggleHeading(editor.codemirror, undefined, 2);\n}\n\n/**\n * Action for toggling heading size 3\n */\nfunction toggleHeading3(editor) {\n    _toggleHeading(editor.codemirror, undefined, 3);\n}\n\n/**\n * Action for toggling heading size 4\n */\nfunction toggleHeading4(editor) {\n    _toggleHeading(editor.codemirror, undefined, 4);\n}\n\n/**\n * Action for toggling heading size 5\n */\nfunction toggleHeading5(editor) {\n    _toggleHeading(editor.codemirror, undefined, 5);\n}\n\n/**\n * Action for toggling heading size 6\n */\nfunction toggleHeading6(editor) {\n    _toggleHeading(editor.codemirror, undefined, 6);\n}\n\n\n/**\n * Action for toggling ul.\n */\nfunction toggleUnorderedList(editor) {\n    var cm = editor.codemirror;\n\n    var listStyle = '*'; // Default\n    if (['-', '+', '*'].includes(editor.options.unorderedListStyle)) {\n        listStyle = editor.options.unorderedListStyle;\n    }\n\n    _toggleLine(cm, 'unordered-list', listStyle);\n}\n\n\n/**\n * Action for toggling ol.\n */\nfunction toggleOrderedList(editor) {\n    _toggleLine(editor.codemirror, 'ordered-list');\n}\n\n/**\n * Action for clean block (remove headline, list, blockquote code, markers)\n */\nfunction cleanBlock(editor) {\n    _cleanBlock(editor.codemirror);\n}\n\n/**\n * Action for drawing a link.\n * @param {EasyMDE} editor\n */\nfunction drawLink(editor) {\n    var options = editor.options;\n    var url = 'https://';\n    if (options.promptURLs) {\n        var result = prompt(options.promptTexts.link, url);\n        if (!result) {\n            return false;\n        }\n        url = escapePromptURL(result);\n    }\n    _toggleLink(editor, 'link', options.insertTexts.link, url);\n}\n\n/**\n * Action for drawing an img.\n * @param {EasyMDE} editor\n */\nfunction drawImage(editor) {\n    var options = editor.options;\n    var url = 'https://';\n    if (options.promptURLs) {\n        var result = prompt(options.promptTexts.image, url);\n        if (!result) {\n            return false;\n        }\n        url = escapePromptURL(result);\n    }\n    _toggleLink(editor, 'image', options.insertTexts.image, url);\n}\n\n/**\n * Encode and escape URLs to prevent breaking up rendered Markdown links.\n * @param {string} url The url of the link or image\n */\nfunction escapePromptURL(url) {\n    return encodeURI(url).replace(/([\\\\()])/g, '\\\\$1');\n}\n\n/**\n * Action for opening the browse-file window to upload an image to a server.\n * @param {EasyMDE} editor The EasyMDE object\n */\nfunction drawUploadedImage(editor) {\n    // TODO: Draw the image template with a fake url? ie: '![](importing foo.png...)'\n    editor.openBrowseFileWindow();\n}\n\n/**\n * Action executed after an image have been successfully imported on the server.\n * @param {EasyMDE} editor The EasyMDE object\n * @param {string} url The url of the uploaded image\n */\nfunction afterImageUploaded(editor, url) {\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n    var options = editor.options;\n    var imageName = url.substr(url.lastIndexOf('/') + 1);\n    var ext = imageName.substring(imageName.lastIndexOf('.') + 1).replace(/\\?.*$/, '').toLowerCase();\n\n    // Check if media is an image\n    if (['png', 'jpg', 'jpeg', 'gif', 'svg', 'apng', 'avif', 'webp'].includes(ext)) {\n        _replaceSelection(cm, stat.image, options.insertTexts.uploadedImage, url);\n    } else {\n        var text_link = options.insertTexts.link;\n        text_link[0] = '[' + imageName;\n        _replaceSelection(cm, stat.link, text_link, url);\n    }\n\n    // show uploaded image filename for 1000ms\n    editor.updateStatusBar('upload-image', editor.options.imageTexts.sbOnUploaded.replace('#image_name#', imageName));\n    setTimeout(function () {\n        editor.updateStatusBar('upload-image', editor.options.imageTexts.sbInit);\n    }, 1000);\n}\n\n/**\n * Action for drawing a table.\n * @param {EasyMDE} editor\n */\nfunction drawTable(editor) {\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n    var options = editor.options;\n    _replaceSelection(cm, stat.table, options.insertTexts.table);\n}\n\n/**\n * Action for drawing a horizontal rule.\n * @param {EasyMDE} editor\n */\nfunction drawHorizontalRule(editor) {\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n    var options = editor.options;\n    _replaceSelection(cm, stat.image, options.insertTexts.horizontalRule);\n}\n\n\n/**\n * Undo action.\n * @param {EasyMDE} editor\n */\nfunction undo(editor) {\n    var cm = editor.codemirror;\n    cm.undo();\n    cm.focus();\n}\n\n\n/**\n * Redo action.\n * @param {EasyMDE} editor\n */\nfunction redo(editor) {\n    var cm = editor.codemirror;\n    cm.redo();\n    cm.focus();\n}\n\n\n/**\n * Toggle side by side preview\n * @param {EasyMDE} editor\n */\nfunction toggleSideBySide(editor) {\n    var cm = editor.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var preview = wrapper.nextSibling;\n    var toolbarButton = editor.toolbarElements && editor.toolbarElements['side-by-side'];\n    var useSideBySideListener = false;\n\n    var easyMDEContainer = wrapper.parentNode;\n\n    if (preview.classList.contains('editor-preview-active-side')) {\n        if (editor.options.sideBySideFullscreen === false) {\n            // if side-by-side not-fullscreen ok, remove classes when hiding side\n            easyMDEContainer.classList.remove('sided--no-fullscreen');\n        }\n        preview.classList.remove('editor-preview-active-side');\n        if (toolbarButton) toolbarButton.classList.remove('active');\n        wrapper.classList.remove('CodeMirror-sided');\n    } else {\n        // When the preview button is clicked for the first time,\n        // give some time for the transition from editor.css to fire and the view to slide from right to left,\n        // instead of just appearing.\n        setTimeout(function () {\n            if (!cm.getOption('fullScreen')) {\n                if (editor.options.sideBySideFullscreen === false) {\n                    // if side-by-side not-fullscreen ok, add classes when not fullscreen and showing side\n                    easyMDEContainer.classList.add('sided--no-fullscreen');\n                } else {\n                    toggleFullScreen(editor);\n                }\n            }\n            preview.classList.add('editor-preview-active-side');\n        }, 1);\n        if (toolbarButton) toolbarButton.classList.add('active');\n        wrapper.classList.add('CodeMirror-sided');\n        useSideBySideListener = true;\n    }\n\n    // Hide normal preview if active\n    var previewNormal = wrapper.lastChild;\n    if (previewNormal.classList.contains('editor-preview-active')) {\n        previewNormal.classList.remove('editor-preview-active');\n        var toolbar = editor.toolbarElements.preview;\n        var toolbar_div = editor.toolbar_div;\n        toolbar.classList.remove('active');\n        toolbar_div.classList.remove('disabled-for-preview');\n    }\n\n    var sideBySideRenderingFunction = function () {\n        var newValue = editor.options.previewRender(editor.value(), preview);\n        if (newValue != null) {\n            preview.innerHTML = newValue;\n        }\n    };\n\n    if (!cm.sideBySideRenderingFunction) {\n        cm.sideBySideRenderingFunction = sideBySideRenderingFunction;\n    }\n\n    if (useSideBySideListener) {\n        var newValue = editor.options.previewRender(editor.value(), preview);\n        if (newValue != null) {\n            preview.innerHTML = newValue;\n        }\n        cm.on('update', cm.sideBySideRenderingFunction);\n    } else {\n        cm.off('update', cm.sideBySideRenderingFunction);\n    }\n\n    // Refresh to fix selection being off (#309)\n    cm.refresh();\n}\n\n\n/**\n * Preview action.\n * @param {EasyMDE} editor\n */\nfunction togglePreview(editor) {\n    var cm = editor.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var toolbar_div = editor.toolbar_div;\n    var toolbar = editor.options.toolbar ? editor.toolbarElements.preview : false;\n    var preview = wrapper.lastChild;\n\n    // Turn off side by side if needed\n    var sidebyside = cm.getWrapperElement().nextSibling;\n    if (sidebyside.classList.contains('editor-preview-active-side'))\n        toggleSideBySide(editor);\n\n    if (!preview || !preview.classList.contains('editor-preview-full')) {\n\n        preview = document.createElement('div');\n        preview.className = 'editor-preview-full';\n\n        if (editor.options.previewClass) {\n\n            if (Array.isArray(editor.options.previewClass)) {\n                for (var i = 0; i < editor.options.previewClass.length; i++) {\n                    preview.classList.add(editor.options.previewClass[i]);\n                }\n\n            } else if (typeof editor.options.previewClass === 'string') {\n                preview.classList.add(editor.options.previewClass);\n            }\n        }\n\n        wrapper.appendChild(preview);\n    }\n\n    if (preview.classList.contains('editor-preview-active')) {\n        preview.classList.remove('editor-preview-active');\n        if (toolbar) {\n            toolbar.classList.remove('active');\n            toolbar_div.classList.remove('disabled-for-preview');\n        }\n    } else {\n        // When the preview button is clicked for the first time,\n        // give some time for the transition from editor.css to fire and the view to slide from right to left,\n        // instead of just appearing.\n        setTimeout(function () {\n            preview.classList.add('editor-preview-active');\n        }, 1);\n        if (toolbar) {\n            toolbar.classList.add('active');\n            toolbar_div.classList.add('disabled-for-preview');\n        }\n    }\n\n    var preview_result = editor.options.previewRender(editor.value(), preview);\n    if (preview_result !== null) {\n        preview.innerHTML = preview_result;\n    }\n\n}\n\nfunction _replaceSelection(cm, active, startEnd, url) {\n    if (cm.getWrapperElement().lastChild.classList.contains('editor-preview-active'))\n        return;\n\n    var text;\n    var start = startEnd[0];\n    var end = startEnd[1];\n    var startPoint = {},\n        endPoint = {};\n    Object.assign(startPoint, cm.getCursor('start'));\n    Object.assign(endPoint, cm.getCursor('end'));\n    if (url) {\n        start = start.replace('#url#', url);  // url is in start for upload-image\n        end = end.replace('#url#', url);\n    }\n    if (active) {\n        text = cm.getLine(startPoint.line);\n        start = text.slice(0, startPoint.ch);\n        end = text.slice(startPoint.ch);\n        cm.replaceRange(start + end, {\n            line: startPoint.line,\n            ch: 0,\n        });\n    } else {\n        text = cm.getSelection();\n        cm.replaceSelection(start + text + end);\n\n        startPoint.ch += start.length;\n        if (startPoint !== endPoint) {\n            endPoint.ch += start.length;\n        }\n    }\n    cm.setSelection(startPoint, endPoint);\n    cm.focus();\n}\n\n\nfunction _toggleHeading(cm, direction, size) {\n    if (cm.getWrapperElement().lastChild.classList.contains('editor-preview-active'))\n        return;\n\n    var startPoint = cm.getCursor('start');\n    var endPoint = cm.getCursor('end');\n    for (var i = startPoint.line; i <= endPoint.line; i++) {\n        (function (i) {\n            var text = cm.getLine(i);\n            var currHeadingLevel = text.search(/[^#]/);\n\n            if (direction !== undefined) {\n                if (currHeadingLevel <= 0) {\n                    if (direction == 'bigger') {\n                        text = '###### ' + text;\n                    } else {\n                        text = '# ' + text;\n                    }\n                } else if (currHeadingLevel == 6 && direction == 'smaller') {\n                    text = text.substr(7);\n                } else if (currHeadingLevel == 1 && direction == 'bigger') {\n                    text = text.substr(2);\n                } else {\n                    if (direction == 'bigger') {\n                        text = text.substr(1);\n                    } else {\n                        text = '#' + text;\n                    }\n                }\n            } else {\n                if (currHeadingLevel <= 0) {\n                    text = '#'.repeat(size) + ' ' + text;\n                } else if (currHeadingLevel == size) {\n                    text = text.substr(currHeadingLevel + 1);\n                } else {\n                    text = '#'.repeat(size) + ' ' + text.substr(currHeadingLevel + 1);\n                }\n            }\n\n            cm.replaceRange(text, {\n                line: i,\n                ch: 0,\n            }, {\n                line: i,\n                ch: 99999999999999,\n            });\n        })(i);\n    }\n    cm.focus();\n}\n\n\nfunction _toggleLine(cm, name, liststyle) {\n    if (cm.getWrapperElement().lastChild.classList.contains('editor-preview-active'))\n        return;\n\n    var listRegexp = /^(\\s*)(\\*|-|\\+|\\d*\\.)(\\s+)/;\n    var whitespacesRegexp = /^\\s*/;\n\n    var stat = getState(cm);\n    var startPoint = cm.getCursor('start');\n    var endPoint = cm.getCursor('end');\n    var repl = {\n        'quote': /^(\\s*)>\\s+/,\n        'unordered-list': listRegexp,\n        'ordered-list': listRegexp,\n    };\n\n    var _getChar = function (name, i) {\n        var map = {\n            'quote': '>',\n            'unordered-list': liststyle,\n            'ordered-list': '%%i.',\n        };\n\n        return map[name].replace('%%i', i);\n    };\n\n    var _checkChar = function (name, char) {\n        var map = {\n            'quote': '>',\n            'unordered-list': '\\\\' + liststyle,\n            'ordered-list': '\\\\d+.',\n        };\n        var rt = new RegExp(map[name]);\n\n        return char && rt.test(char);\n    };\n\n    var _toggle = function (name, text, untoggleOnly) {\n        var arr = listRegexp.exec(text);\n        var char = _getChar(name, line);\n        if (arr !== null) {\n            if (_checkChar(name, arr[2])) {\n                char = '';\n            }\n            text = arr[1] + char + arr[3] + text.replace(whitespacesRegexp, '').replace(repl[name], '$1');\n        } else if (untoggleOnly == false) {\n            text = char + ' ' + text;\n        }\n        return text;\n    };\n\n    var line = 1;\n    for (var i = startPoint.line; i <= endPoint.line; i++) {\n        (function (i) {\n            var text = cm.getLine(i);\n            if (stat[name]) {\n                text = text.replace(repl[name], '$1');\n            } else {\n                // If we're toggling unordered-list formatting, check if the current line\n                // is part of an ordered-list, and if so, untoggle that first.\n                // Workaround for https://github.com/Ionaru/easy-markdown-editor/issues/92\n                if (name == 'unordered-list') {\n                    text = _toggle('ordered-list', text, true);\n                }\n                text = _toggle(name, text, false);\n                line += 1;\n            }\n            cm.replaceRange(text, {\n                line: i,\n                ch: 0,\n            }, {\n                line: i,\n                ch: 99999999999999,\n            });\n        })(i);\n    }\n    cm.focus();\n}\n\n/**\n * @param {EasyMDE} editor\n * @param {'link' | 'image'} type\n * @param {string} startEnd\n * @param {string} url\n */\nfunction _toggleLink(editor, type, startEnd, url) {\n    if (!editor.codemirror || editor.isPreviewActive()) {\n        return;\n    }\n\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n    var active = stat[type];\n    if (!active) {\n        _replaceSelection(cm, active, startEnd, url);\n        return;\n    }\n\n    var startPoint = cm.getCursor('start');\n    var endPoint = cm.getCursor('end');\n    var text = cm.getLine(startPoint.line);\n    var start = text.slice(0, startPoint.ch);\n    var end = text.slice(startPoint.ch);\n\n    if (type == 'link') {\n        start = start.replace(/(.*)[^!]\\[/, '$1');\n    } else if (type == 'image') {\n        start = start.replace(/(.*)!\\[$/, '$1');\n    }\n    end = end.replace(/]\\(.*?\\)/, '');\n\n    cm.replaceRange(start + end, {\n        line: startPoint.line,\n        ch: 0,\n    }, {\n        line: startPoint.line,\n        ch: 99999999999999,\n    });\n\n    startPoint.ch -= startEnd[0].length;\n    if (startPoint !== endPoint) {\n        endPoint.ch -= startEnd[0].length;\n    }\n    cm.setSelection(startPoint, endPoint);\n    cm.focus();\n}\n\n/**\n * @param {EasyMDE} editor\n */\nfunction _toggleBlock(editor, type, start_chars, end_chars) {\n    if (!editor.codemirror || editor.isPreviewActive()) {\n        return;\n    }\n\n    end_chars = (typeof end_chars === 'undefined') ? start_chars : end_chars;\n    var cm = editor.codemirror;\n    var stat = getState(cm);\n\n    var text;\n    var start = start_chars;\n    var end = end_chars;\n\n    var startPoint = cm.getCursor('start');\n    var endPoint = cm.getCursor('end');\n\n    if (stat[type]) {\n        text = cm.getLine(startPoint.line);\n        start = text.slice(0, startPoint.ch);\n        end = text.slice(startPoint.ch);\n        if (type == 'bold') {\n            start = start.replace(/(\\*\\*|__)(?![\\s\\S]*(\\*\\*|__))/, '');\n            end = end.replace(/(\\*\\*|__)/, '');\n        } else if (type == 'italic') {\n            start = start.replace(/(\\*|_)(?![\\s\\S]*(\\*|_))/, '');\n            end = end.replace(/(\\*|_)/, '');\n        } else if (type == 'strikethrough') {\n            start = start.replace(/(\\*\\*|~~)(?![\\s\\S]*(\\*\\*|~~))/, '');\n            end = end.replace(/(\\*\\*|~~)/, '');\n        }\n        cm.replaceRange(start + end, {\n            line: startPoint.line,\n            ch: 0,\n        }, {\n            line: startPoint.line,\n            ch: 99999999999999,\n        });\n\n        if (type == 'bold' || type == 'strikethrough') {\n            startPoint.ch -= 2;\n            if (startPoint !== endPoint) {\n                endPoint.ch -= 2;\n            }\n        } else if (type == 'italic') {\n            startPoint.ch -= 1;\n            if (startPoint !== endPoint) {\n                endPoint.ch -= 1;\n            }\n        }\n    } else {\n        text = cm.getSelection();\n        if (type == 'bold') {\n            text = text.split('**').join('');\n            text = text.split('__').join('');\n        } else if (type == 'italic') {\n            text = text.split('*').join('');\n            text = text.split('_').join('');\n        } else if (type == 'strikethrough') {\n            text = text.split('~~').join('');\n        }\n        cm.replaceSelection(start + text + end);\n\n        startPoint.ch += start_chars.length;\n        endPoint.ch = startPoint.ch + text.length;\n    }\n\n    cm.setSelection(startPoint, endPoint);\n    cm.focus();\n}\n\nfunction _cleanBlock(cm) {\n    if (cm.getWrapperElement().lastChild.classList.contains('editor-preview-active'))\n        return;\n\n    var startPoint = cm.getCursor('start');\n    var endPoint = cm.getCursor('end');\n    var text;\n\n    for (var line = startPoint.line; line <= endPoint.line; line++) {\n        text = cm.getLine(line);\n        text = text.replace(/^[ ]*([# ]+|\\*|-|[> ]+|[0-9]+(.|\\)))[ ]*/, '');\n\n        cm.replaceRange(text, {\n            line: line,\n            ch: 0,\n        }, {\n            line: line,\n            ch: 99999999999999,\n        });\n    }\n}\n\n/**\n * Convert a number of bytes to a human-readable file size. If you desire\n * to add a space between the value and the unit, you need to add this space\n * to the given units.\n * @param bytes {number} A number of bytes, as integer. Ex: 421137\n * @param units {number[]} An array of human-readable units, ie. [' B', ' K', ' MB']\n * @returns string A human-readable file size. Ex: '412 KB'\n */\nfunction humanFileSize(bytes, units) {\n    if (Math.abs(bytes) < 1024) {\n        return '' + bytes + units[0];\n    }\n    var u = 0;\n    do {\n        bytes /= 1024;\n        ++u;\n    } while (Math.abs(bytes) >= 1024 && u < units.length);\n    return '' + bytes.toFixed(1) + units[u];\n}\n\n// Merge the properties of one object into another.\nfunction _mergeProperties(target, source) {\n    for (var property in source) {\n        if (Object.prototype.hasOwnProperty.call(source, property)) {\n            if (source[property] instanceof Array) {\n                target[property] = source[property].concat(target[property] instanceof Array ? target[property] : []);\n            } else if (\n                source[property] !== null &&\n                typeof source[property] === 'object' &&\n                source[property].constructor === Object\n            ) {\n                target[property] = _mergeProperties(target[property] || {}, source[property]);\n            } else {\n                target[property] = source[property];\n            }\n        }\n    }\n\n    return target;\n}\n\n// Merge an arbitrary number of objects into one.\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        target = _mergeProperties(target, arguments[i]);\n    }\n\n    return target;\n}\n\n/* The right word count in respect for CJK. */\nfunction wordCount(data) {\n    var pattern = /[a-zA-Z0-9_\\u00A0-\\u02AF\\u0392-\\u03c9\\u0410-\\u04F9]+|[\\u4E00-\\u9FFF\\u3400-\\u4dbf\\uf900-\\ufaff\\u3040-\\u309f\\uac00-\\ud7af]+/g;\n    var m = data.match(pattern);\n    var count = 0;\n    if (m === null) return count;\n    for (var i = 0; i < m.length; i++) {\n        if (m[i].charCodeAt(0) >= 0x4E00) {\n            count += m[i].length;\n        } else {\n            count += 1;\n        }\n    }\n    return count;\n}\n\nvar iconClassMap = {\n    'bold': 'fa fa-bold',\n    'italic': 'fa fa-italic',\n    'strikethrough': 'fa fa-strikethrough',\n    'heading': 'fa fa-header fa-heading',\n    'heading-smaller': 'fa fa-header fa-heading header-smaller',\n    'heading-bigger': 'fa fa-header fa-heading header-bigger',\n    'heading-1': 'fa fa-header fa-heading header-1',\n    'heading-2': 'fa fa-header fa-heading header-2',\n    'heading-3': 'fa fa-header fa-heading header-3',\n    'code': 'fa fa-code',\n    'quote': 'fa fa-quote-left',\n    'ordered-list': 'fa fa-list-ol',\n    'unordered-list': 'fa fa-list-ul',\n    'clean-block': 'fa fa-eraser',\n    'link': 'fa fa-link',\n    'image': 'fa fa-image',\n    'upload-image': 'fa fa-image',\n    'table': 'fa fa-table',\n    'horizontal-rule': 'fa fa-minus',\n    'preview': 'fa fa-eye',\n    'side-by-side': 'fa fa-columns',\n    'fullscreen': 'fa fa-arrows-alt',\n    'guide': 'fa fa-question-circle',\n    'undo': 'fa fa-undo',\n    'redo': 'fa fa-repeat fa-redo',\n};\n\nvar toolbarBuiltInButtons = {\n    'bold': {\n        name: 'bold',\n        action: toggleBold,\n        className: iconClassMap['bold'],\n        title: 'Bold',\n        default: true,\n    },\n    'italic': {\n        name: 'italic',\n        action: toggleItalic,\n        className: iconClassMap['italic'],\n        title: 'Italic',\n        default: true,\n    },\n    'strikethrough': {\n        name: 'strikethrough',\n        action: toggleStrikethrough,\n        className: iconClassMap['strikethrough'],\n        title: 'Strikethrough',\n    },\n    'heading': {\n        name: 'heading',\n        action: toggleHeadingSmaller,\n        className: iconClassMap['heading'],\n        title: 'Heading',\n        default: true,\n    },\n    'heading-smaller': {\n        name: 'heading-smaller',\n        action: toggleHeadingSmaller,\n        className: iconClassMap['heading-smaller'],\n        title: 'Smaller Heading',\n    },\n    'heading-bigger': {\n        name: 'heading-bigger',\n        action: toggleHeadingBigger,\n        className: iconClassMap['heading-bigger'],\n        title: 'Bigger Heading',\n    },\n    'heading-1': {\n        name: 'heading-1',\n        action: toggleHeading1,\n        className: iconClassMap['heading-1'],\n        title: 'Big Heading',\n    },\n    'heading-2': {\n        name: 'heading-2',\n        action: toggleHeading2,\n        className: iconClassMap['heading-2'],\n        title: 'Medium Heading',\n    },\n    'heading-3': {\n        name: 'heading-3',\n        action: toggleHeading3,\n        className: iconClassMap['heading-3'],\n        title: 'Small Heading',\n    },\n    'separator-1': {\n        name: 'separator-1',\n    },\n    'code': {\n        name: 'code',\n        action: toggleCodeBlock,\n        className: iconClassMap['code'],\n        title: 'Code',\n    },\n    'quote': {\n        name: 'quote',\n        action: toggleBlockquote,\n        className: iconClassMap['quote'],\n        title: 'Quote',\n        default: true,\n    },\n    'unordered-list': {\n        name: 'unordered-list',\n        action: toggleUnorderedList,\n        className: iconClassMap['unordered-list'],\n        title: 'Generic List',\n        default: true,\n    },\n    'ordered-list': {\n        name: 'ordered-list',\n        action: toggleOrderedList,\n        className: iconClassMap['ordered-list'],\n        title: 'Numbered List',\n        default: true,\n    },\n    'clean-block': {\n        name: 'clean-block',\n        action: cleanBlock,\n        className: iconClassMap['clean-block'],\n        title: 'Clean block',\n    },\n    'separator-2': {\n        name: 'separator-2',\n    },\n    'link': {\n        name: 'link',\n        action: drawLink,\n        className: iconClassMap['link'],\n        title: 'Create Link',\n        default: true,\n    },\n    'image': {\n        name: 'image',\n        action: drawImage,\n        className: iconClassMap['image'],\n        title: 'Insert Image',\n        default: true,\n    },\n    'upload-image': {\n        name: 'upload-image',\n        action: drawUploadedImage,\n        className: iconClassMap['upload-image'],\n        title: 'Import an image',\n    },\n    'table': {\n        name: 'table',\n        action: drawTable,\n        className: iconClassMap['table'],\n        title: 'Insert Table',\n    },\n    'horizontal-rule': {\n        name: 'horizontal-rule',\n        action: drawHorizontalRule,\n        className: iconClassMap['horizontal-rule'],\n        title: 'Insert Horizontal Line',\n    },\n    'separator-3': {\n        name: 'separator-3',\n    },\n    'preview': {\n        name: 'preview',\n        action: togglePreview,\n        className: iconClassMap['preview'],\n        noDisable: true,\n        title: 'Toggle Preview',\n        default: true,\n    },\n    'side-by-side': {\n        name: 'side-by-side',\n        action: toggleSideBySide,\n        className: iconClassMap['side-by-side'],\n        noDisable: true,\n        noMobile: true,\n        title: 'Toggle Side by Side',\n        default: true,\n    },\n    'fullscreen': {\n        name: 'fullscreen',\n        action: toggleFullScreen,\n        className: iconClassMap['fullscreen'],\n        noDisable: true,\n        noMobile: true,\n        title: 'Toggle Fullscreen',\n        default: true,\n    },\n    'separator-4': {\n        name: 'separator-4',\n    },\n    'guide': {\n        name: 'guide',\n        action: 'https://www.markdownguide.org/basic-syntax/',\n        className: iconClassMap['guide'],\n        noDisable: true,\n        title: 'Markdown Guide',\n        default: true,\n    },\n    'separator-5': {\n        name: 'separator-5',\n    },\n    'undo': {\n        name: 'undo',\n        action: undo,\n        className: iconClassMap['undo'],\n        noDisable: true,\n        title: 'Undo',\n    },\n    'redo': {\n        name: 'redo',\n        action: redo,\n        className: iconClassMap['redo'],\n        noDisable: true,\n        title: 'Redo',\n    },\n};\n\nvar insertTexts = {\n    link: ['[', '](#url#)'],\n    image: ['![', '](#url#)'],\n    uploadedImage: ['![](#url#)', ''],\n    // uploadedImage: ['![](#url#)\\n', ''], // TODO: New line insertion doesn't work here.\n    table: ['', '\\n\\n| Column 1 | Column 2 | Column 3 |\\n| -------- | -------- | -------- |\\n| Text     | Text     | Text     |\\n\\n'],\n    horizontalRule: ['', '\\n\\n-----\\n\\n'],\n};\n\nvar promptTexts = {\n    link: 'URL for the link:',\n    image: 'URL of the image:',\n};\n\nvar timeFormat = {\n    locale: 'en-US',\n    format: {\n        hour: '2-digit',\n        minute: '2-digit',\n    },\n};\n\nvar blockStyles = {\n    'bold': '**',\n    'code': '```',\n    'italic': '*',\n};\n\n/**\n * Texts displayed to the user (mainly on the status bar) for the import image\n * feature. Can be used for customization or internationalization.\n */\nvar imageTexts = {\n    sbInit: 'Attach files by drag and dropping or pasting from clipboard.',\n    sbOnDragEnter: 'Drop image to upload it.',\n    sbOnDrop: 'Uploading image #images_names#...',\n    sbProgress: 'Uploading #file_name#: #progress#%',\n    sbOnUploaded: 'Uploaded #image_name#',\n    sizeUnits: ' B, KB, MB',\n};\n\n/**\n * Errors displayed to the user, using the `errorCallback` option. Can be used for\n * customization or internationalization.\n */\nvar errorMessages = {\n    noFileGiven: 'You must select a file.',\n    typeNotAllowed: 'This image type is not allowed.',\n    fileTooLarge: 'Image #image_name# is too big (#image_size#).\\n' +\n        'Maximum file size is #image_max_size#.',\n    importError: 'Something went wrong when uploading the image #image_name#.',\n};\n\n/**\n * Interface of EasyMDE.\n */\nfunction EasyMDE(options) {\n    // Handle options parameter\n    options = options || {};\n\n    // Used later to refer to it\"s parent\n    options.parent = this;\n\n    // Check if Font Awesome needs to be auto downloaded\n    var autoDownloadFA = true;\n\n    if (options.autoDownloadFontAwesome === false) {\n        autoDownloadFA = false;\n    }\n\n    if (options.autoDownloadFontAwesome !== true) {\n        var styleSheets = document.styleSheets;\n        for (var i = 0; i < styleSheets.length; i++) {\n            if (!styleSheets[i].href)\n                continue;\n\n            if (styleSheets[i].href.indexOf('//maxcdn.bootstrapcdn.com/font-awesome/') > -1) {\n                autoDownloadFA = false;\n            }\n        }\n    }\n\n    if (autoDownloadFA) {\n        var link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = 'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css';\n        document.getElementsByTagName('head')[0].appendChild(link);\n    }\n\n\n    // Find the textarea to use\n    if (options.element) {\n        this.element = options.element;\n    } else if (options.element === null) {\n        // This means that the element option was specified, but no element was found\n        console.log('EasyMDE: Error. No element was found.');\n        return;\n    }\n\n\n    // Handle toolbar\n    if (options.toolbar === undefined) {\n        // Initialize\n        options.toolbar = [];\n\n\n        // Loop over the built in buttons, to get the preferred order\n        for (var key in toolbarBuiltInButtons) {\n            if (Object.prototype.hasOwnProperty.call(toolbarBuiltInButtons, key)) {\n                if (key.indexOf('separator-') != -1) {\n                    options.toolbar.push('|');\n                }\n\n                if (toolbarBuiltInButtons[key].default === true || (options.showIcons && options.showIcons.constructor === Array && options.showIcons.indexOf(key) != -1)) {\n                    options.toolbar.push(key);\n                }\n            }\n        }\n    }\n\n    // Editor preview styling class.\n    if (!Object.prototype.hasOwnProperty.call(options, 'previewClass')) {\n        options.previewClass = 'editor-preview';\n    }\n\n    // Handle status bar\n    if (!Object.prototype.hasOwnProperty.call(options, 'status')) {\n        options.status = ['autosave', 'lines', 'words', 'cursor'];\n\n        if (options.uploadImage) {\n            options.status.unshift('upload-image');\n        }\n    }\n\n\n    // Add default preview rendering function\n    if (!options.previewRender) {\n        options.previewRender = function (plainText) {\n            // Note: \"this\" refers to the options object\n            return this.parent.markdown(plainText);\n        };\n    }\n\n\n    // Set default options for parsing config\n    options.parsingConfig = extend({\n        highlightFormatting: true, // needed for toggleCodeBlock to detect types of code\n    }, options.parsingConfig || {});\n\n\n    // Merging the insertTexts, with the given options\n    options.insertTexts = extend({}, insertTexts, options.insertTexts || {});\n\n\n    // Merging the promptTexts, with the given options\n    options.promptTexts = extend({}, promptTexts, options.promptTexts || {});\n\n\n    // Merging the blockStyles, with the given options\n    options.blockStyles = extend({}, blockStyles, options.blockStyles || {});\n\n\n    if (options.autosave != undefined) {\n        // Merging the Autosave timeFormat, with the given options\n        options.autosave.timeFormat = extend({}, timeFormat, options.autosave.timeFormat || {});\n    }\n\n    options.iconClassMap = extend({}, iconClassMap, options.iconClassMap || {});\n\n    // Merging the shortcuts, with the given options\n    options.shortcuts = extend({}, shortcuts, options.shortcuts || {});\n\n    options.maxHeight = options.maxHeight || undefined;\n\n    options.direction = options.direction || 'ltr';\n\n    if (typeof options.maxHeight !== 'undefined') {\n        // Min and max height are equal if maxHeight is set\n        options.minHeight = options.maxHeight;\n    } else {\n        options.minHeight = options.minHeight || '300px';\n    }\n\n    options.errorCallback = options.errorCallback || function (errorMessage) {\n        alert(errorMessage);\n    };\n\n    // Import-image default configuration\n    options.uploadImage = options.uploadImage || false;\n    options.imageMaxSize = options.imageMaxSize || 2097152; // 1024 * 1024 * 2\n    options.imageAccept = options.imageAccept || 'image/png, image/jpeg, image/gif, image/avif';\n    options.imageTexts = extend({}, imageTexts, options.imageTexts || {});\n    options.errorMessages = extend({}, errorMessages, options.errorMessages || {});\n    options.imagePathAbsolute = options.imagePathAbsolute || false;\n    options.imageCSRFName = options.imageCSRFName || 'csrfmiddlewaretoken';\n    options.imageCSRFHeader = options.imageCSRFHeader || false;\n\n\n    // Change unique_id to uniqueId for backwards compatibility\n    if (options.autosave != undefined && options.autosave.unique_id != undefined && options.autosave.unique_id != '')\n        options.autosave.uniqueId = options.autosave.unique_id;\n\n    // If overlay mode is specified and combine is not provided, default it to true\n    if (options.overlayMode && options.overlayMode.combine === undefined) {\n        options.overlayMode.combine = true;\n    }\n\n    // Update this options\n    this.options = options;\n\n\n    // Auto render\n    this.render();\n\n\n    // The codemirror component is only available after rendering\n    // so, the setter for the initialValue can only run after\n    // the element has been rendered\n    if (options.initialValue && (!this.options.autosave || this.options.autosave.foundSavedValue !== true)) {\n        this.value(options.initialValue);\n    }\n\n    if (options.uploadImage) {\n        var self = this;\n\n        this.codemirror.on('dragenter', function (cm, event) {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbOnDragEnter);\n            event.stopPropagation();\n            event.preventDefault();\n        });\n        this.codemirror.on('dragend', function (cm, event) {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n            event.stopPropagation();\n            event.preventDefault();\n        });\n        this.codemirror.on('dragleave', function (cm, event) {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n            event.stopPropagation();\n            event.preventDefault();\n        });\n\n        this.codemirror.on('dragover', function (cm, event) {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbOnDragEnter);\n            event.stopPropagation();\n            event.preventDefault();\n        });\n\n        this.codemirror.on('drop', function (cm, event) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (options.imageUploadFunction) {\n                self.uploadImagesUsingCustomFunction(options.imageUploadFunction, event.dataTransfer.files);\n            } else {\n                self.uploadImages(event.dataTransfer.files);\n            }\n        });\n\n        this.codemirror.on('paste', function (cm, event) {\n            if (options.imageUploadFunction) {\n                self.uploadImagesUsingCustomFunction(options.imageUploadFunction, event.clipboardData.files);\n            } else {\n                self.uploadImages(event.clipboardData.files);\n            }\n        });\n    }\n}\n\n/**\n * Upload asynchronously a list of images to a server.\n *\n * Can be triggered by:\n * - drag&drop;\n * - copy-paste;\n * - the browse-file window (opened when the user clicks on the *upload-image* icon).\n * @param {FileList} files The files to upload the the server.\n * @param [onSuccess] {function} see EasyMDE.prototype.uploadImage\n * @param [onError] {function} see EasyMDE.prototype.uploadImage\n */\nEasyMDE.prototype.uploadImages = function (files, onSuccess, onError) {\n    if (files.length === 0) {\n        return;\n    }\n    var names = [];\n    for (var i = 0; i < files.length; i++) {\n        names.push(files[i].name);\n        this.uploadImage(files[i], onSuccess, onError);\n    }\n    this.updateStatusBar('upload-image', this.options.imageTexts.sbOnDrop.replace('#images_names#', names.join(', ')));\n};\n\n/**\n * Upload asynchronously a list of images to a server.\n *\n * Can be triggered by:\n * - drag&drop;\n * - copy-paste;\n * - the browse-file window (opened when the user clicks on the *upload-image* icon).\n * @param imageUploadFunction {Function} The custom function to upload the image passed in options.\n * @param {FileList} files The files to upload the the server.\n */\nEasyMDE.prototype.uploadImagesUsingCustomFunction = function (imageUploadFunction, files) {\n    if (files.length === 0) {\n        return;\n    }\n    var names = [];\n    for (var i = 0; i < files.length; i++) {\n        names.push(files[i].name);\n        this.uploadImageUsingCustomFunction(imageUploadFunction, files[i]);\n    }\n    this.updateStatusBar('upload-image', this.options.imageTexts.sbOnDrop.replace('#images_names#', names.join(', ')));\n};\n\n/**\n * Update an item in the status bar.\n * @param itemName {string} The name of the item to update (ie. 'upload-image', 'autosave', etc.).\n * @param content {string} the new content of the item to write in the status bar.\n */\nEasyMDE.prototype.updateStatusBar = function (itemName, content) {\n    if (!this.gui.statusbar) {\n        return;\n    }\n\n    var matchingClasses = this.gui.statusbar.getElementsByClassName(itemName);\n    if (matchingClasses.length === 1) {\n        this.gui.statusbar.getElementsByClassName(itemName)[0].textContent = content;\n    } else if (matchingClasses.length === 0) {\n        console.log('EasyMDE: status bar item ' + itemName + ' was not found.');\n    } else {\n        console.log('EasyMDE: Several status bar items named ' + itemName + ' was found.');\n    }\n};\n\n/**\n * Default markdown render.\n */\nEasyMDE.prototype.markdown = function (text) {\n    if (marked) {\n        // Initialize\n        var markedOptions;\n        if (this.options && this.options.renderingConfig && this.options.renderingConfig.markedOptions) {\n            markedOptions = this.options.renderingConfig.markedOptions;\n        } else {\n            markedOptions = {};\n        }\n\n        // Update options\n        if (this.options && this.options.renderingConfig && this.options.renderingConfig.singleLineBreaks === false) {\n            markedOptions.breaks = false;\n        } else {\n            markedOptions.breaks = true;\n        }\n\n        if (this.options && this.options.renderingConfig && this.options.renderingConfig.codeSyntaxHighlighting === true) {\n\n            /* Get HLJS from config or window */\n            var hljs = this.options.renderingConfig.hljs || window.hljs;\n\n            /* Check if HLJS loaded */\n            if (hljs) {\n                markedOptions.highlight = function (code, language) {\n                    if (language && hljs.getLanguage(language)) {\n                        return hljs.highlight(language, code).value;\n                    } else {\n                        return hljs.highlightAuto(code).value;\n                    }\n                };\n            }\n        }\n\n        // Set options\n        marked.setOptions(markedOptions);\n\n        // Convert the markdown to HTML\n        var htmlText = marked.parse(text);\n\n        // Sanitize HTML\n        if (this.options.renderingConfig && typeof this.options.renderingConfig.sanitizerFunction === 'function') {\n            htmlText = this.options.renderingConfig.sanitizerFunction.call(this, htmlText);\n        }\n\n        // Edit the HTML anchors to add 'target=\"_blank\"' by default.\n        htmlText = addAnchorTargetBlank(htmlText);\n\n        // Remove list-style when rendering checkboxes\n        htmlText = removeListStyleWhenCheckbox(htmlText);\n\n        return htmlText;\n    }\n};\n\n/**\n * Render editor to the given element.\n */\nEasyMDE.prototype.render = function (el) {\n    if (!el) {\n        el = this.element || document.getElementsByTagName('textarea')[0];\n    }\n\n    if (this._rendered && this._rendered === el) {\n        // Already rendered.\n        return;\n    }\n\n    this.element = el;\n    var options = this.options;\n\n    var self = this;\n    var keyMaps = {};\n\n    for (var key in options.shortcuts) {\n        // null stands for \"do not bind this command\"\n        if (options.shortcuts[key] !== null && bindings[key] !== null) {\n            (function (key) {\n                keyMaps[fixShortcut(options.shortcuts[key])] = function () {\n                    var action = bindings[key];\n                    if (typeof action === 'function') {\n                        action(self);\n                    } else if (typeof action === 'string') {\n                        window.open(action, '_blank');\n                    }\n                };\n            })(key);\n        }\n    }\n\n    keyMaps['Enter'] = 'newlineAndIndentContinueMarkdownList';\n    keyMaps['Tab'] = 'tabAndIndentMarkdownList';\n    keyMaps['Shift-Tab'] = 'shiftTabAndUnindentMarkdownList';\n    keyMaps['Esc'] = function (cm) {\n        if (cm.getOption('fullScreen')) toggleFullScreen(self);\n    };\n\n    this.documentOnKeyDown = function (e) {\n        e = e || window.event;\n\n        if (e.keyCode == 27) {\n            if (self.codemirror.getOption('fullScreen')) toggleFullScreen(self);\n        }\n    };\n    document.addEventListener('keydown', this.documentOnKeyDown, false);\n\n    var mode, backdrop;\n\n    // CodeMirror overlay mode\n    if (options.overlayMode) {\n        CodeMirror.defineMode('overlay-mode', function (config) {\n            return CodeMirror.overlayMode(CodeMirror.getMode(config, options.spellChecker !== false ? 'spell-checker' : 'gfm'), options.overlayMode.mode, options.overlayMode.combine);\n        });\n\n        mode = 'overlay-mode';\n        backdrop = options.parsingConfig;\n        backdrop.gitHubSpice = false;\n    } else {\n        mode = options.parsingConfig;\n        mode.name = 'gfm';\n        mode.gitHubSpice = false;\n    }\n    if (options.spellChecker !== false) {\n        mode = 'spell-checker';\n        backdrop = options.parsingConfig;\n        backdrop.name = 'gfm';\n        backdrop.gitHubSpice = false;\n\n        if (typeof options.spellChecker === 'function') {\n            options.spellChecker({\n                codeMirrorInstance: CodeMirror,\n            });\n        } else {\n            CodeMirrorSpellChecker({\n                codeMirrorInstance: CodeMirror,\n            });\n        }\n    }\n\n    // eslint-disable-next-line no-unused-vars\n    function configureMouse(cm, repeat, event) {\n        return {\n            addNew: false,\n        };\n    }\n\n    this.codemirror = CodeMirror.fromTextArea(el, {\n        mode: mode,\n        backdrop: backdrop,\n        theme: (options.theme != undefined) ? options.theme : 'easymde',\n        tabSize: (options.tabSize != undefined) ? options.tabSize : 2,\n        indentUnit: (options.tabSize != undefined) ? options.tabSize : 2,\n        indentWithTabs: (options.indentWithTabs === false) ? false : true,\n        lineNumbers: (options.lineNumbers === true) ? true : false,\n        autofocus: (options.autofocus === true) ? true : false,\n        extraKeys: keyMaps,\n        direction: options.direction,\n        lineWrapping: (options.lineWrapping === false) ? false : true,\n        allowDropFileTypes: ['text/plain'],\n        placeholder: options.placeholder || el.getAttribute('placeholder') || '',\n        styleSelectedText: (options.styleSelectedText != undefined) ? options.styleSelectedText : !isMobile(),\n        scrollbarStyle: (options.scrollbarStyle != undefined) ? options.scrollbarStyle : 'native',\n        configureMouse: configureMouse,\n        inputStyle: (options.inputStyle != undefined) ? options.inputStyle : isMobile() ? 'contenteditable' : 'textarea',\n        spellcheck: (options.nativeSpellcheck != undefined) ? options.nativeSpellcheck : true,\n        autoRefresh: (options.autoRefresh != undefined) ? options.autoRefresh : false,\n    });\n\n    this.codemirror.getScrollerElement().style.minHeight = options.minHeight;\n\n    if (typeof options.maxHeight !== 'undefined') {\n        this.codemirror.getScrollerElement().style.height = options.maxHeight;\n    }\n\n    if (options.forceSync === true) {\n        var cm = this.codemirror;\n        cm.on('change', function () {\n            cm.save();\n        });\n    }\n\n    this.gui = {};\n\n    // Wrap Codemirror with container before create toolbar, etc,\n    // to use with sideBySideFullscreen option.\n    var easyMDEContainer = document.createElement('div');\n    easyMDEContainer.classList.add('EasyMDEContainer');\n    easyMDEContainer.setAttribute('role', 'application');\n    var cmWrapper = this.codemirror.getWrapperElement();\n    cmWrapper.parentNode.insertBefore(easyMDEContainer, cmWrapper);\n    easyMDEContainer.appendChild(cmWrapper);\n\n    if (options.toolbar !== false) {\n        this.gui.toolbar = this.createToolbar();\n    }\n    if (options.status !== false) {\n        this.gui.statusbar = this.createStatusbar();\n    }\n    if (options.autosave != undefined && options.autosave.enabled === true) {\n        this.autosave(); // use to load localstorage content\n        this.codemirror.on('change', function () {\n            clearTimeout(self._autosave_timeout);\n            self._autosave_timeout = setTimeout(function () {\n                self.autosave();\n            }, self.options.autosave.submit_delay || self.options.autosave.delay || 1000);\n        });\n    }\n\n    function calcHeight(naturalWidth, naturalHeight) {\n        var height;\n        var viewportWidth = window.getComputedStyle(document.querySelector('.CodeMirror-sizer')).width.replace('px', '');\n        if (naturalWidth < viewportWidth) {\n            height = naturalHeight + 'px';\n        } else {\n            height = (naturalHeight / naturalWidth * 100) + '%';\n        }\n        return height;\n    }\n\n    var _vm = this;\n\n\n    function assignImageBlockAttributes(parentEl, img) {\n        parentEl.setAttribute('data-img-src', img.url);\n        parentEl.setAttribute('style', '--bg-image:url(' + img.url + ');--width:' + img.naturalWidth + 'px;--height:' + calcHeight(img.naturalWidth, img.naturalHeight));\n        _vm.codemirror.setSize();\n    }\n\n    function handleImages() {\n        if (!options.previewImagesInEditor) {\n            return;\n        }\n\n        easyMDEContainer.querySelectorAll('.cm-image-marker').forEach(function (e) {\n            var parentEl = e.parentElement;\n            if (!parentEl.innerText.match(/^!\\[.*?\\]\\(.*\\)/g)) {\n                // if img pasted on the same line with other text, don't preview, preview only images on separate line\n                return;\n            }\n            if (!parentEl.hasAttribute('data-img-src')) {\n                var srcAttr = parentEl.innerText.match('\\\\((.*)\\\\)'); // might require better parsing according to markdown spec\n                if (!window.EMDEimagesCache) {\n                    window.EMDEimagesCache = {};\n                }\n\n                if (srcAttr && srcAttr.length >= 2) {\n                    var keySrc = srcAttr[1];\n\n                    if (options.imagesPreviewHandler) {\n                        var newSrc = options.imagesPreviewHandler(srcAttr[1]);\n                        // defensive check making sure the handler provided by the user returns a string\n                        if (typeof newSrc === 'string') {\n                            keySrc = newSrc;\n                        }\n                    }\n\n                    if (!window.EMDEimagesCache[keySrc]) {\n                        var img = document.createElement('img');\n                        img.onload = function () {\n                            window.EMDEimagesCache[keySrc] = {\n                                naturalWidth: img.naturalWidth,\n                                naturalHeight: img.naturalHeight,\n                                url: keySrc,\n                            };\n                            assignImageBlockAttributes(parentEl, window.EMDEimagesCache[keySrc]);\n                        };\n                        img.src = keySrc;\n                    } else {\n                        assignImageBlockAttributes(parentEl, window.EMDEimagesCache[keySrc]);\n                    }\n                }\n            }\n        });\n    }\n\n    this.codemirror.on('update', function () {\n        handleImages();\n    });\n\n    this.gui.sideBySide = this.createSideBySide();\n    this._rendered = this.element;\n\n    if (options.autofocus === true || el.autofocus) {\n        this.codemirror.focus();\n    }\n\n    // Fixes CodeMirror bug (#344)\n    var temp_cm = this.codemirror;\n    setTimeout(function () {\n        temp_cm.refresh();\n    }.bind(temp_cm), 0);\n};\n\nEasyMDE.prototype.cleanup = function () {\n    document.removeEventListener('keydown', this.documentOnKeyDown);\n};\n\n// Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem throw QuotaExceededError. We're going to detect this and set a variable accordingly.\nfunction isLocalStorageAvailable() {\n    if (typeof localStorage === 'object') {\n        try {\n            localStorage.setItem('smde_localStorage', 1);\n            localStorage.removeItem('smde_localStorage');\n        } catch (e) {\n            return false;\n        }\n    } else {\n        return false;\n    }\n\n    return true;\n}\n\nEasyMDE.prototype.autosave = function () {\n    if (isLocalStorageAvailable()) {\n        var easyMDE = this;\n\n        if (this.options.autosave.uniqueId == undefined || this.options.autosave.uniqueId == '') {\n            console.log('EasyMDE: You must set a uniqueId to use the autosave feature');\n            return;\n        }\n\n        if (this.options.autosave.binded !== true) {\n            if (easyMDE.element.form != null && easyMDE.element.form != undefined) {\n                easyMDE.element.form.addEventListener('submit', function () {\n                    clearTimeout(easyMDE.autosaveTimeoutId);\n                    easyMDE.autosaveTimeoutId = undefined;\n\n                    localStorage.removeItem('smde_' + easyMDE.options.autosave.uniqueId);\n                });\n            }\n\n            this.options.autosave.binded = true;\n        }\n\n        if (this.options.autosave.loaded !== true) {\n            if (typeof localStorage.getItem('smde_' + this.options.autosave.uniqueId) == 'string' && localStorage.getItem('smde_' + this.options.autosave.uniqueId) != '') {\n                this.codemirror.setValue(localStorage.getItem('smde_' + this.options.autosave.uniqueId));\n                this.options.autosave.foundSavedValue = true;\n            }\n\n            this.options.autosave.loaded = true;\n        }\n\n        var value = easyMDE.value();\n        if (value !== '') {\n            localStorage.setItem('smde_' + this.options.autosave.uniqueId, value);\n        } else {\n            localStorage.removeItem('smde_' + this.options.autosave.uniqueId);\n        }\n\n        var el = document.getElementById('autosaved');\n        if (el != null && el != undefined && el != '') {\n            var d = new Date();\n            var dd = new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale, 'en-US'], this.options.autosave.timeFormat.format).format(d);\n            var save = this.options.autosave.text == undefined ? 'Autosaved: ' : this.options.autosave.text;\n\n            el.innerHTML = save + dd;\n        }\n    } else {\n        console.log('EasyMDE: localStorage not available, cannot autosave');\n    }\n};\n\nEasyMDE.prototype.clearAutosavedValue = function () {\n    if (isLocalStorageAvailable()) {\n        if (this.options.autosave == undefined || this.options.autosave.uniqueId == undefined || this.options.autosave.uniqueId == '') {\n            console.log('EasyMDE: You must set a uniqueId to clear the autosave value');\n            return;\n        }\n\n        localStorage.removeItem('smde_' + this.options.autosave.uniqueId);\n    } else {\n        console.log('EasyMDE: localStorage not available, cannot autosave');\n    }\n};\n\n/**\n * Open the browse-file window to upload an image to a server.\n * @param [onSuccess] {function} see EasyMDE.prototype.uploadImage\n * @param [onError] {function} see EasyMDE.prototype.uploadImage\n */\nEasyMDE.prototype.openBrowseFileWindow = function (onSuccess, onError) {\n    var self = this;\n    var imageInput = this.gui.toolbar.getElementsByClassName('imageInput')[0];\n    imageInput.click(); //dispatchEvent(new MouseEvent('click'));  // replaced with click() for IE11 compatibility.\n    function onChange(event) {\n        if (self.options.imageUploadFunction) {\n            self.uploadImagesUsingCustomFunction(self.options.imageUploadFunction, event.target.files);\n        } else {\n            self.uploadImages(event.target.files, onSuccess, onError);\n        }\n        imageInput.removeEventListener('change', onChange);\n    }\n\n    imageInput.addEventListener('change', onChange);\n};\n\n/**\n * Upload an image to the server.\n *\n * @param file {File} The image to upload, as a HTML5 File object (https://developer.mozilla.org/en-US/docs/Web/API/File)\n * @param [onSuccess] {function} A callback function to execute after the image has been successfully uploaded, with one parameter:\n * - url (string): The URL of the uploaded image.\n * @param [onError] {function} A callback function to execute when the image upload fails, with one parameter:\n * - error (string): the detailed error to display to the user (based on messages from options.errorMessages).\n */\nEasyMDE.prototype.uploadImage = function (file, onSuccess, onError) {\n    var self = this;\n    onSuccess = onSuccess || function onSuccess(imageUrl) {\n        afterImageUploaded(self, imageUrl);\n    };\n\n    function onErrorSup(errorMessage) {\n        // show error on status bar and reset after 10000ms\n        self.updateStatusBar('upload-image', errorMessage);\n\n        setTimeout(function () {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n        }, 10000);\n\n        // run custom error handler\n        if (onError && typeof onError === 'function') {\n            onError(errorMessage);\n        }\n        // run error handler from options, this alerts the message.\n        self.options.errorCallback(errorMessage);\n    }\n\n    function fillErrorMessage(errorMessage) {\n        var units = self.options.imageTexts.sizeUnits.split(',');\n        return errorMessage\n            .replace('#image_name#', file.name)\n            .replace('#image_size#', humanFileSize(file.size, units))\n            .replace('#image_max_size#', humanFileSize(self.options.imageMaxSize, units));\n    }\n\n    if (file.size > this.options.imageMaxSize) {\n        onErrorSup(fillErrorMessage(this.options.errorMessages.fileTooLarge));\n        return;\n    }\n\n    var formData = new FormData();\n    formData.append('image', file);\n\n    // insert CSRF body token if provided in config.\n    if (self.options.imageCSRFToken && !self.options.imageCSRFHeader) {\n        formData.append(self.options.imageCSRFName, self.options.imageCSRFToken);\n    }\n\n    var request = new XMLHttpRequest();\n    request.upload.onprogress = function (event) {\n        if (event.lengthComputable) {\n            var progress = '' + Math.round((event.loaded * 100) / event.total);\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbProgress.replace('#file_name#', file.name).replace('#progress#', progress));\n        }\n    };\n    request.open('POST', this.options.imageUploadEndpoint);\n\n    // insert CSRF header token if provided in config.\n    if (self.options.imageCSRFToken && self.options.imageCSRFHeader) {\n        request.setRequestHeader(self.options.imageCSRFName, self.options.imageCSRFToken);\n    }\n\n    request.onload = function () {\n        try {\n            var response = JSON.parse(this.responseText);\n        } catch (error) {\n            console.error('EasyMDE: The server did not return a valid json.');\n            onErrorSup(fillErrorMessage(self.options.errorMessages.importError));\n            return;\n        }\n        if (this.status === 200 && response && !response.error && response.data && response.data.filePath) {\n            onSuccess((self.options.imagePathAbsolute ? '' : (window.location.origin + '/')) + response.data.filePath);\n        } else {\n            if (response.error && response.error in self.options.errorMessages) {  // preformatted error message\n                onErrorSup(fillErrorMessage(self.options.errorMessages[response.error]));\n            } else if (response.error) {  // server side generated error message\n                onErrorSup(fillErrorMessage(response.error));\n            } else {  //unknown error\n                console.error('EasyMDE: Received an unexpected response after uploading the image.'\n                    + this.status + ' (' + this.statusText + ')');\n                onErrorSup(fillErrorMessage(self.options.errorMessages.importError));\n            }\n        }\n    };\n\n    request.onerror = function (event) {\n        console.error('EasyMDE: An unexpected error occurred when trying to upload the image.'\n            + event.target.status + ' (' + event.target.statusText + ')');\n        onErrorSup(self.options.errorMessages.importError);\n    };\n\n    request.send(formData);\n\n};\n\n/**\n * Upload an image to the server using a custom upload function.\n *\n * @param imageUploadFunction {Function} The custom function to upload the image passed in options\n * @param file {File} The image to upload, as a HTML5 File object (https://developer.mozilla.org/en-US/docs/Web/API/File).\n */\nEasyMDE.prototype.uploadImageUsingCustomFunction = function (imageUploadFunction, file) {\n    var self = this;\n\n    function onSuccess(imageUrl) {\n        afterImageUploaded(self, imageUrl);\n    }\n\n    function onError(errorMessage) {\n        var filledErrorMessage = fillErrorMessage(errorMessage);\n        // show error on status bar and reset after 10000ms\n        self.updateStatusBar('upload-image', filledErrorMessage);\n\n        setTimeout(function () {\n            self.updateStatusBar('upload-image', self.options.imageTexts.sbInit);\n        }, 10000);\n\n        // run error handler from options, this alerts the message.\n        self.options.errorCallback(filledErrorMessage);\n    }\n\n    function fillErrorMessage(errorMessage) {\n        var units = self.options.imageTexts.sizeUnits.split(',');\n        return errorMessage\n            .replace('#image_name#', file.name)\n            .replace('#image_size#', humanFileSize(file.size, units))\n            .replace('#image_max_size#', humanFileSize(self.options.imageMaxSize, units));\n    }\n\n    imageUploadFunction.apply(this, [file, onSuccess, onError]);\n};\n\nEasyMDE.prototype.setPreviewMaxHeight = function () {\n    var cm = this.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var preview = wrapper.nextSibling;\n\n    // Calc preview max height\n    var paddingTop = parseInt(window.getComputedStyle(wrapper).paddingTop);\n    var borderTopWidth = parseInt(window.getComputedStyle(wrapper).borderTopWidth);\n    var optionsMaxHeight = parseInt(this.options.maxHeight);\n    var wrapperMaxHeight = optionsMaxHeight + paddingTop * 2 + borderTopWidth * 2;\n    var previewMaxHeight = wrapperMaxHeight.toString() + 'px';\n\n    preview.style.height = previewMaxHeight;\n};\n\nEasyMDE.prototype.createSideBySide = function () {\n    var cm = this.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var preview = wrapper.nextSibling;\n\n    if (!preview || !preview.classList.contains('editor-preview-side')) {\n        preview = document.createElement('div');\n        preview.className = 'editor-preview-side';\n\n        if (this.options.previewClass) {\n\n            if (Array.isArray(this.options.previewClass)) {\n                for (var i = 0; i < this.options.previewClass.length; i++) {\n                    preview.classList.add(this.options.previewClass[i]);\n                }\n\n            } else if (typeof this.options.previewClass === 'string') {\n                preview.classList.add(this.options.previewClass);\n            }\n        }\n\n        wrapper.parentNode.insertBefore(preview, wrapper.nextSibling);\n    }\n\n    if (typeof this.options.maxHeight !== 'undefined') {\n        this.setPreviewMaxHeight();\n    }\n\n    if (this.options.syncSideBySidePreviewScroll === false) return preview;\n    // Syncs scroll  editor -> preview\n    var cScroll = false;\n    var pScroll = false;\n    cm.on('scroll', function (v) {\n        if (cScroll) {\n            cScroll = false;\n            return;\n        }\n        pScroll = true;\n        var height = v.getScrollInfo().height - v.getScrollInfo().clientHeight;\n        var ratio = parseFloat(v.getScrollInfo().top) / height;\n        var move = (preview.scrollHeight - preview.clientHeight) * ratio;\n        preview.scrollTop = move;\n    });\n\n    // Syncs scroll  preview -> editor\n    preview.onscroll = function () {\n        if (pScroll) {\n            pScroll = false;\n            return;\n        }\n        cScroll = true;\n        var height = preview.scrollHeight - preview.clientHeight;\n        var ratio = parseFloat(preview.scrollTop) / height;\n        var move = (cm.getScrollInfo().height - cm.getScrollInfo().clientHeight) * ratio;\n        cm.scrollTo(0, move);\n    };\n    return preview;\n};\n\nEasyMDE.prototype.createToolbar = function (items) {\n    items = items || this.options.toolbar;\n\n    if (!items || items.length === 0) {\n        return;\n    }\n    var i;\n    for (i = 0; i < items.length; i++) {\n        if (toolbarBuiltInButtons[items[i]] != undefined) {\n            items[i] = toolbarBuiltInButtons[items[i]];\n        }\n    }\n\n    var bar = document.createElement('div');\n    bar.className = 'editor-toolbar';\n    bar.setAttribute('role', 'toolbar');\n\n    var self = this;\n\n    var toolbarData = {};\n    self.toolbar = items;\n\n    for (i = 0; i < items.length; i++) {\n        if (items[i].name == 'guide' && self.options.toolbarGuideIcon === false)\n            continue;\n\n        if (self.options.hideIcons && self.options.hideIcons.indexOf(items[i].name) != -1)\n            continue;\n\n        // Fullscreen does not work well on mobile devices (even tablets)\n        // In the future, hopefully this can be resolved\n        if ((items[i].name == 'fullscreen' || items[i].name == 'side-by-side') && isMobile())\n            continue;\n\n\n        // Don't include trailing separators\n        if (items[i] === '|') {\n            var nonSeparatorIconsFollow = false;\n\n            for (var x = (i + 1); x < items.length; x++) {\n                if (items[x] !== '|' && (!self.options.hideIcons || self.options.hideIcons.indexOf(items[x].name) == -1)) {\n                    nonSeparatorIconsFollow = true;\n                }\n            }\n\n            if (!nonSeparatorIconsFollow)\n                continue;\n        }\n\n\n        // Create the icon and append to the toolbar\n        (function (item) {\n            var el;\n            if (item === '|') {\n                el = createSep();\n            } else if (item.children) {\n                el = createToolbarDropdown(item, self.options.toolbarTips, self.options.shortcuts, self);\n            } else {\n                el = createToolbarButton(item, true, self.options.toolbarTips, self.options.shortcuts, 'button', self);\n            }\n\n\n            toolbarData[item.name || item] = el;\n            bar.appendChild(el);\n\n            // Create the input element (ie. <input type='file'>), used among\n            // with the 'import-image' icon to open the browse-file window.\n            if (item.name === 'upload-image') {\n                var imageInput = document.createElement('input');\n                imageInput.className = 'imageInput';\n                imageInput.type = 'file';\n                imageInput.multiple = true;\n                imageInput.name = 'image';\n                imageInput.accept = self.options.imageAccept;\n                imageInput.style.display = 'none';\n                imageInput.style.opacity = 0;\n                bar.appendChild(imageInput);\n            }\n        })(items[i]);\n    }\n\n    self.toolbar_div = bar;\n    self.toolbarElements = toolbarData;\n\n    var cm = this.codemirror;\n    cm.on('cursorActivity', function () {\n        var stat = getState(cm);\n\n        for (var key in toolbarData) {\n            (function (key) {\n                var el = toolbarData[key];\n                if (stat[key]) {\n                    el.classList.add('active');\n                } else if (key != 'fullscreen' && key != 'side-by-side') {\n                    el.classList.remove('active');\n                }\n            })(key);\n        }\n    });\n\n    var cmWrapper = cm.getWrapperElement();\n    cmWrapper.parentNode.insertBefore(bar, cmWrapper);\n    return bar;\n};\n\nEasyMDE.prototype.createStatusbar = function (status) {\n    // Initialize\n    status = status || this.options.status;\n    var options = this.options;\n    var cm = this.codemirror;\n\n    // Make sure the status variable is valid\n    if (!status || status.length === 0) {\n        return;\n    }\n\n    // Set up the built-in items\n    var items = [];\n    var i, onUpdate, onActivity, defaultValue;\n\n    for (i = 0; i < status.length; i++) {\n        // Reset some values\n        onUpdate = undefined;\n        onActivity = undefined;\n        defaultValue = undefined;\n\n\n        // Handle if custom or not\n        if (typeof status[i] === 'object') {\n            items.push({\n                className: status[i].className,\n                defaultValue: status[i].defaultValue,\n                onUpdate: status[i].onUpdate,\n                onActivity: status[i].onActivity,\n            });\n        } else {\n            var name = status[i];\n\n            if (name === 'words') {\n                defaultValue = function (el) {\n                    el.innerHTML = wordCount(cm.getValue());\n                };\n                onUpdate = function (el) {\n                    el.innerHTML = wordCount(cm.getValue());\n                };\n            } else if (name === 'lines') {\n                defaultValue = function (el) {\n                    el.innerHTML = cm.lineCount();\n                };\n                onUpdate = function (el) {\n                    el.innerHTML = cm.lineCount();\n                };\n            } else if (name === 'cursor') {\n                defaultValue = function (el) {\n                    el.innerHTML = '1:1';\n                };\n                onActivity = function (el) {\n                    var pos = cm.getCursor();\n                    var posLine = pos.line + 1;\n                    var posColumn = pos.ch + 1;\n                    el.innerHTML = posLine + ':' + posColumn;\n                };\n            } else if (name === 'autosave') {\n                defaultValue = function (el) {\n                    if (options.autosave != undefined && options.autosave.enabled === true) {\n                        el.setAttribute('id', 'autosaved');\n                    }\n                };\n            } else if (name === 'upload-image') {\n                defaultValue = function (el) {\n                    el.innerHTML = options.imageTexts.sbInit;\n                };\n            }\n\n            items.push({\n                className: name,\n                defaultValue: defaultValue,\n                onUpdate: onUpdate,\n                onActivity: onActivity,\n            });\n        }\n    }\n\n\n    // Create element for the status bar\n    var bar = document.createElement('div');\n    bar.className = 'editor-statusbar';\n\n\n    // Create a new span for each item\n    for (i = 0; i < items.length; i++) {\n        // Store in temporary variable\n        var item = items[i];\n\n\n        // Create span element\n        var el = document.createElement('span');\n        el.className = item.className;\n\n\n        // Ensure the defaultValue is a function\n        if (typeof item.defaultValue === 'function') {\n            item.defaultValue(el);\n        }\n\n\n        // Ensure the onUpdate is a function\n        if (typeof item.onUpdate === 'function') {\n            // Create a closure around the span of the current action, then execute the onUpdate handler\n            this.codemirror.on('update', (function (el, item) {\n                return function () {\n                    item.onUpdate(el);\n                };\n            }(el, item)));\n        }\n        if (typeof item.onActivity === 'function') {\n            // Create a closure around the span of the current action, then execute the onActivity handler\n            this.codemirror.on('cursorActivity', (function (el, item) {\n                return function () {\n                    item.onActivity(el);\n                };\n            }(el, item)));\n        }\n\n\n        // Append the item to the status bar\n        bar.appendChild(el);\n    }\n\n\n    // Insert the status bar into the DOM\n    var cmWrapper = this.codemirror.getWrapperElement();\n    cmWrapper.parentNode.insertBefore(bar, cmWrapper.nextSibling);\n    return bar;\n};\n\n/**\n * Get or set the text content.\n */\nEasyMDE.prototype.value = function (val) {\n    var cm = this.codemirror;\n    if (val === undefined) {\n        return cm.getValue();\n    } else {\n        cm.getDoc().setValue(val);\n        if (this.isPreviewActive()) {\n            var wrapper = cm.getWrapperElement();\n            var preview = wrapper.lastChild;\n            var preview_result = this.options.previewRender(val, preview);\n            if (preview_result !== null) {\n                preview.innerHTML = preview_result;\n            }\n\n        }\n        return this;\n    }\n};\n\n\n/**\n * Bind static methods for exports.\n */\nEasyMDE.toggleBold = toggleBold;\nEasyMDE.toggleItalic = toggleItalic;\nEasyMDE.toggleStrikethrough = toggleStrikethrough;\nEasyMDE.toggleBlockquote = toggleBlockquote;\nEasyMDE.toggleHeadingSmaller = toggleHeadingSmaller;\nEasyMDE.toggleHeadingBigger = toggleHeadingBigger;\nEasyMDE.toggleHeading1 = toggleHeading1;\nEasyMDE.toggleHeading2 = toggleHeading2;\nEasyMDE.toggleHeading3 = toggleHeading3;\nEasyMDE.toggleHeading4 = toggleHeading4;\nEasyMDE.toggleHeading5 = toggleHeading5;\nEasyMDE.toggleHeading6 = toggleHeading6;\nEasyMDE.toggleCodeBlock = toggleCodeBlock;\nEasyMDE.toggleUnorderedList = toggleUnorderedList;\nEasyMDE.toggleOrderedList = toggleOrderedList;\nEasyMDE.cleanBlock = cleanBlock;\nEasyMDE.drawLink = drawLink;\nEasyMDE.drawImage = drawImage;\nEasyMDE.drawUploadedImage = drawUploadedImage;\nEasyMDE.drawTable = drawTable;\nEasyMDE.drawHorizontalRule = drawHorizontalRule;\nEasyMDE.undo = undo;\nEasyMDE.redo = redo;\nEasyMDE.togglePreview = togglePreview;\nEasyMDE.toggleSideBySide = toggleSideBySide;\nEasyMDE.toggleFullScreen = toggleFullScreen;\n\n/**\n * Bind instance methods for exports.\n */\nEasyMDE.prototype.toggleBold = function () {\n    toggleBold(this);\n};\nEasyMDE.prototype.toggleItalic = function () {\n    toggleItalic(this);\n};\nEasyMDE.prototype.toggleStrikethrough = function () {\n    toggleStrikethrough(this);\n};\nEasyMDE.prototype.toggleBlockquote = function () {\n    toggleBlockquote(this);\n};\nEasyMDE.prototype.toggleHeadingSmaller = function () {\n    toggleHeadingSmaller(this);\n};\nEasyMDE.prototype.toggleHeadingBigger = function () {\n    toggleHeadingBigger(this);\n};\nEasyMDE.prototype.toggleHeading1 = function () {\n    toggleHeading1(this);\n};\nEasyMDE.prototype.toggleHeading2 = function () {\n    toggleHeading2(this);\n};\nEasyMDE.prototype.toggleHeading3 = function () {\n    toggleHeading3(this);\n};\nEasyMDE.prototype.toggleHeading4 = function () {\n    toggleHeading4(this);\n};\nEasyMDE.prototype.toggleHeading5 = function () {\n    toggleHeading5(this);\n};\nEasyMDE.prototype.toggleHeading6 = function () {\n    toggleHeading6(this);\n};\nEasyMDE.prototype.toggleCodeBlock = function () {\n    toggleCodeBlock(this);\n};\nEasyMDE.prototype.toggleUnorderedList = function () {\n    toggleUnorderedList(this);\n};\nEasyMDE.prototype.toggleOrderedList = function () {\n    toggleOrderedList(this);\n};\nEasyMDE.prototype.cleanBlock = function () {\n    cleanBlock(this);\n};\nEasyMDE.prototype.drawLink = function () {\n    drawLink(this);\n};\nEasyMDE.prototype.drawImage = function () {\n    drawImage(this);\n};\nEasyMDE.prototype.drawUploadedImage = function () {\n    drawUploadedImage(this);\n};\nEasyMDE.prototype.drawTable = function () {\n    drawTable(this);\n};\nEasyMDE.prototype.drawHorizontalRule = function () {\n    drawHorizontalRule(this);\n};\nEasyMDE.prototype.undo = function () {\n    undo(this);\n};\nEasyMDE.prototype.redo = function () {\n    redo(this);\n};\nEasyMDE.prototype.togglePreview = function () {\n    togglePreview(this);\n};\nEasyMDE.prototype.toggleSideBySide = function () {\n    toggleSideBySide(this);\n};\nEasyMDE.prototype.toggleFullScreen = function () {\n    toggleFullScreen(this);\n};\n\nEasyMDE.prototype.isPreviewActive = function () {\n    var cm = this.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var preview = wrapper.lastChild;\n\n    return preview.classList.contains('editor-preview-active');\n};\n\nEasyMDE.prototype.isSideBySideActive = function () {\n    var cm = this.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var preview = wrapper.nextSibling;\n\n    return preview.classList.contains('editor-preview-active-side');\n};\n\nEasyMDE.prototype.isFullscreenActive = function () {\n    var cm = this.codemirror;\n\n    return cm.getOption('fullScreen');\n};\n\nEasyMDE.prototype.getState = function () {\n    var cm = this.codemirror;\n\n    return getState(cm);\n};\n\nEasyMDE.prototype.toTextArea = function () {\n    var cm = this.codemirror;\n    var wrapper = cm.getWrapperElement();\n    var easyMDEContainer = wrapper.parentNode;\n\n    if (easyMDEContainer) {\n        if (this.gui.toolbar) {\n            easyMDEContainer.removeChild(this.gui.toolbar);\n        }\n        if (this.gui.statusbar) {\n            easyMDEContainer.removeChild(this.gui.statusbar);\n        }\n        if (this.gui.sideBySide) {\n            easyMDEContainer.removeChild(this.gui.sideBySide);\n        }\n    }\n\n    // Unwrap easyMDEcontainer before codemirror toTextArea() call\n    easyMDEContainer.parentNode.insertBefore(wrapper, easyMDEContainer);\n    easyMDEContainer.remove();\n\n    cm.toTextArea();\n\n    if (this.autosaveTimeoutId) {\n        clearTimeout(this.autosaveTimeoutId);\n        this.autosaveTimeoutId = undefined;\n        this.clearAutosavedValue();\n    }\n};\n\nmodule.exports = EasyMDE;\n","// src/SimpleMdeReact.tsx\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from \"react\";\nimport SimpleMDE from \"easymde\";\nvar _id = 0;\nvar generateId = () => `simplemde-editor-${++_id}`;\nvar useHandleEditorInstanceLifecycle = ({\n  options,\n  id,\n  currentValueRef,\n  textRef\n}) => {\n  const [editor, setEditor] = useState(null);\n  const imageUploadCallback = useCallback(\n    (file, onSuccess, onError) => {\n      const imageUpload = options == null ? void 0 : options.imageUploadFunction;\n      if (imageUpload) {\n        const _onSuccess = (url) => {\n          onSuccess(url);\n        };\n        imageUpload(file, _onSuccess, onError);\n      }\n    },\n    [options == null ? void 0 : options.imageUploadFunction]\n  );\n  const editorRef = useRef(editor);\n  editorRef.current = editor;\n  useEffect(() => {\n    let editor2;\n    if (textRef) {\n      const initialOptions = {\n        element: textRef,\n        initialValue: currentValueRef.current\n      };\n      const imageUploadFunction = (options == null ? void 0 : options.imageUploadFunction) ? imageUploadCallback : void 0;\n      editor2 = new SimpleMDE(\n        Object.assign({}, initialOptions, options, {\n          imageUploadFunction\n        })\n      );\n      setEditor(editor2);\n    }\n    return () => {\n      editor2 == null ? void 0 : editor2.toTextArea();\n      editor2 == null ? void 0 : editor2.cleanup();\n    };\n  }, [textRef, currentValueRef, id, imageUploadCallback, options]);\n  const codemirror = useMemo(() => {\n    return editor == null ? void 0 : editor.codemirror;\n  }, [editor == null ? void 0 : editor.codemirror]);\n  return { editor, codemirror };\n};\nvar SimpleMdeReact = React.forwardRef((props, ref) => {\n  const {\n    events,\n    value,\n    options,\n    children,\n    extraKeys,\n    getLineAndCursor,\n    getMdeInstance,\n    getCodemirrorInstance,\n    onChange,\n    id: anId,\n    placeholder,\n    textareaProps,\n    ...rest\n  } = props;\n  const id = useMemo(() => anId ?? generateId(), [anId]);\n  const elementWrapperRef = useRef(null);\n  const nonEventChangeRef = useRef(true);\n  const currentValueRef = useRef(value);\n  currentValueRef.current = value;\n  const [textRef, setTextRef] = useState(null);\n  const { editor, codemirror } = useHandleEditorInstanceLifecycle({\n    options,\n    id,\n    currentValueRef,\n    textRef\n  });\n  useEffect(() => {\n    if (nonEventChangeRef.current) {\n      editor == null ? void 0 : editor.value(value ?? \"\");\n    }\n    nonEventChangeRef.current = true;\n  }, [editor, value]);\n  const onCodemirrorChangeHandler = useCallback(\n    (_, changeObject) => {\n      if ((editor == null ? void 0 : editor.value()) !== currentValueRef.current) {\n        nonEventChangeRef.current = false;\n        onChange == null ? void 0 : onChange((editor == null ? void 0 : editor.value()) ?? \"\", changeObject);\n      }\n    },\n    [editor, onChange]\n  );\n  useEffect(() => {\n    if (options == null ? void 0 : options.autofocus) {\n      codemirror == null ? void 0 : codemirror.focus();\n      codemirror == null ? void 0 : codemirror.setCursor(codemirror == null ? void 0 : codemirror.lineCount(), 0);\n    }\n  }, [codemirror, options == null ? void 0 : options.autofocus]);\n  const getCursorCallback = useCallback(() => {\n    codemirror && (getLineAndCursor == null ? void 0 : getLineAndCursor(codemirror.getDoc().getCursor()));\n  }, [codemirror, getLineAndCursor]);\n  useEffect(() => {\n    getCursorCallback();\n  }, [getCursorCallback]);\n  useEffect(() => {\n    editor && (getMdeInstance == null ? void 0 : getMdeInstance(editor));\n  }, [editor, getMdeInstance]);\n  useEffect(() => {\n    codemirror && (getCodemirrorInstance == null ? void 0 : getCodemirrorInstance(codemirror));\n  }, [codemirror, getCodemirrorInstance, getMdeInstance]);\n  useEffect(() => {\n    if (extraKeys && codemirror) {\n      codemirror.setOption(\n        \"extraKeys\",\n        Object.assign({}, codemirror.getOption(\"extraKeys\"), extraKeys)\n      );\n    }\n  }, [codemirror, extraKeys]);\n  useEffect(() => {\n    var _a;\n    const toolbarNode = (_a = elementWrapperRef.current) == null ? void 0 : _a.getElementsByClassName(\n      \"editor-toolbarNode\"\n    )[0];\n    const handler = codemirror && onCodemirrorChangeHandler;\n    if (handler) {\n      toolbarNode == null ? void 0 : toolbarNode.addEventListener(\"click\", handler);\n      return () => {\n        toolbarNode == null ? void 0 : toolbarNode.removeEventListener(\"click\", handler);\n      };\n    }\n    return () => {\n    };\n  }, [codemirror, onCodemirrorChangeHandler]);\n  useEffect(() => {\n    codemirror == null ? void 0 : codemirror.on(\"change\", onCodemirrorChangeHandler);\n    codemirror == null ? void 0 : codemirror.on(\"cursorActivity\", getCursorCallback);\n    return () => {\n      codemirror == null ? void 0 : codemirror.off(\"change\", onCodemirrorChangeHandler);\n      codemirror == null ? void 0 : codemirror.off(\"cursorActivity\", getCursorCallback);\n    };\n  }, [codemirror, getCursorCallback, onCodemirrorChangeHandler]);\n  const prevEvents = useRef(events);\n  useEffect(() => {\n    const isNotFirstEffectRun = events !== prevEvents.current;\n    isNotFirstEffectRun && prevEvents.current && Object.entries(prevEvents.current).forEach(([event, handler]) => {\n      handler && (codemirror == null ? void 0 : codemirror.off(event, handler));\n    });\n    events && Object.entries(events).forEach(([event, handler]) => {\n      handler && (codemirror == null ? void 0 : codemirror.on(event, handler));\n    });\n    prevEvents.current = events;\n    return () => {\n      events && Object.entries(events).forEach(([event, handler]) => {\n        handler && (codemirror == null ? void 0 : codemirror.off(event, handler));\n      });\n    };\n  }, [codemirror, events]);\n  return /* @__PURE__ */ React.createElement(\"div\", {\n    id: `${id}-wrapper`,\n    ...rest,\n    ref: (aRef) => {\n      if (typeof ref === \"function\") {\n        ref(aRef);\n      } else if (ref) {\n        ref.current = aRef;\n      }\n      elementWrapperRef.current = aRef;\n    }\n  }, /* @__PURE__ */ React.createElement(\"textarea\", {\n    ...textareaProps,\n    id,\n    placeholder,\n    ref: setTextRef,\n    style: { display: \"none\" }\n  }));\n});\nSimpleMdeReact.displayName = \"SimpleMdeReact\";\nvar SimpleMdeReact_default = SimpleMdeReact;\nexport {\n  SimpleMdeReact,\n  SimpleMdeReact_default as default\n};\n//# sourceMappingURL=SimpleMdeReact.mjs.map","import * as React from \"react\"\r\n\r\n// this library is client-side only\r\nimport { SimpleMdeReact } from \"react-simplemde-editor\";\r\nimport \"easymde/dist/easymde.min.css\";\r\n\r\nconst SimpleMdeReactComponent = () => {\r\n\tconst delay = 100;\r\n\tconst autosavedValue = localStorage.getItem(`smde_paragraph`) || \"A minimalist notebook - all notes are stored locally in your browser.\";\r\n\tconst anOptions = React.useMemo(() => {\r\n\t\treturn {\r\n\t\t\tautosave: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tuniqueId: \"paragraph\",\r\n\t\t\t\tdelay,\r\n\t\t\t},\r\n\t\t\tautofocus: true,\r\n\t\t\tspellChecker: false,\r\n\t\t\tfullScreen: true,\r\n\t\t};\r\n\t}, [delay]);\r\n\r\n\treturn (\r\n\t\t<SimpleMdeReact id=\"paragraph\" value={autosavedValue} options={anOptions} />\r\n\t)\r\n}\r\n\r\nexport default SimpleMdeReactComponent\r\n","/* globals chrome: false */\n/* globals __dirname: false */\n/* globals require: false */\n/* globals Buffer: false */\n/* globals module: false */\n\n/**\n * Typo is a JavaScript implementation of a spellchecker using hunspell-style \n * dictionaries.\n */\n\nvar Typo;\n\n(function () {\n\"use strict\";\n\n/**\n * Typo constructor.\n *\n * @param {String} [dictionary] The locale code of the dictionary being used. e.g.,\n *                              \"en_US\". This is only used to auto-load dictionaries.\n * @param {String} [affData]    The data from the dictionary's .aff file. If omitted\n *                              and Typo.js is being used in a Chrome extension, the .aff\n *                              file will be loaded automatically from\n *                              lib/typo/dictionaries/[dictionary]/[dictionary].aff\n *                              In other environments, it will be loaded from\n *                              [settings.dictionaryPath]/dictionaries/[dictionary]/[dictionary].aff\n * @param {String} [wordsData]  The data from the dictionary's .dic file. If omitted\n *                              and Typo.js is being used in a Chrome extension, the .dic\n *                              file will be loaded automatically from\n *                              lib/typo/dictionaries/[dictionary]/[dictionary].dic\n *                              In other environments, it will be loaded from\n *                              [settings.dictionaryPath]/dictionaries/[dictionary]/[dictionary].dic\n * @param {Object} [settings]   Constructor settings. Available properties are:\n *                              {String} [dictionaryPath]: path to load dictionary from in non-chrome\n *                              environment.\n *                              {Object} [flags]: flag information.\n *                              {Boolean} [asyncLoad]: If true, affData and wordsData will be loaded\n *                              asynchronously.\n *                              {Function} [loadedCallback]: Called when both affData and wordsData\n *                              have been loaded. Only used if asyncLoad is set to true. The parameter\n *                              is the instantiated Typo object.\n *\n * @returns {Typo} A Typo object.\n */\n\nTypo = function (dictionary, affData, wordsData, settings) {\n\tsettings = settings || {};\n\n\tthis.dictionary = null;\n\t\n\tthis.rules = {};\n\tthis.dictionaryTable = {};\n\t\n\tthis.compoundRules = [];\n\tthis.compoundRuleCodes = {};\n\t\n\tthis.replacementTable = [];\n\t\n\tthis.flags = settings.flags || {}; \n\t\n\tthis.memoized = {};\n\n\tthis.loaded = false;\n\t\n\tvar self = this;\n\t\n\tvar path;\n\t\n\t// Loop-control variables.\n\tvar i, j, _len, _jlen;\n\t\n\tif (dictionary) {\n\t\tself.dictionary = dictionary;\n\t\t\n\t\t// If the data is preloaded, just setup the Typo object.\n\t\tif (affData && wordsData) {\n\t\t\tsetup();\n\t\t}\n\t\t// Loading data for Chrome extentions.\n\t\telse if (typeof window !== 'undefined' && 'chrome' in window && 'extension' in window.chrome && 'getURL' in window.chrome.extension) {\n\t\t\tif (settings.dictionaryPath) {\n\t\t\t\tpath = settings.dictionaryPath;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpath = \"typo/dictionaries\";\n\t\t\t}\n\t\t\t\n\t\t\tif (!affData) readDataFile(chrome.extension.getURL(path + \"/\" + dictionary + \"/\" + dictionary + \".aff\"), setAffData);\n\t\t\tif (!wordsData) readDataFile(chrome.extension.getURL(path + \"/\" + dictionary + \"/\" + dictionary + \".dic\"), setWordsData);\n\t\t}\n\t\telse {\n\t\t\tif (settings.dictionaryPath) {\n\t\t\t\tpath = settings.dictionaryPath;\n\t\t\t}\n\t\t\telse if (typeof __dirname !== 'undefined') {\n\t\t\t\tpath = __dirname + '/dictionaries';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpath = './dictionaries';\n\t\t\t}\n\t\t\t\n\t\t\tif (!affData) readDataFile(path + \"/\" + dictionary + \"/\" + dictionary + \".aff\", setAffData);\n\t\t\tif (!wordsData) readDataFile(path + \"/\" + dictionary + \"/\" + dictionary + \".dic\", setWordsData);\n\t\t}\n\t}\n\t\n\tfunction readDataFile(url, setFunc) {\n\t\tvar response = self._readFile(url, null, settings.asyncLoad);\n\t\t\n\t\tif (settings.asyncLoad) {\n\t\t\tresponse.then(function(data) {\n\t\t\t\tsetFunc(data);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tsetFunc(response);\n\t\t}\n\t}\n\n\tfunction setAffData(data) {\n\t\taffData = data;\n\n\t\tif (wordsData) {\n\t\t\tsetup();\n\t\t}\n\t}\n\n\tfunction setWordsData(data) {\n\t\twordsData = data;\n\n\t\tif (affData) {\n\t\t\tsetup();\n\t\t}\n\t}\n\n\tfunction setup() {\n\t\tself.rules = self._parseAFF(affData);\n\t\t\n\t\t// Save the rule codes that are used in compound rules.\n\t\tself.compoundRuleCodes = {};\n\t\t\n\t\tfor (i = 0, _len = self.compoundRules.length; i < _len; i++) {\n\t\t\tvar rule = self.compoundRules[i];\n\t\t\t\n\t\t\tfor (j = 0, _jlen = rule.length; j < _jlen; j++) {\n\t\t\t\tself.compoundRuleCodes[rule[j]] = [];\n\t\t\t}\n\t\t}\n\t\t\n\t\t// If we add this ONLYINCOMPOUND flag to self.compoundRuleCodes, then _parseDIC\n\t\t// will do the work of saving the list of words that are compound-only.\n\t\tif (\"ONLYINCOMPOUND\" in self.flags) {\n\t\t\tself.compoundRuleCodes[self.flags.ONLYINCOMPOUND] = [];\n\t\t}\n\t\t\n\t\tself.dictionaryTable = self._parseDIC(wordsData);\n\t\t\n\t\t// Get rid of any codes from the compound rule codes that are never used \n\t\t// (or that were special regex characters).  Not especially necessary... \n\t\tfor (i in self.compoundRuleCodes) {\n\t\t\tif (self.compoundRuleCodes[i].length === 0) {\n\t\t\t\tdelete self.compoundRuleCodes[i];\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Build the full regular expressions for each compound rule.\n\t\t// I have a feeling (but no confirmation yet) that this method of \n\t\t// testing for compound words is probably slow.\n\t\tfor (i = 0, _len = self.compoundRules.length; i < _len; i++) {\n\t\t\tvar ruleText = self.compoundRules[i];\n\t\t\t\n\t\t\tvar expressionText = \"\";\n\t\t\t\n\t\t\tfor (j = 0, _jlen = ruleText.length; j < _jlen; j++) {\n\t\t\t\tvar character = ruleText[j];\n\t\t\t\t\n\t\t\t\tif (character in self.compoundRuleCodes) {\n\t\t\t\t\texpressionText += \"(\" + self.compoundRuleCodes[character].join(\"|\") + \")\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\texpressionText += character;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.compoundRules[i] = new RegExp(expressionText, \"i\");\n\t\t}\n\t\t\n\t\tself.loaded = true;\n\t\t\n\t\tif (settings.asyncLoad && settings.loadedCallback) {\n\t\t\tsettings.loadedCallback(self);\n\t\t}\n\t}\n\t\n\treturn this;\n};\n\nTypo.prototype = {\n\t/**\n\t * Loads a Typo instance from a hash of all of the Typo properties.\n\t *\n\t * @param object obj A hash of Typo properties, probably gotten from a JSON.parse(JSON.stringify(typo_instance)).\n\t */\n\t\n\tload : function (obj) {\n\t\tfor (var i in obj) {\n\t\t\tif (obj.hasOwnProperty(i)) {\n\t\t\t\tthis[i] = obj[i];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn this;\n\t},\n\t\n\t/**\n\t * Read the contents of a file.\n\t * \n\t * @param {String} path The path (relative) to the file.\n\t * @param {String} [charset=\"ISO8859-1\"] The expected charset of the file\n\t * @param {Boolean} async If true, the file will be read asynchronously. For node.js this does nothing, all\n\t *        files are read synchronously.\n\t * @returns {String} The file data if async is false, otherwise a promise object. If running node.js, the data is\n\t *          always returned.\n\t */\n\t\n\t_readFile : function (path, charset, async) {\n\t\tcharset = charset || \"utf8\";\n\t\t\n\t\tif (typeof XMLHttpRequest !== 'undefined') {\n\t\t\tvar promise;\n\t\t\tvar req = new XMLHttpRequest();\n\t\t\treq.open(\"GET\", path, async);\n\t\t\t\n\t\t\tif (async) {\n\t\t\t\tpromise = new Promise(function(resolve, reject) {\n\t\t\t\t\treq.onload = function() {\n\t\t\t\t\t\tif (req.status === 200) {\n\t\t\t\t\t\t\tresolve(req.responseText);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treject(req.statusText);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\treq.onerror = function() {\n\t\t\t\t\t\treject(req.statusText);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tif (req.overrideMimeType)\n\t\t\t\treq.overrideMimeType(\"text/plain; charset=\" + charset);\n\t\t\n\t\t\treq.send(null);\n\t\t\t\n\t\t\treturn async ? promise : req.responseText;\n\t\t}\n\t\telse if (typeof require !== 'undefined') {\n\t\t\t// Node.js\n\t\t\tvar fs = require(\"fs\");\n\t\t\t\n\t\t\ttry {\n\t\t\t\tif (fs.existsSync(path)) {\n\t\t\t\t\treturn fs.readFileSync(path, charset);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.log(\"Path \" + path + \" does not exist.\");\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t},\n\t\n\t/**\n\t * Parse the rules out from a .aff file.\n\t *\n\t * @param {String} data The contents of the affix file.\n\t * @returns object The rules from the file.\n\t */\n\t\n\t_parseAFF : function (data) {\n\t\tvar rules = {};\n\t\t\n\t\tvar line, subline, numEntries, lineParts;\n\t\tvar i, j, _len, _jlen;\n\t\t\n\t\tvar lines = data.split(/\\r?\\n/);\n\t\t\n\t\tfor (i = 0, _len = lines.length; i < _len; i++) {\n\t\t\t// Remove comment lines\n\t\t\tline = this._removeAffixComments(lines[i]);\n\t\t\tline = line.trim();\n\t\t\t\n\t\t\tif ( ! line ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tvar definitionParts = line.split(/\\s+/);\n\t\t\t\n\t\t\tvar ruleType = definitionParts[0];\n\t\t\t\n\t\t\tif (ruleType == \"PFX\" || ruleType == \"SFX\") {\n\t\t\t\tvar ruleCode = definitionParts[1];\n\t\t\t\tvar combineable = definitionParts[2];\n\t\t\t\tnumEntries = parseInt(definitionParts[3], 10);\n\t\t\t\t\n\t\t\t\tvar entries = [];\n\t\t\t\t\n\t\t\t\tfor (j = i + 1, _jlen = i + 1 + numEntries; j < _jlen; j++) {\n\t\t\t\t\tsubline = lines[j];\n\t\t\t\t\t\n\t\t\t\t\tlineParts = subline.split(/\\s+/);\n\t\t\t\t\tvar charactersToRemove = lineParts[2];\n\t\t\t\t\t\n\t\t\t\t\tvar additionParts = lineParts[3].split(\"/\");\n\t\t\t\t\t\n\t\t\t\t\tvar charactersToAdd = additionParts[0];\n\t\t\t\t\tif (charactersToAdd === \"0\") charactersToAdd = \"\";\n\t\t\t\t\t\n\t\t\t\t\tvar continuationClasses = this.parseRuleCodes(additionParts[1]);\n\t\t\t\t\t\n\t\t\t\t\tvar regexToMatch = lineParts[4];\n\t\t\t\t\t\n\t\t\t\t\tvar entry = {};\n\t\t\t\t\tentry.add = charactersToAdd;\n\t\t\t\t\t\n\t\t\t\t\tif (continuationClasses.length > 0) entry.continuationClasses = continuationClasses;\n\t\t\t\t\t\n\t\t\t\t\tif (regexToMatch !== \".\") {\n\t\t\t\t\t\tif (ruleType === \"SFX\") {\n\t\t\t\t\t\t\tentry.match = new RegExp(regexToMatch + \"$\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tentry.match = new RegExp(\"^\" + regexToMatch);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (charactersToRemove != \"0\") {\n\t\t\t\t\t\tif (ruleType === \"SFX\") {\n\t\t\t\t\t\t\tentry.remove = new RegExp(charactersToRemove  + \"$\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tentry.remove = charactersToRemove;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tentries.push(entry);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trules[ruleCode] = { \"type\" : ruleType, \"combineable\" : (combineable == \"Y\"), \"entries\" : entries };\n\t\t\t\t\n\t\t\t\ti += numEntries;\n\t\t\t}\n\t\t\telse if (ruleType === \"COMPOUNDRULE\") {\n\t\t\t\tnumEntries = parseInt(definitionParts[1], 10);\n\t\t\t\t\n\t\t\t\tfor (j = i + 1, _jlen = i + 1 + numEntries; j < _jlen; j++) {\n\t\t\t\t\tline = lines[j];\n\t\t\t\t\t\n\t\t\t\t\tlineParts = line.split(/\\s+/);\n\t\t\t\t\tthis.compoundRules.push(lineParts[1]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ti += numEntries;\n\t\t\t}\n\t\t\telse if (ruleType === \"REP\") {\n\t\t\t\tlineParts = line.split(/\\s+/);\n\t\t\t\t\n\t\t\t\tif (lineParts.length === 3) {\n\t\t\t\t\tthis.replacementTable.push([ lineParts[1], lineParts[2] ]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// ONLYINCOMPOUND\n\t\t\t\t// COMPOUNDMIN\n\t\t\t\t// FLAG\n\t\t\t\t// KEEPCASE\n\t\t\t\t// NEEDAFFIX\n\t\t\t\t\n\t\t\t\tthis.flags[ruleType] = definitionParts[1];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rules;\n\t},\n\t\n\t/**\n\t * Removes comments.\n\t *\n\t * @param {String} data A line from an affix file.\n\t * @return {String} The cleaned-up line.\n\t */\n\t\n\t_removeAffixComments : function (line) {\n\t\t// This used to remove any string starting with '#' up to the end of the line,\n\t\t// but some COMPOUNDRULE definitions include '#' as part of the rule.\n\t\t// So, only remove lines that begin with a comment, optionally preceded by whitespace.\n\t\tif ( line.match( /^\\s*#/, \"\" ) ) {\n\t\t\treturn '';\n\t\t}\n\t\t\n\t\treturn line;\n\t},\n\t\n\t/**\n\t * Parses the words out from the .dic file.\n\t *\n\t * @param {String} data The data from the dictionary file.\n\t * @returns object The lookup table containing all of the words and\n\t *                 word forms from the dictionary.\n\t */\n\t\n\t_parseDIC : function (data) {\n\t\tdata = this._removeDicComments(data);\n\t\t\n\t\tvar lines = data.split(/\\r?\\n/);\n\t\tvar dictionaryTable = {};\n\t\t\n\t\tfunction addWord(word, rules) {\n\t\t\t// Some dictionaries will list the same word multiple times with different rule sets.\n\t\t\tif (!dictionaryTable.hasOwnProperty(word)) {\n\t\t\t\tdictionaryTable[word] = null;\n\t\t\t}\n\t\t\t\n\t\t\tif (rules.length > 0) {\n\t\t\t\tif (dictionaryTable[word] === null) {\n\t\t\t\t\tdictionaryTable[word] = [];\n\t\t\t\t}\n\n\t\t\t\tdictionaryTable[word].push(rules);\n\t\t\t}\n\t\t}\n\t\t\n\t\t// The first line is the number of words in the dictionary.\n\t\tfor (var i = 1, _len = lines.length; i < _len; i++) {\n\t\t\tvar line = lines[i];\n\t\t\t\n\t\t\tif (!line) {\n\t\t\t\t// Ignore empty lines.\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar parts = line.split(\"/\", 2);\n\t\t\t\n\t\t\tvar word = parts[0];\n\n\t\t\t// Now for each affix rule, generate that form of the word.\n\t\t\tif (parts.length > 1) {\n\t\t\t\tvar ruleCodesArray = this.parseRuleCodes(parts[1]);\n\t\t\t\t\n\t\t\t\t// Save the ruleCodes for compound word situations.\n\t\t\t\tif (!(\"NEEDAFFIX\" in this.flags) || ruleCodesArray.indexOf(this.flags.NEEDAFFIX) == -1) {\n\t\t\t\t\taddWord(word, ruleCodesArray);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor (var j = 0, _jlen = ruleCodesArray.length; j < _jlen; j++) {\n\t\t\t\t\tvar code = ruleCodesArray[j];\n\t\t\t\t\t\n\t\t\t\t\tvar rule = this.rules[code];\n\t\t\t\t\t\n\t\t\t\t\tif (rule) {\n\t\t\t\t\t\tvar newWords = this._applyRule(word, rule);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var ii = 0, _iilen = newWords.length; ii < _iilen; ii++) {\n\t\t\t\t\t\t\tvar newWord = newWords[ii];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\taddWord(newWord, []);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (rule.combineable) {\n\t\t\t\t\t\t\t\tfor (var k = j + 1; k < _jlen; k++) {\n\t\t\t\t\t\t\t\t\tvar combineCode = ruleCodesArray[k];\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvar combineRule = this.rules[combineCode];\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (combineRule) {\n\t\t\t\t\t\t\t\t\t\tif (combineRule.combineable && (rule.type != combineRule.type)) {\n\t\t\t\t\t\t\t\t\t\t\tvar otherNewWords = this._applyRule(newWord, combineRule);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tfor (var iii = 0, _iiilen = otherNewWords.length; iii < _iiilen; iii++) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar otherNewWord = otherNewWords[iii];\n\t\t\t\t\t\t\t\t\t\t\t\taddWord(otherNewWord, []);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (code in this.compoundRuleCodes) {\n\t\t\t\t\t\tthis.compoundRuleCodes[code].push(word);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\taddWord(word.trim(), []);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn dictionaryTable;\n\t},\n\t\n\t\n\t/**\n\t * Removes comment lines and then cleans up blank lines and trailing whitespace.\n\t *\n\t * @param {String} data The data from a .dic file.\n\t * @return {String} The cleaned-up data.\n\t */\n\t\n\t_removeDicComments : function (data) {\n\t\t// I can't find any official documentation on it, but at least the de_DE\n\t\t// dictionary uses tab-indented lines as comments.\n\t\t\n\t\t// Remove comments\n\t\tdata = data.replace(/^\\t.*$/mg, \"\");\n\t\t\n\t\treturn data;\n\t},\n\t\n\tparseRuleCodes : function (textCodes) {\n\t\tif (!textCodes) {\n\t\t\treturn [];\n\t\t}\n\t\telse if (!(\"FLAG\" in this.flags)) {\n\t\t\t// The flag symbols are single characters\n\t\t\treturn textCodes.split(\"\");\n\t\t}\n\t\telse if (this.flags.FLAG === \"long\") {\n\t\t\t// The flag symbols are two characters long.\n\t\t\tvar flags = [];\n\t\t\t\n\t\t\tfor (var i = 0, _len = textCodes.length; i < _len; i += 2) {\n\t\t\t\tflags.push(textCodes.substr(i, 2));\n\t\t\t}\n\t\t\t\n\t\t\treturn flags;\n\t\t}\n\t\telse if (this.flags.FLAG === \"num\") {\n\t\t\t// The flag symbols are a CSV list of numbers.\n\t\t\treturn textCodes.split(\",\");\n\t\t}\n\t\telse if (this.flags.FLAG === \"UTF-8\") {\n\t\t\t// The flags are single UTF-8 characters.\n\t\t\t// @see https://github.com/cfinke/Typo.js/issues/57\n\t\t\treturn Array.from(textCodes);\n\t\t}\n\t\telse {\n\t\t\t// It's possible that this fallback case will not work for all FLAG values,\n\t\t\t// but I think it's more likely to work than not returning anything at all.\n\t\t\treturn textCodes.split(\"\");\n\t\t}\n\t},\n\t\n\t/**\n\t * Applies an affix rule to a word.\n\t *\n\t * @param {String} word The base word.\n\t * @param {Object} rule The affix rule.\n\t * @returns {String[]} The new words generated by the rule.\n\t */\n\t\n\t_applyRule : function (word, rule) {\n\t\tvar entries = rule.entries;\n\t\tvar newWords = [];\n\t\t\n\t\tfor (var i = 0, _len = entries.length; i < _len; i++) {\n\t\t\tvar entry = entries[i];\n\t\t\t\n\t\t\tif (!entry.match || word.match(entry.match)) {\n\t\t\t\tvar newWord = word;\n\t\t\t\t\n\t\t\t\tif (entry.remove) {\n\t\t\t\t\tnewWord = newWord.replace(entry.remove, \"\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (rule.type === \"SFX\") {\n\t\t\t\t\tnewWord = newWord + entry.add;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnewWord = entry.add + newWord;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tnewWords.push(newWord);\n\t\t\t\t\n\t\t\t\tif (\"continuationClasses\" in entry) {\n\t\t\t\t\tfor (var j = 0, _jlen = entry.continuationClasses.length; j < _jlen; j++) {\n\t\t\t\t\t\tvar continuationRule = this.rules[entry.continuationClasses[j]];\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (continuationRule) {\n\t\t\t\t\t\t\tnewWords = newWords.concat(this._applyRule(newWord, continuationRule));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/*\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// This shouldn't happen, but it does, at least in the de_DE dictionary.\n\t\t\t\t\t\t\t// I think the author mistakenly supplied lower-case rule codes instead \n\t\t\t\t\t\t\t// of upper-case.\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn newWords;\n\t},\n\t\n\t/**\n\t * Checks whether a word or a capitalization variant exists in the current dictionary.\n\t * The word is trimmed and several variations of capitalizations are checked.\n\t * If you want to check a word without any changes made to it, call checkExact()\n\t *\n\t * @see http://blog.stevenlevithan.com/archives/faster-trim-javascript re:trimming function\n\t *\n\t * @param {String} aWord The word to check.\n\t * @returns {Boolean}\n\t */\n\t\n\tcheck : function (aWord) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\t\t\n\t\t// Remove leading and trailing whitespace\n\t\tvar trimmedWord = aWord.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\t\t\n\t\tif (this.checkExact(trimmedWord)) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t// The exact word is not in the dictionary.\n\t\tif (trimmedWord.toUpperCase() === trimmedWord) {\n\t\t\t// The word was supplied in all uppercase.\n\t\t\t// Check for a capitalized form of the word.\n\t\t\tvar capitalizedWord = trimmedWord[0] + trimmedWord.substring(1).toLowerCase();\n\t\t\t\n\t\t\tif (this.hasFlag(capitalizedWord, \"KEEPCASE\")) {\n\t\t\t\t// Capitalization variants are not allowed for this word.\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tif (this.checkExact(capitalizedWord)) {\n\t\t\t\t// The all-caps word is a capitalized word spelled correctly.\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (this.checkExact(trimmedWord.toLowerCase())) {\n\t\t\t\t// The all-caps is a lowercase word spelled correctly.\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar uncapitalizedWord = trimmedWord[0].toLowerCase() + trimmedWord.substring(1);\n\t\t\n\t\tif (uncapitalizedWord !== trimmedWord) {\n\t\t\tif (this.hasFlag(uncapitalizedWord, \"KEEPCASE\")) {\n\t\t\t\t// Capitalization variants are not allowed for this word.\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t// Check for an uncapitalized form\n\t\t\tif (this.checkExact(uncapitalizedWord)) {\n\t\t\t\t// The word is spelled correctly but with the first letter capitalized.\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t},\n\t\n\t/**\n\t * Checks whether a word exists in the current dictionary.\n\t *\n\t * @param {String} word The word to check.\n\t * @returns {Boolean}\n\t */\n\t\n\tcheckExact : function (word) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\n\t\tvar ruleCodes = this.dictionaryTable[word];\n\t\t\n\t\tvar i, _len;\n\t\t\n\t\tif (typeof ruleCodes === 'undefined') {\n\t\t\t// Check if this might be a compound word.\n\t\t\tif (\"COMPOUNDMIN\" in this.flags && word.length >= this.flags.COMPOUNDMIN) {\n\t\t\t\tfor (i = 0, _len = this.compoundRules.length; i < _len; i++) {\n\t\t\t\t\tif (word.match(this.compoundRules[i])) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (ruleCodes === null) {\n\t\t\t// a null (but not undefined) value for an entry in the dictionary table\n\t\t\t// means that the word is in the dictionary but has no flags.\n\t\t\treturn true;\n\t\t}\n\t\telse if (typeof ruleCodes === 'object') { // this.dictionary['hasOwnProperty'] will be a function.\n\t\t\tfor (i = 0, _len = ruleCodes.length; i < _len; i++) {\n\t\t\t\tif (!this.hasFlag(word, \"ONLYINCOMPOUND\", ruleCodes[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\t\n\t/**\n\t * Looks up whether a given word is flagged with a given flag.\n\t *\n\t * @param {String} word The word in question.\n\t * @param {String} flag The flag in question.\n\t * @return {Boolean}\n\t */\n\t \n\thasFlag : function (word, flag, wordFlags) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\n\t\tif (flag in this.flags) {\n\t\t\tif (typeof wordFlags === 'undefined') {\n\t\t\t\twordFlags = Array.prototype.concat.apply([], this.dictionaryTable[word]);\n\t\t\t}\n\t\t\t\n\t\t\tif (wordFlags && wordFlags.indexOf(this.flags[flag]) !== -1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t},\n\t\n\t/**\n\t * Returns a list of suggestions for a misspelled word.\n\t *\n\t * @see http://www.norvig.com/spell-correct.html for the basis of this suggestor.\n\t * This suggestor is primitive, but it works.\n\t *\n\t * @param {String} word The misspelling.\n\t * @param {Number} [limit=5] The maximum number of suggestions to return.\n\t * @returns {String[]} The array of suggestions.\n\t */\n\t\n\talphabet : \"\",\n\t\n\tsuggest : function (word, limit) {\n\t\tif (!this.loaded) {\n\t\t\tthrow \"Dictionary not loaded.\";\n\t\t}\n\n\t\tlimit = limit || 5;\n\n\t\tif (this.memoized.hasOwnProperty(word)) {\n\t\t\tvar memoizedLimit = this.memoized[word]['limit'];\n\n\t\t\t// Only return the cached list if it's big enough or if there weren't enough suggestions\n\t\t\t// to fill a smaller limit.\n\t\t\tif (limit <= memoizedLimit || this.memoized[word]['suggestions'].length < memoizedLimit) {\n\t\t\t\treturn this.memoized[word]['suggestions'].slice(0, limit);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (this.check(word)) return [];\n\t\t\n\t\t// Check the replacement table.\n\t\tfor (var i = 0, _len = this.replacementTable.length; i < _len; i++) {\n\t\t\tvar replacementEntry = this.replacementTable[i];\n\t\t\t\n\t\t\tif (word.indexOf(replacementEntry[0]) !== -1) {\n\t\t\t\tvar correctedWord = word.replace(replacementEntry[0], replacementEntry[1]);\n\t\t\t\t\n\t\t\t\tif (this.check(correctedWord)) {\n\t\t\t\t\treturn [ correctedWord ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!this.alphabet) {\n\t\t\t// Use the English alphabet as the default. Problematic, but backwards-compatible.\n\t\t\tthis.alphabet = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\t\t\t\n\t\t\t// Any characters defined in the affix file as substitutions can go in the alphabet too.\n\t\t\t// Note that dictionaries do not include the entire alphabet in the TRY flag when it's there.\n\t\t\t// For example, Q is not in the default English TRY list; that's why having the default\n\t\t\t// alphabet above is useful.\n\t\t\tif ( 'TRY' in this.flags ) {\n\t\t\t\tthis.alphabet += this.flags['TRY'];\n\t\t\t}\n\t\t\t\n\t\t\t// Plus any additional characters specifically defined as being allowed in words.\n\t\t\tif ( 'WORDCHARS' in this.flags ) {\n\t\t\t\tthis.alphabet += this.flags['WORDCHARS'];\n\t\t\t}\n\t\t\t\n\t\t\t// Remove any duplicates.\n\t\t\tvar alphaArray = this.alphabet.split(\"\");\n\t\t\talphaArray.sort();\n\n\t\t\tvar alphaHash = {};\n\t\t\tfor ( var i = 0; i < alphaArray.length; i++ ) {\n\t\t\t\talphaHash[ alphaArray[i] ] = true;\n\t\t\t}\n\t\t\t\n\t\t\tthis.alphabet = '';\n\t\t\t\n\t\t\tfor ( var i in alphaHash ) {\n\t\t\t\tthis.alphabet += i;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar self = this;\n\n\t\t/**\n\t\t * Returns a hash keyed by all of the strings that can be made by making a single edit to the word (or words in) `words`\n\t\t * The value of each entry is the number of unique ways that the resulting word can be made.\n\t\t *\n\t\t * @arg mixed words Either a hash keyed by words or a string word to operate on.\n\t\t * @arg bool known_only Whether this function should ignore strings that are not in the dictionary.\n\t\t */\n\t\tfunction edits1(words, known_only) {\n\t\t\tvar rv = {};\n\t\t\t\n\t\t\tvar i, j, _iilen, _len, _jlen, _edit;\n\n\t\t\tvar alphabetLength = self.alphabet.length;\n\t\t\t\n\t\t\tif (typeof words == 'string') {\n\t\t\t\tvar word = words;\n\t\t\t\twords = {};\n\t\t\t\twords[word] = true;\n\t\t\t}\n\n\t\t\tfor (var word in words) {\n\t\t\t\tfor (i = 0, _len = word.length + 1; i < _len; i++) {\n\t\t\t\t\tvar s = [ word.substring(0, i), word.substring(i) ];\n\t\t\t\t\n\t\t\t\t\t// Remove a letter.\n\t\t\t\t\tif (s[1]) {\n\t\t\t\t\t\t_edit = s[0] + s[1].substring(1);\n\n\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Transpose letters\n\t\t\t\t\t// Eliminate transpositions of identical letters\n\t\t\t\t\tif (s[1].length > 1 && s[1][1] !== s[1][0]) {\n\t\t\t\t\t\t_edit = s[0] + s[1][1] + s[1][0] + s[1].substring(2);\n\n\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (s[1]) {\n\t\t\t\t\t\t// Replace a letter with another letter.\n\n\t\t\t\t\t\tvar lettercase = (s[1].substring(0,1).toUpperCase() === s[1].substring(0,1)) ? 'uppercase' : 'lowercase';\n\n\t\t\t\t\t\tfor (j = 0; j < alphabetLength; j++) {\n\t\t\t\t\t\t\tvar replacementLetter = self.alphabet[j];\n\n\t\t\t\t\t\t\t// Set the case of the replacement letter to the same as the letter being replaced.\n\t\t\t\t\t\t\tif ( 'uppercase' === lettercase ) {\n\t\t\t\t\t\t\t\treplacementLetter = replacementLetter.toUpperCase();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Eliminate replacement of a letter by itself\n\t\t\t\t\t\t\tif (replacementLetter != s[1].substring(0,1)){\n\t\t\t\t\t\t\t\t_edit = s[0] + replacementLetter + s[1].substring(1);\n\n\t\t\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (s[1]) {\n\t\t\t\t\t\t// Add a letter between each letter.\n\t\t\t\t\t\tfor (j = 0; j < alphabetLength; j++) {\n\t\t\t\t\t\t\t// If the letters on each side are capitalized, capitalize the replacement.\n\t\t\t\t\t\t\tvar lettercase = (s[0].substring(-1).toUpperCase() === s[0].substring(-1) && s[1].substring(0,1).toUpperCase() === s[1].substring(0,1)) ? 'uppercase' : 'lowercase';\n\n\t\t\t\t\t\t\tvar replacementLetter = self.alphabet[j];\n\n\t\t\t\t\t\t\tif ( 'uppercase' === lettercase ) {\n\t\t\t\t\t\t\t\treplacementLetter = replacementLetter.toUpperCase();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_edit = s[0] + replacementLetter + s[1];\n\n\t\t\t\t\t\t\tif (!known_only || self.check(_edit)) {\n\t\t\t\t\t\t\t\tif (!(_edit in rv)) {\n\t\t\t\t\t\t\t\t\trv[_edit] = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\trv[_edit] += 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn rv;\n\t\t}\n\n\t\tfunction correct(word) {\n\t\t\t// Get the edit-distance-1 and edit-distance-2 forms of this word.\n\t\t\tvar ed1 = edits1(word);\n\t\t\tvar ed2 = edits1(ed1, true);\n\t\t\t\n\t\t\t// Sort the edits based on how many different ways they were created.\n\t\t\tvar weighted_corrections = ed2;\n\t\t\t\n\t\t\tfor (var ed1word in ed1) {\n\t\t\t\tif (!self.check(ed1word)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (ed1word in weighted_corrections) {\n\t\t\t\t\tweighted_corrections[ed1word] += ed1[ed1word];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tweighted_corrections[ed1word] = ed1[ed1word];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar i, _len;\n\n\t\t\tvar sorted_corrections = [];\n\t\t\t\n\t\t\tfor (i in weighted_corrections) {\n\t\t\t\tif (weighted_corrections.hasOwnProperty(i)) {\n\t\t\t\t\tsorted_corrections.push([ i, weighted_corrections[i] ]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction sorter(a, b) {\n\t\t\t\tvar a_val = a[1];\n\t\t\t\tvar b_val = b[1];\n\t\t\t\tif (a_val < b_val) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (a_val > b_val) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\t// @todo If a and b are equally weighted, add our own weight based on something like the key locations on this language's default keyboard.\n\t\t\t\treturn b[0].localeCompare(a[0]);\n\t\t\t}\n\t\t\t\n\t\t\tsorted_corrections.sort(sorter).reverse();\n\n\t\t\tvar rv = [];\n\n\t\t\tvar capitalization_scheme = \"lowercase\";\n\t\t\t\n\t\t\tif (word.toUpperCase() === word) {\n\t\t\t\tcapitalization_scheme = \"uppercase\";\n\t\t\t}\n\t\t\telse if (word.substr(0, 1).toUpperCase() + word.substr(1).toLowerCase() === word) {\n\t\t\t\tcapitalization_scheme = \"capitalized\";\n\t\t\t}\n\t\t\t\n\t\t\tvar working_limit = limit;\n\n\t\t\tfor (i = 0; i < Math.min(working_limit, sorted_corrections.length); i++) {\n\t\t\t\tif (\"uppercase\" === capitalization_scheme) {\n\t\t\t\t\tsorted_corrections[i][0] = sorted_corrections[i][0].toUpperCase();\n\t\t\t\t}\n\t\t\t\telse if (\"capitalized\" === capitalization_scheme) {\n\t\t\t\t\tsorted_corrections[i][0] = sorted_corrections[i][0].substr(0, 1).toUpperCase() + sorted_corrections[i][0].substr(1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (!self.hasFlag(sorted_corrections[i][0], \"NOSUGGEST\") && rv.indexOf(sorted_corrections[i][0]) == -1) {\n\t\t\t\t\trv.push(sorted_corrections[i][0]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// If one of the corrections is not eligible as a suggestion , make sure we still return the right number of suggestions.\n\t\t\t\t\tworking_limit++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn rv;\n\t\t}\n\t\t\n\t\tthis.memoized[word] = {\n\t\t\t'suggestions': correct(word),\n\t\t\t'limit': limit\n\t\t};\n\n\t\treturn this.memoized[word]['suggestions'];\n\t}\n};\n})();\n\n// Support for use as a node.js module.\nif (typeof module !== 'undefined') {\n\tmodule.exports = Typo;\n}\n","/**\n * marked v4.3.0 - a markdown parser\n * Copyright (c) 2011-2023, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n'use strict';\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction getDefaults() {\n  return {\n    async: false,\n    baseUrl: null,\n    breaks: false,\n    extensions: null,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    hooks: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartypants: false,\n    tokenizer: null,\n    walkTokens: null,\n    xhtml: false\n  };\n}\nexports.defaults = getDefaults();\nfunction changeDefaults(newDefaults) {\n  exports.defaults = newDefaults;\n}\n\n/**\n * Helpers\n */\nvar escapeTest = /[&<>\"']/;\nvar escapeReplace = new RegExp(escapeTest.source, 'g');\nvar escapeTestNoEncode = /[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/;\nvar escapeReplaceNoEncode = new RegExp(escapeTestNoEncode.source, 'g');\nvar escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\nvar getEscapeReplacement = function getEscapeReplacement(ch) {\n  return escapeReplacements[ch];\n};\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n  return html;\n}\nvar unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\n/**\n * @param {string} html\n */\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, function (_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\nvar caret = /(^|[^\\[])\\^/g;\n\n/**\n * @param {string | RegExp} regex\n * @param {string} opt\n */\nfunction edit(regex, opt) {\n  regex = typeof regex === 'string' ? regex : regex.source;\n  opt = opt || '';\n  var obj = {\n    replace: function replace(name, val) {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: function getRegex() {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\nvar nonWordAndColonTest = /[^\\w:]/g;\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n/**\n * @param {boolean} sanitize\n * @param {string} base\n * @param {string} href\n */\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    var prot;\n    try {\n      prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\nvar baseUrls = {};\nvar justDomain = /^[^:]+:\\/*[^/]*$/;\nvar protocol = /^([^:]+:)[\\s\\S]*$/;\nvar domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\n/**\n * @param {string} base\n * @param {string} href\n */\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n  var relativeBase = base.indexOf(':') === -1;\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar noopTest = {\n  exec: function noopTest() {}\n};\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n        curr = offset;\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n    cells = row.split(/ \\|/);\n  var i = 0;\n\n  // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n  if (!cells[0].trim()) {\n    cells.shift();\n  }\n  if (cells.length > 0 && !cells[cells.length - 1].trim()) {\n    cells.pop();\n  }\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) {\n      cells.push('');\n    }\n  }\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n/**\n * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n * /c*$/ is vulnerable to REDOS.\n *\n * @param {string} str\n * @param {string} c\n * @param {boolean} invert Remove suffix of non-c chars instead. Default falsey.\n */\nfunction rtrim(str, c, invert) {\n  var l = str.length;\n  if (l === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  var suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < l) {\n    var currChar = str.charAt(l - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n  return str.slice(0, l - suffLen);\n}\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  var l = str.length;\n  var level = 0,\n    i = 0;\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\n// copied from https://stackoverflow.com/a/5450113/806777\n/**\n * @param {string} pattern\n * @param {number} count\n */\nfunction repeatString(pattern, count) {\n  if (count < 1) {\n    return '';\n  }\n  var result = '';\n  while (count > 1) {\n    if (count & 1) {\n      result += pattern;\n    }\n    count >>= 1;\n    pattern += pattern;\n  }\n  return result + pattern;\n}\n\nfunction outputLink(cap, link, raw, lexer) {\n  var href = link.href;\n  var title = link.title ? escape(link.title) : null;\n  var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n  if (cap[0].charAt(0) !== '!') {\n    lexer.state.inLink = true;\n    var token = {\n      type: 'link',\n      raw: raw,\n      href: href,\n      title: title,\n      text: text,\n      tokens: lexer.inlineTokens(text)\n    };\n    lexer.state.inLink = false;\n    return token;\n  }\n  return {\n    type: 'image',\n    raw: raw,\n    href: href,\n    title: title,\n    text: escape(text)\n  };\n}\nfunction indentCodeCompensation(raw, text) {\n  var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n  if (matchIndentToCode === null) {\n    return text;\n  }\n  var indentToCode = matchIndentToCode[1];\n  return text.split('\\n').map(function (node) {\n    var matchIndentInNode = node.match(/^\\s+/);\n    if (matchIndentInNode === null) {\n      return node;\n    }\n    var indentInNode = matchIndentInNode[0];\n    if (indentInNode.length >= indentToCode.length) {\n      return node.slice(indentToCode.length);\n    }\n    return node;\n  }).join('\\n');\n}\n\n/**\n * Tokenizer\n */\nvar Tokenizer = /*#__PURE__*/function () {\n  function Tokenizer(options) {\n    this.options = options || exports.defaults;\n  }\n  var _proto = Tokenizer.prototype;\n  _proto.space = function space(src) {\n    var cap = this.rules.block.newline.exec(src);\n    if (cap && cap[0].length > 0) {\n      return {\n        type: 'space',\n        raw: cap[0]\n      };\n    }\n  };\n  _proto.code = function code(src) {\n    var cap = this.rules.block.code.exec(src);\n    if (cap) {\n      var text = cap[0].replace(/^ {1,4}/gm, '');\n      return {\n        type: 'code',\n        raw: cap[0],\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic ? rtrim(text, '\\n') : text\n      };\n    }\n  };\n  _proto.fences = function fences(src) {\n    var cap = this.rules.block.fences.exec(src);\n    if (cap) {\n      var raw = cap[0];\n      var text = indentCodeCompensation(raw, cap[3] || '');\n      return {\n        type: 'code',\n        raw: raw,\n        lang: cap[2] ? cap[2].trim().replace(this.rules.inline._escapes, '$1') : cap[2],\n        text: text\n      };\n    }\n  };\n  _proto.heading = function heading(src) {\n    var cap = this.rules.block.heading.exec(src);\n    if (cap) {\n      var text = cap[2].trim();\n\n      // remove trailing #s\n      if (/#$/.test(text)) {\n        var trimmed = rtrim(text, '#');\n        if (this.options.pedantic) {\n          text = trimmed.trim();\n        } else if (!trimmed || / $/.test(trimmed)) {\n          // CommonMark requires space before trailing #s\n          text = trimmed.trim();\n        }\n      }\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text: text,\n        tokens: this.lexer.inline(text)\n      };\n    }\n  };\n  _proto.hr = function hr(src) {\n    var cap = this.rules.block.hr.exec(src);\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  };\n  _proto.blockquote = function blockquote(src) {\n    var cap = this.rules.block.blockquote.exec(src);\n    if (cap) {\n      var text = cap[0].replace(/^ *>[ \\t]?/gm, '');\n      var top = this.lexer.state.top;\n      this.lexer.state.top = true;\n      var tokens = this.lexer.blockTokens(text);\n      this.lexer.state.top = top;\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        tokens: tokens,\n        text: text\n      };\n    }\n  };\n  _proto.list = function list(src) {\n    var cap = this.rules.block.list.exec(src);\n    if (cap) {\n      var raw, istask, ischecked, indent, i, blankLine, endsWithBlankLine, line, nextLine, rawLine, itemContents, endEarly;\n      var bull = cap[1].trim();\n      var isordered = bull.length > 1;\n      var list = {\n        type: 'list',\n        raw: '',\n        ordered: isordered,\n        start: isordered ? +bull.slice(0, -1) : '',\n        loose: false,\n        items: []\n      };\n      bull = isordered ? \"\\\\d{1,9}\\\\\" + bull.slice(-1) : \"\\\\\" + bull;\n      if (this.options.pedantic) {\n        bull = isordered ? bull : '[*+-]';\n      }\n\n      // Get next list item\n      var itemRegex = new RegExp(\"^( {0,3}\" + bull + \")((?:[\\t ][^\\\\n]*)?(?:\\\\n|$))\");\n\n      // Check if current bullet point can start a new List Item\n      while (src) {\n        endEarly = false;\n        if (!(cap = itemRegex.exec(src))) {\n          break;\n        }\n        if (this.rules.block.hr.test(src)) {\n          // End list if bullet was actually HR (possibly move into itemRegex?)\n          break;\n        }\n        raw = cap[0];\n        src = src.substring(raw.length);\n        line = cap[2].split('\\n', 1)[0].replace(/^\\t+/, function (t) {\n          return ' '.repeat(3 * t.length);\n        });\n        nextLine = src.split('\\n', 1)[0];\n        if (this.options.pedantic) {\n          indent = 2;\n          itemContents = line.trimLeft();\n        } else {\n          indent = cap[2].search(/[^ ]/); // Find first non-space char\n          indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n          itemContents = line.slice(indent);\n          indent += cap[1].length;\n        }\n        blankLine = false;\n        if (!line && /^ *$/.test(nextLine)) {\n          // Items begin with at most one blank line\n          raw += nextLine + '\\n';\n          src = src.substring(nextLine.length + 1);\n          endEarly = true;\n        }\n        if (!endEarly) {\n          var nextBulletRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \\t][^\\\\n]*)?(?:\\\\n|$))\");\n          var hrRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)\");\n          var fencesBeginRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}(?:```|~~~)\");\n          var headingBeginRegex = new RegExp(\"^ {0,\" + Math.min(3, indent - 1) + \"}#\");\n\n          // Check if following lines should be included in List Item\n          while (src) {\n            rawLine = src.split('\\n', 1)[0];\n            nextLine = rawLine;\n\n            // Re-align to follow commonmark nesting rules\n            if (this.options.pedantic) {\n              nextLine = nextLine.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n            }\n\n            // End list item if found code fences\n            if (fencesBeginRegex.test(nextLine)) {\n              break;\n            }\n\n            // End list item if found start of new heading\n            if (headingBeginRegex.test(nextLine)) {\n              break;\n            }\n\n            // End list item if found start of new bullet\n            if (nextBulletRegex.test(nextLine)) {\n              break;\n            }\n\n            // Horizontal rule found\n            if (hrRegex.test(src)) {\n              break;\n            }\n            if (nextLine.search(/[^ ]/) >= indent || !nextLine.trim()) {\n              // Dedent if possible\n              itemContents += '\\n' + nextLine.slice(indent);\n            } else {\n              // not enough indentation\n              if (blankLine) {\n                break;\n              }\n\n              // paragraph continuation unless last line was a different block level element\n              if (line.search(/[^ ]/) >= 4) {\n                // indented code block\n                break;\n              }\n              if (fencesBeginRegex.test(line)) {\n                break;\n              }\n              if (headingBeginRegex.test(line)) {\n                break;\n              }\n              if (hrRegex.test(line)) {\n                break;\n              }\n              itemContents += '\\n' + nextLine;\n            }\n            if (!blankLine && !nextLine.trim()) {\n              // Check if current line is blank\n              blankLine = true;\n            }\n            raw += rawLine + '\\n';\n            src = src.substring(rawLine.length + 1);\n            line = nextLine.slice(indent);\n          }\n        }\n        if (!list.loose) {\n          // If the previous item ended with a blank line, the list is loose\n          if (endsWithBlankLine) {\n            list.loose = true;\n          } else if (/\\n *\\n *$/.test(raw)) {\n            endsWithBlankLine = true;\n          }\n        }\n\n        // Check for task list items\n        if (this.options.gfm) {\n          istask = /^\\[[ xX]\\] /.exec(itemContents);\n          if (istask) {\n            ischecked = istask[0] !== '[ ] ';\n            itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n          }\n        }\n        list.items.push({\n          type: 'list_item',\n          raw: raw,\n          task: !!istask,\n          checked: ischecked,\n          loose: false,\n          text: itemContents\n        });\n        list.raw += raw;\n      }\n\n      // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n      list.items[list.items.length - 1].raw = raw.trimRight();\n      list.items[list.items.length - 1].text = itemContents.trimRight();\n      list.raw = list.raw.trimRight();\n      var l = list.items.length;\n\n      // Item child tokens handled here at end because we needed to have the final item to trim it first\n      for (i = 0; i < l; i++) {\n        this.lexer.state.top = false;\n        list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n        if (!list.loose) {\n          // Check if list should be loose\n          var spacers = list.items[i].tokens.filter(function (t) {\n            return t.type === 'space';\n          });\n          var hasMultipleLineBreaks = spacers.length > 0 && spacers.some(function (t) {\n            return /\\n.*\\n/.test(t.raw);\n          });\n          list.loose = hasMultipleLineBreaks;\n        }\n      }\n\n      // Set all items to loose if list is loose\n      if (list.loose) {\n        for (i = 0; i < l; i++) {\n          list.items[i].loose = true;\n        }\n      }\n      return list;\n    }\n  };\n  _proto.html = function html(src) {\n    var cap = this.rules.block.html.exec(src);\n    if (cap) {\n      var token = {\n        type: 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      };\n      if (this.options.sanitize) {\n        var text = this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]);\n        token.type = 'paragraph';\n        token.text = text;\n        token.tokens = this.lexer.inline(text);\n      }\n      return token;\n    }\n  };\n  _proto.def = function def(src) {\n    var cap = this.rules.block.def.exec(src);\n    if (cap) {\n      var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      var href = cap[2] ? cap[2].replace(/^<(.*)>$/, '$1').replace(this.rules.inline._escapes, '$1') : '';\n      var title = cap[3] ? cap[3].substring(1, cap[3].length - 1).replace(this.rules.inline._escapes, '$1') : cap[3];\n      return {\n        type: 'def',\n        tag: tag,\n        raw: cap[0],\n        href: href,\n        title: title\n      };\n    }\n  };\n  _proto.table = function table(src) {\n    var cap = this.rules.block.table.exec(src);\n    if (cap) {\n      var item = {\n        type: 'table',\n        header: splitCells(cap[1]).map(function (c) {\n          return {\n            text: c\n          };\n        }),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        rows: cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : []\n      };\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n        var l = item.align.length;\n        var i, j, k, row;\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n        l = item.rows.length;\n        for (i = 0; i < l; i++) {\n          item.rows[i] = splitCells(item.rows[i], item.header.length).map(function (c) {\n            return {\n              text: c\n            };\n          });\n        }\n\n        // parse child tokens inside headers and cells\n\n        // header child tokens\n        l = item.header.length;\n        for (j = 0; j < l; j++) {\n          item.header[j].tokens = this.lexer.inline(item.header[j].text);\n        }\n\n        // cell child tokens\n        l = item.rows.length;\n        for (j = 0; j < l; j++) {\n          row = item.rows[j];\n          for (k = 0; k < row.length; k++) {\n            row[k].tokens = this.lexer.inline(row[k].text);\n          }\n        }\n        return item;\n      }\n    }\n  };\n  _proto.lheading = function lheading(src) {\n    var cap = this.rules.block.lheading.exec(src);\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1],\n        tokens: this.lexer.inline(cap[1])\n      };\n    }\n  };\n  _proto.paragraph = function paragraph(src) {\n    var cap = this.rules.block.paragraph.exec(src);\n    if (cap) {\n      var text = cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1];\n      return {\n        type: 'paragraph',\n        raw: cap[0],\n        text: text,\n        tokens: this.lexer.inline(text)\n      };\n    }\n  };\n  _proto.text = function text(src) {\n    var cap = this.rules.block.text.exec(src);\n    if (cap) {\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0],\n        tokens: this.lexer.inline(cap[0])\n      };\n    }\n  };\n  _proto.escape = function escape$1(src) {\n    var cap = this.rules.inline.escape.exec(src);\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  };\n  _proto.tag = function tag(src) {\n    var cap = this.rules.inline.tag.exec(src);\n    if (cap) {\n      if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n        this.lexer.state.inLink = true;\n      } else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.lexer.state.inLink = false;\n      }\n      if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = true;\n      } else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.lexer.state.inRawBlock = false;\n      }\n      return {\n        type: this.options.sanitize ? 'text' : 'html',\n        raw: cap[0],\n        inLink: this.lexer.state.inLink,\n        inRawBlock: this.lexer.state.inRawBlock,\n        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n      };\n    }\n  };\n  _proto.link = function link(src) {\n    var cap = this.rules.inline.link.exec(src);\n    if (cap) {\n      var trimmedUrl = cap[2].trim();\n      if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n        // commonmark requires matching angle brackets\n        if (!/>$/.test(trimmedUrl)) {\n          return;\n        }\n\n        // ending angle bracket cannot be escaped\n        var rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n          return;\n        }\n      } else {\n        // find closing parenthesis\n        var lastParenIndex = findClosingBracket(cap[2], '()');\n        if (lastParenIndex > -1) {\n          var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          var linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n      }\n      var href = cap[2];\n      var title = '';\n      if (this.options.pedantic) {\n        // split pedantic href and title\n        var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n        if (link) {\n          href = link[1];\n          title = link[3];\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n      href = href.trim();\n      if (/^</.test(href)) {\n        if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n          // pedantic allows starting angle bracket without ending angle bracket\n          href = href.slice(1);\n        } else {\n          href = href.slice(1, -1);\n        }\n      }\n      return outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0], this.lexer);\n    }\n  };\n  _proto.reflink = function reflink(src, links) {\n    var cap;\n    if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n      var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n      if (!link) {\n        var text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text: text\n        };\n      }\n      return outputLink(cap, link, cap[0], this.lexer);\n    }\n  };\n  _proto.emStrong = function emStrong(src, maskedSrc, prevChar) {\n    if (prevChar === void 0) {\n      prevChar = '';\n    }\n    var match = this.rules.inline.emStrong.lDelim.exec(src);\n    if (!match) return;\n\n    // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n    if (match[3] && prevChar.match(/(?:[0-9A-Za-z\\xAA\\xB2\\xB3\\xB5\\xB9\\xBA\\xBC-\\xBE\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u0660-\\u0669\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07C0-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u0870-\\u0887\\u0889-\\u088E\\u08A0-\\u08C9\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0966-\\u096F\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09F9\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A6F\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AE6-\\u0AEF\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B66-\\u0B6F\\u0B71-\\u0B77\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0BE6-\\u0BF2\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C5D\\u0C60\\u0C61\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDD\\u0CDE\\u0CE0\\u0CE1\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D58-\\u0D61\\u0D66-\\u0D78\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DE6-\\u0DEF\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F20-\\u0F33\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F-\\u1049\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u1090-\\u1099\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1369-\\u137C\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u1711\\u171F-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4C\\u1B50-\\u1B59\\u1B83-\\u1BA0\\u1BAE-\\u1BE5\\u1C00-\\u1C23\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2070\\u2071\\u2074-\\u2079\\u207F-\\u2089\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2150-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2CFD\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u3192-\\u3195\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\u3400-\\u4DBF\\u4E00-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7CA\\uA7D0\\uA7D1\\uA7D3\\uA7D5-\\uA7D9\\uA7F2-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA830-\\uA835\\uA840-\\uA873\\uA882-\\uA8B3\\uA8D0-\\uA8D9\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA900-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF-\\uA9D9\\uA9E0-\\uA9E4\\uA9E6-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD07-\\uDD33\\uDD40-\\uDD78\\uDD8A\\uDD8B\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE1-\\uDEFB\\uDF00-\\uDF23\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDD70-\\uDD7A\\uDD7C-\\uDD8A\\uDD8C-\\uDD92\\uDD94\\uDD95\\uDD97-\\uDDA1\\uDDA3-\\uDDB1\\uDDB3-\\uDDB9\\uDDBB\\uDDBC\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67\\uDF80-\\uDF85\\uDF87-\\uDFB0\\uDFB2-\\uDFBA]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC58-\\uDC76\\uDC79-\\uDC9E\\uDCA7-\\uDCAF\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDCFB-\\uDD1B\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBC-\\uDDCF\\uDDD2-\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE40-\\uDE48\\uDE60-\\uDE7E\\uDE80-\\uDE9F\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDEEB-\\uDEEF\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF58-\\uDF72\\uDF78-\\uDF91\\uDFA9-\\uDFAF]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDCFA-\\uDD23\\uDD30-\\uDD39\\uDE60-\\uDE7E\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF27\\uDF30-\\uDF45\\uDF51-\\uDF54\\uDF70-\\uDF81\\uDFB0-\\uDFCB\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC52-\\uDC6F\\uDC71\\uDC72\\uDC75\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD03-\\uDD26\\uDD36-\\uDD3F\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDD0-\\uDDDA\\uDDDC\\uDDE1-\\uDDF4\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDEF0-\\uDEF9\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC50-\\uDC59\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEAA\\uDEB8\\uDEC0-\\uDEC9\\uDF00-\\uDF1A\\uDF30-\\uDF3B\\uDF40-\\uDF46]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCF2\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDD50-\\uDD59\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEB0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC50-\\uDC6C\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD50-\\uDD59\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDDA0-\\uDDA9\\uDEE0-\\uDEF2\\uDFB0\\uDFC0-\\uDFD4]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|\\uD80B[\\uDF90-\\uDFF0]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDE70-\\uDEBE\\uDEC0-\\uDEC9\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF5B-\\uDF61\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE96\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82B[\\uDFF0-\\uDFF3\\uDFF5-\\uDFFB\\uDFFD\\uDFFE]|\\uD82C[\\uDC00-\\uDD22\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD834[\\uDEE0-\\uDEF3\\uDF60-\\uDF78]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD837[\\uDF00-\\uDF1E]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD40-\\uDD49\\uDD4E\\uDE90-\\uDEAD\\uDEC0-\\uDEEB\\uDEF0-\\uDEF9]|\\uD839[\\uDFE0-\\uDFE6\\uDFE8-\\uDFEB\\uDFED\\uDFEE\\uDFF0-\\uDFFE]|\\uD83A[\\uDC00-\\uDCC4\\uDCC7-\\uDCCF\\uDD00-\\uDD43\\uDD4B\\uDD50-\\uDD59]|\\uD83B[\\uDC71-\\uDCAB\\uDCAD-\\uDCAF\\uDCB1-\\uDCB4\\uDD01-\\uDD2D\\uDD2F-\\uDD3D\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD83C[\\uDD00-\\uDD0C]|\\uD83E[\\uDFF0-\\uDFF9]|\\uD869[\\uDC00-\\uDEDF\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF38\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/)) return;\n    var nextChar = match[1] || match[2] || '';\n    if (!nextChar || nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar))) {\n      var lLength = match[0].length - 1;\n      var rDelim,\n        rLength,\n        delimTotal = lLength,\n        midDelimTotal = 0;\n      var endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n      endReg.lastIndex = 0;\n\n      // Clip maskedSrc to same section of string as src (move to lexer?)\n      maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n      while ((match = endReg.exec(maskedSrc)) != null) {\n        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n        if (!rDelim) continue; // skip single * in __abc*abc__\n\n        rLength = rDelim.length;\n        if (match[3] || match[4]) {\n          // found another Left Delim\n          delimTotal += rLength;\n          continue;\n        } else if (match[5] || match[6]) {\n          // either Left or Right Delim\n          if (lLength % 3 && !((lLength + rLength) % 3)) {\n            midDelimTotal += rLength;\n            continue; // CommonMark Emphasis Rules 9-10\n          }\n        }\n\n        delimTotal -= rLength;\n        if (delimTotal > 0) continue; // Haven't found enough closing delimiters\n\n        // Remove extra characters. *a*** -> *a*\n        rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);\n        var raw = src.slice(0, lLength + match.index + (match[0].length - rDelim.length) + rLength);\n\n        // Create `em` if smallest delimiter has odd char count. *a***\n        if (Math.min(lLength, rLength) % 2) {\n          var _text = raw.slice(1, -1);\n          return {\n            type: 'em',\n            raw: raw,\n            text: _text,\n            tokens: this.lexer.inlineTokens(_text)\n          };\n        }\n\n        // Create 'strong' if smallest delimiter has even char count. **a***\n        var text = raw.slice(2, -2);\n        return {\n          type: 'strong',\n          raw: raw,\n          text: text,\n          tokens: this.lexer.inlineTokens(text)\n        };\n      }\n    }\n  };\n  _proto.codespan = function codespan(src) {\n    var cap = this.rules.inline.code.exec(src);\n    if (cap) {\n      var text = cap[2].replace(/\\n/g, ' ');\n      var hasNonSpaceChars = /[^ ]/.test(text);\n      var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n      if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n        text = text.substring(1, text.length - 1);\n      }\n      text = escape(text, true);\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text: text\n      };\n    }\n  };\n  _proto.br = function br(src) {\n    var cap = this.rules.inline.br.exec(src);\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  };\n  _proto.del = function del(src) {\n    var cap = this.rules.inline.del.exec(src);\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[2],\n        tokens: this.lexer.inlineTokens(cap[2])\n      };\n    }\n  };\n  _proto.autolink = function autolink(src, mangle) {\n    var cap = this.rules.inline.autolink.exec(src);\n    if (cap) {\n      var text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      return {\n        type: 'link',\n        raw: cap[0],\n        text: text,\n        href: href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text: text\n        }]\n      };\n    }\n  };\n  _proto.url = function url(src, mangle) {\n    var cap;\n    if (cap = this.rules.inline.url.exec(src)) {\n      var text, href;\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        var prevCapZero;\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + cap[0];\n        } else {\n          href = cap[0];\n        }\n      }\n      return {\n        type: 'link',\n        raw: cap[0],\n        text: text,\n        href: href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text: text\n        }]\n      };\n    }\n  };\n  _proto.inlineText = function inlineText(src, smartypants) {\n    var cap = this.rules.inline.text.exec(src);\n    if (cap) {\n      var text;\n      if (this.lexer.state.inRawBlock) {\n        text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: text\n      };\n    }\n  };\n  return Tokenizer;\n}();\n\n/**\n * Block-Level Grammar\n */\nvar block = {\n  newline: /^(?: *(?:\\n|$))+/,\n  code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*(?:\\n|$))|~{3,})([^\\n]*)(?:\\n|$)(?:|([\\s\\S]*?)(?:\\n|$))(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n  hr: /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/,\n  html: '^ {0,3}(?:' // optional indentation\n  + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n  + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n  + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n  + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n  + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n  + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n  + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n  + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n  + ')',\n  def: /^ {0,3}\\[(label)\\]: *(?:\\n *)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noopTest,\n  lheading: /^((?:.|\\n(?!\\n))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\nblock._label = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def).replace('label', block._label).replace('title', block._title).getRegex();\nblock.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\nblock.listItemStart = edit(/^( *)(bull) */).replace('bull', block.bullet).getRegex();\nblock.list = edit(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\nblock.html = edit(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\nblock.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n.replace('|table', '').replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n.getRegex();\nblock.blockquote = edit(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = _extends({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = _extends({}, block.normal, {\n  table: '^ *([^\\\\n ].*\\\\|.*)\\\\n' // Header\n  + ' {0,3}(?:\\\\| *)?(:?-+:? *(?:\\\\| *:?-+:? *)*)(?:\\\\| *)?' // Align\n  + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n});\n\nblock.gfm.table = edit(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n.getRegex();\nblock.gfm.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n.replace('table', block.gfm.table) // interrupt paragraphs with table\n.replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n.getRegex();\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = _extends({}, block.normal, {\n  html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n  + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n  fences: noopTest,\n  // fences not supported\n  lheading: /^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  paragraph: edit(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n});\n\n/**\n * Inline-Level Grammar\n */\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n  + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n  + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n  + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n  + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n  // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(ref)\\]/,\n  nolink: /^!?\\[(ref)\\](?:\\[\\])?/,\n  reflinkSearch: 'reflink|nolink(?!\\\\()',\n  emStrong: {\n    lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,\n    //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n    //          () Skip orphan inside strong                                      () Consume to delim     (1) #***                (2) a***#, a***                             (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a\n    rDelimAst: /^(?:[^_*\\\\]|\\\\.)*?\\_\\_(?:[^_*\\\\]|\\\\.)*?\\*(?:[^_*\\\\]|\\\\.)*?(?=\\_\\_)|(?:[^*\\\\]|\\\\.)+(?=[^*])|[punct_](\\*+)(?=[\\s]|$)|(?:[^punct*_\\s\\\\]|\\\\.)(\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|(?:[^punct*_\\s\\\\]|\\\\.)(\\*+)(?=[^punct*_\\s])/,\n    rDelimUnd: /^(?:[^_*\\\\]|\\\\.)*?\\*\\*(?:[^_*\\\\]|\\\\.)*?\\_(?:[^_*\\\\]|\\\\.)*?(?=\\*\\*)|(?:[^_\\\\]|\\\\.)+(?=[^_])|[punct*](\\_+)(?=[\\s]|$)|(?:[^punct*_\\s\\\\]|\\\\.)(\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _\n  },\n\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n  punctuation: /^([\\spunctuation])/\n};\n\n// list of punctuation marks from CommonMark spec\n// without * and _ to handle the different emphasis markers * and _\ninline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\ninline.punctuation = edit(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex();\n\n// sequences em should skip over [title](link), `code`, <html>\ninline.blockSkip = /\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>/g;\n// lookbehind is not available on Safari as of version 16\n// inline.escapedEmSt = /(?<=(?:^|[^\\\\)(?:\\\\[^])*)\\\\[*_]/g;\ninline.escapedEmSt = /(?:^|[^\\\\])(?:\\\\\\\\)*\\\\[*_]/g;\ninline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\ninline.emStrong.lDelim = edit(inline.emStrong.lDelim).replace(/punct/g, inline._punctuation).getRegex();\ninline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'g').replace(/punct/g, inline._punctuation).getRegex();\ninline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'g').replace(/punct/g, inline._punctuation).getRegex();\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\ninline.tag = edit(inline.tag).replace('comment', inline._comment).replace('attribute', inline._attribute).getRegex();\ninline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\ninline.link = edit(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\ninline.reflink = edit(inline.reflink).replace('label', inline._label).replace('ref', block._label).getRegex();\ninline.nolink = edit(inline.nolink).replace('ref', block._label).getRegex();\ninline.reflinkSearch = edit(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = _extends({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = _extends({}, inline.normal, {\n  strong: {\n    start: /^__|\\*\\*/,\n    middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n    endAst: /\\*\\*(?!\\*)/g,\n    endUnd: /__(?!_)/g\n  },\n  em: {\n    start: /^_|\\*/,\n    middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n    endAst: /\\*(?!\\*)/g,\n    endUnd: /_(?!_)/g\n  },\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = _extends({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,\n  del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n  text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n});\ninline.gfm.url = edit(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = _extends({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n});\n\n/**\n * smartypants text replacement\n * @param {string} text\n */\nfunction smartypants(text) {\n  return text\n  // em-dashes\n  .replace(/---/g, \"\\u2014\")\n  // en-dashes\n  .replace(/--/g, \"\\u2013\")\n  // opening singles\n  .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\")\n  // closing singles & apostrophes\n  .replace(/'/g, \"\\u2019\")\n  // opening doubles\n  .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\")\n  // closing doubles\n  .replace(/\"/g, \"\\u201D\")\n  // ellipses\n  .replace(/\\.{3}/g, \"\\u2026\");\n}\n\n/**\n * mangle email addresses\n * @param {string} text\n */\nfunction mangle(text) {\n  var out = '',\n    i,\n    ch;\n  var l = text.length;\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n  return out;\n}\n\n/**\n * Block Lexer\n */\nvar Lexer = /*#__PURE__*/function () {\n  function Lexer(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || exports.defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n    this.tokenizer.lexer = this;\n    this.inlineQueue = [];\n    this.state = {\n      inLink: false,\n      inRawBlock: false,\n      top: true\n    };\n    var rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n    this.tokenizer.rules = rules;\n  }\n\n  /**\n   * Expose Rules\n   */\n  /**\n   * Static Lex Method\n   */\n  Lexer.lex = function lex(src, options) {\n    var lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n\n  /**\n   * Static Lex Inline Method\n   */;\n  Lexer.lexInline = function lexInline(src, options) {\n    var lexer = new Lexer(options);\n    return lexer.inlineTokens(src);\n  }\n\n  /**\n   * Preprocessing\n   */;\n  var _proto = Lexer.prototype;\n  _proto.lex = function lex(src) {\n    src = src.replace(/\\r\\n|\\r/g, '\\n');\n    this.blockTokens(src, this.tokens);\n    var next;\n    while (next = this.inlineQueue.shift()) {\n      this.inlineTokens(next.src, next.tokens);\n    }\n    return this.tokens;\n  }\n\n  /**\n   * Lexing\n   */;\n  _proto.blockTokens = function blockTokens(src, tokens) {\n    var _this = this;\n    if (tokens === void 0) {\n      tokens = [];\n    }\n    if (this.options.pedantic) {\n      src = src.replace(/\\t/g, '    ').replace(/^ +$/gm, '');\n    } else {\n      src = src.replace(/^( *)(\\t+)/gm, function (_, leading, tabs) {\n        return leading + '    '.repeat(tabs.length);\n      });\n    }\n    var token, lastToken, cutSrc, lastParagraphClipped;\n    while (src) {\n      if (this.options.extensions && this.options.extensions.block && this.options.extensions.block.some(function (extTokenizer) {\n        if (token = extTokenizer.call({\n          lexer: _this\n        }, src, tokens)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          return true;\n        }\n        return false;\n      })) {\n        continue;\n      }\n\n      // newline\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n        if (token.raw.length === 1 && tokens.length > 0) {\n          // if there's a single \\n as a spacer, it's terminating the last line,\n          // so move it there so that we don't get unecessary paragraph tags\n          tokens[tokens.length - 1].raw += '\\n';\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.code(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        // An indented code block cannot interrupt a paragraph.\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // fences\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // heading\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // hr\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // blockquote\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // list\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // html\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // def\n      if (token = this.tokenizer.def(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.raw;\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n        continue;\n      }\n\n      // table (gfm)\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // lheading\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // top-level paragraph\n      // prevent paragraph consuming extensions by clipping 'src' to extension start\n      cutSrc = src;\n      if (this.options.extensions && this.options.extensions.startBlock) {\n        (function () {\n          var startIndex = Infinity;\n          var tempSrc = src.slice(1);\n          var tempStart = void 0;\n          _this.options.extensions.startBlock.forEach(function (getStartIndex) {\n            tempStart = getStartIndex.call({\n              lexer: this\n            }, tempSrc);\n            if (typeof tempStart === 'number' && tempStart >= 0) {\n              startIndex = Math.min(startIndex, tempStart);\n            }\n          });\n          if (startIndex < Infinity && startIndex >= 0) {\n            cutSrc = src.substring(0, startIndex + 1);\n          }\n        })();\n      }\n      if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n        lastToken = tokens[tokens.length - 1];\n        if (lastParagraphClipped && lastToken.type === 'paragraph') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        lastParagraphClipped = cutSrc.length !== src.length;\n        src = src.substring(token.raw.length);\n        continue;\n      }\n\n      // text\n      if (token = this.tokenizer.text(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += '\\n' + token.raw;\n          lastToken.text += '\\n' + token.text;\n          this.inlineQueue.pop();\n          this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n      if (src) {\n        var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n    this.state.top = true;\n    return tokens;\n  };\n  _proto.inline = function inline(src, tokens) {\n    if (tokens === void 0) {\n      tokens = [];\n    }\n    this.inlineQueue.push({\n      src: src,\n      tokens: tokens\n    });\n    return tokens;\n  }\n\n  /**\n   * Lexing/Compiling\n   */;\n  _proto.inlineTokens = function inlineTokens(src, tokens) {\n    var _this2 = this;\n    if (tokens === void 0) {\n      tokens = [];\n    }\n    var token, lastToken, cutSrc;\n\n    // String with links masked to avoid interference with em and strong\n    var maskedSrc = src;\n    var match;\n    var keepPrevChar, prevChar;\n\n    // Mask out reflinks\n    if (this.tokens.links) {\n      var links = Object.keys(this.tokens.links);\n      if (links.length > 0) {\n        while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n          if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n          }\n        }\n      }\n    }\n    // Mask out other blocks\n    while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n    }\n\n    // Mask out escaped em & strong delimiters\n    while ((match = this.tokenizer.rules.inline.escapedEmSt.exec(maskedSrc)) != null) {\n      maskedSrc = maskedSrc.slice(0, match.index + match[0].length - 2) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);\n      this.tokenizer.rules.inline.escapedEmSt.lastIndex--;\n    }\n    while (src) {\n      if (!keepPrevChar) {\n        prevChar = '';\n      }\n      keepPrevChar = false;\n\n      // extensions\n      if (this.options.extensions && this.options.extensions.inline && this.options.extensions.inline.some(function (extTokenizer) {\n        if (token = extTokenizer.call({\n          lexer: _this2\n        }, src, tokens)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          return true;\n        }\n        return false;\n      })) {\n        continue;\n      }\n\n      // escape\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // tag\n      if (token = this.tokenizer.tag(src)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // link\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // reflink, nolink\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n\n      // em & strong\n      if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // code\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // br\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // del (gfm)\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // autolink\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // url (gfm)\n      if (!this.state.inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      // text\n      // prevent inlineText consuming extensions by clipping 'src' to extension start\n      cutSrc = src;\n      if (this.options.extensions && this.options.extensions.startInline) {\n        (function () {\n          var startIndex = Infinity;\n          var tempSrc = src.slice(1);\n          var tempStart = void 0;\n          _this2.options.extensions.startInline.forEach(function (getStartIndex) {\n            tempStart = getStartIndex.call({\n              lexer: this\n            }, tempSrc);\n            if (typeof tempStart === 'number' && tempStart >= 0) {\n              startIndex = Math.min(startIndex, tempStart);\n            }\n          });\n          if (startIndex < Infinity && startIndex >= 0) {\n            cutSrc = src.substring(0, startIndex + 1);\n          }\n        })();\n      }\n      if (token = this.tokenizer.inlineText(cutSrc, smartypants)) {\n        src = src.substring(token.raw.length);\n        if (token.raw.slice(-1) !== '_') {\n          // Track prevChar before string of ____ started\n          prevChar = token.raw.slice(-1);\n        }\n        keepPrevChar = true;\n        lastToken = tokens[tokens.length - 1];\n        if (lastToken && lastToken.type === 'text') {\n          lastToken.raw += token.raw;\n          lastToken.text += token.text;\n        } else {\n          tokens.push(token);\n        }\n        continue;\n      }\n      if (src) {\n        var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n    return tokens;\n  };\n  _createClass(Lexer, null, [{\n    key: \"rules\",\n    get: function get() {\n      return {\n        block: block,\n        inline: inline\n      };\n    }\n  }]);\n  return Lexer;\n}();\n\n/**\n * Renderer\n */\nvar Renderer = /*#__PURE__*/function () {\n  function Renderer(options) {\n    this.options = options || exports.defaults;\n  }\n  var _proto = Renderer.prototype;\n  _proto.code = function code(_code, infostring, escaped) {\n    var lang = (infostring || '').match(/\\S*/)[0];\n    if (this.options.highlight) {\n      var out = this.options.highlight(_code, lang);\n      if (out != null && out !== _code) {\n        escaped = true;\n        _code = out;\n      }\n    }\n    _code = _code.replace(/\\n$/, '') + '\\n';\n    if (!lang) {\n      return '<pre><code>' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n    }\n    return '<pre><code class=\"' + this.options.langPrefix + escape(lang) + '\">' + (escaped ? _code : escape(_code, true)) + '</code></pre>\\n';\n  }\n\n  /**\n   * @param {string} quote\n   */;\n  _proto.blockquote = function blockquote(quote) {\n    return \"<blockquote>\\n\" + quote + \"</blockquote>\\n\";\n  };\n  _proto.html = function html(_html) {\n    return _html;\n  }\n\n  /**\n   * @param {string} text\n   * @param {string} level\n   * @param {string} raw\n   * @param {any} slugger\n   */;\n  _proto.heading = function heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      var id = this.options.headerPrefix + slugger.slug(raw);\n      return \"<h\" + level + \" id=\\\"\" + id + \"\\\">\" + text + \"</h\" + level + \">\\n\";\n    }\n\n    // ignore IDs\n    return \"<h\" + level + \">\" + text + \"</h\" + level + \">\\n\";\n  };\n  _proto.hr = function hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  };\n  _proto.list = function list(body, ordered, start) {\n    var type = ordered ? 'ol' : 'ul',\n      startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n\n  /**\n   * @param {string} text\n   */;\n  _proto.listitem = function listitem(text) {\n    return \"<li>\" + text + \"</li>\\n\";\n  };\n  _proto.checkbox = function checkbox(checked) {\n    return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n  }\n\n  /**\n   * @param {string} text\n   */;\n  _proto.paragraph = function paragraph(text) {\n    return \"<p>\" + text + \"</p>\\n\";\n  }\n\n  /**\n   * @param {string} header\n   * @param {string} body\n   */;\n  _proto.table = function table(header, body) {\n    if (body) body = \"<tbody>\" + body + \"</tbody>\";\n    return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n  }\n\n  /**\n   * @param {string} content\n   */;\n  _proto.tablerow = function tablerow(content) {\n    return \"<tr>\\n\" + content + \"</tr>\\n\";\n  };\n  _proto.tablecell = function tablecell(content, flags) {\n    var type = flags.header ? 'th' : 'td';\n    var tag = flags.align ? \"<\" + type + \" align=\\\"\" + flags.align + \"\\\">\" : \"<\" + type + \">\";\n    return tag + content + (\"</\" + type + \">\\n\");\n  }\n\n  /**\n   * span level renderer\n   * @param {string} text\n   */;\n  _proto.strong = function strong(text) {\n    return \"<strong>\" + text + \"</strong>\";\n  }\n\n  /**\n   * @param {string} text\n   */;\n  _proto.em = function em(text) {\n    return \"<em>\" + text + \"</em>\";\n  }\n\n  /**\n   * @param {string} text\n   */;\n  _proto.codespan = function codespan(text) {\n    return \"<code>\" + text + \"</code>\";\n  };\n  _proto.br = function br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n\n  /**\n   * @param {string} text\n   */;\n  _proto.del = function del(text) {\n    return \"<del>\" + text + \"</del>\";\n  }\n\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */;\n  _proto.link = function link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n    var out = '<a href=\"' + href + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += '>' + text + '</a>';\n    return out;\n  }\n\n  /**\n   * @param {string} href\n   * @param {string} title\n   * @param {string} text\n   */;\n  _proto.image = function image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n    var out = \"<img src=\\\"\" + href + \"\\\" alt=\\\"\" + text + \"\\\"\";\n    if (title) {\n      out += \" title=\\\"\" + title + \"\\\"\";\n    }\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  };\n  _proto.text = function text(_text) {\n    return _text;\n  };\n  return Renderer;\n}();\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\nvar TextRenderer = /*#__PURE__*/function () {\n  function TextRenderer() {}\n  var _proto = TextRenderer.prototype;\n  // no need for block level renderers\n  _proto.strong = function strong(text) {\n    return text;\n  };\n  _proto.em = function em(text) {\n    return text;\n  };\n  _proto.codespan = function codespan(text) {\n    return text;\n  };\n  _proto.del = function del(text) {\n    return text;\n  };\n  _proto.html = function html(text) {\n    return text;\n  };\n  _proto.text = function text(_text) {\n    return _text;\n  };\n  _proto.link = function link(href, title, text) {\n    return '' + text;\n  };\n  _proto.image = function image(href, title, text) {\n    return '' + text;\n  };\n  _proto.br = function br() {\n    return '';\n  };\n  return TextRenderer;\n}();\n\n/**\n * Slugger generates header id\n */\nvar Slugger = /*#__PURE__*/function () {\n  function Slugger() {\n    this.seen = {};\n  }\n\n  /**\n   * @param {string} value\n   */\n  var _proto = Slugger.prototype;\n  _proto.serialize = function serialize(value) {\n    return value.toLowerCase().trim()\n    // remove html tags\n    .replace(/<[!\\/a-z].*?>/ig, '')\n    // remove unwanted chars\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n  }\n\n  /**\n   * Finds the next safe (unique) slug to use\n   * @param {string} originalSlug\n   * @param {boolean} isDryRun\n   */;\n  _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n    var slug = originalSlug;\n    var occurenceAccumulator = 0;\n    if (this.seen.hasOwnProperty(slug)) {\n      occurenceAccumulator = this.seen[originalSlug];\n      do {\n        occurenceAccumulator++;\n        slug = originalSlug + '-' + occurenceAccumulator;\n      } while (this.seen.hasOwnProperty(slug));\n    }\n    if (!isDryRun) {\n      this.seen[originalSlug] = occurenceAccumulator;\n      this.seen[slug] = 0;\n    }\n    return slug;\n  }\n\n  /**\n   * Convert string to unique id\n   * @param {object} [options]\n   * @param {boolean} [options.dryrun] Generates the next unique slug without\n   * updating the internal accumulator.\n   */;\n  _proto.slug = function slug(value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var slug = this.serialize(value);\n    return this.getNextSafeSlug(slug, options.dryrun);\n  };\n  return Slugger;\n}();\n\n/**\n * Parsing & Compiling\n */\nvar Parser = /*#__PURE__*/function () {\n  function Parser(options) {\n    this.options = options || exports.defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n\n  /**\n   * Static Parse Method\n   */\n  Parser.parse = function parse(tokens, options) {\n    var parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n\n  /**\n   * Static Parse Inline Method\n   */;\n  Parser.parseInline = function parseInline(tokens, options) {\n    var parser = new Parser(options);\n    return parser.parseInline(tokens);\n  }\n\n  /**\n   * Parse Loop\n   */;\n  var _proto = Parser.prototype;\n  _proto.parse = function parse(tokens, top) {\n    if (top === void 0) {\n      top = true;\n    }\n    var out = '',\n      i,\n      j,\n      k,\n      l2,\n      l3,\n      row,\n      cell,\n      header,\n      body,\n      token,\n      ordered,\n      start,\n      loose,\n      itemBody,\n      item,\n      checked,\n      task,\n      checkbox,\n      ret;\n    var l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      // Run any renderer extensions\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({\n          parser: this\n        }, token);\n        if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n      switch (token.type) {\n        case 'space':\n          {\n            continue;\n          }\n        case 'hr':\n          {\n            out += this.renderer.hr();\n            continue;\n          }\n        case 'heading':\n          {\n            out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n            continue;\n          }\n        case 'code':\n          {\n            out += this.renderer.code(token.text, token.lang, token.escaped);\n            continue;\n          }\n        case 'table':\n          {\n            header = '';\n\n            // header\n            cell = '';\n            l2 = token.header.length;\n            for (j = 0; j < l2; j++) {\n              cell += this.renderer.tablecell(this.parseInline(token.header[j].tokens), {\n                header: true,\n                align: token.align[j]\n              });\n            }\n            header += this.renderer.tablerow(cell);\n            body = '';\n            l2 = token.rows.length;\n            for (j = 0; j < l2; j++) {\n              row = token.rows[j];\n              cell = '';\n              l3 = row.length;\n              for (k = 0; k < l3; k++) {\n                cell += this.renderer.tablecell(this.parseInline(row[k].tokens), {\n                  header: false,\n                  align: token.align[k]\n                });\n              }\n              body += this.renderer.tablerow(cell);\n            }\n            out += this.renderer.table(header, body);\n            continue;\n          }\n        case 'blockquote':\n          {\n            body = this.parse(token.tokens);\n            out += this.renderer.blockquote(body);\n            continue;\n          }\n        case 'list':\n          {\n            ordered = token.ordered;\n            start = token.start;\n            loose = token.loose;\n            l2 = token.items.length;\n            body = '';\n            for (j = 0; j < l2; j++) {\n              item = token.items[j];\n              checked = item.checked;\n              task = item.task;\n              itemBody = '';\n              if (item.task) {\n                checkbox = this.renderer.checkbox(checked);\n                if (loose) {\n                  if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                    item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n                    if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                      item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                    }\n                  } else {\n                    item.tokens.unshift({\n                      type: 'text',\n                      text: checkbox\n                    });\n                  }\n                } else {\n                  itemBody += checkbox;\n                }\n              }\n              itemBody += this.parse(item.tokens, loose);\n              body += this.renderer.listitem(itemBody, task, checked);\n            }\n            out += this.renderer.list(body, ordered, start);\n            continue;\n          }\n        case 'html':\n          {\n            // TODO parse inline content if parameter markdown=1\n            out += this.renderer.html(token.text);\n            continue;\n          }\n        case 'paragraph':\n          {\n            out += this.renderer.paragraph(this.parseInline(token.tokens));\n            continue;\n          }\n        case 'text':\n          {\n            body = token.tokens ? this.parseInline(token.tokens) : token.text;\n            while (i + 1 < l && tokens[i + 1].type === 'text') {\n              token = tokens[++i];\n              body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n            }\n            out += top ? this.renderer.paragraph(body) : body;\n            continue;\n          }\n        default:\n          {\n            var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n    return out;\n  }\n\n  /**\n   * Parse Inline Tokens\n   */;\n  _proto.parseInline = function parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    var out = '',\n      i,\n      token,\n      ret;\n    var l = tokens.length;\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      // Run any renderer extensions\n      if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n        ret = this.options.extensions.renderers[token.type].call({\n          parser: this\n        }, token);\n        if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n          out += ret || '';\n          continue;\n        }\n      }\n      switch (token.type) {\n        case 'escape':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n        case 'html':\n          {\n            out += renderer.html(token.text);\n            break;\n          }\n        case 'link':\n          {\n            out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n            break;\n          }\n        case 'image':\n          {\n            out += renderer.image(token.href, token.title, token.text);\n            break;\n          }\n        case 'strong':\n          {\n            out += renderer.strong(this.parseInline(token.tokens, renderer));\n            break;\n          }\n        case 'em':\n          {\n            out += renderer.em(this.parseInline(token.tokens, renderer));\n            break;\n          }\n        case 'codespan':\n          {\n            out += renderer.codespan(token.text);\n            break;\n          }\n        case 'br':\n          {\n            out += renderer.br();\n            break;\n          }\n        case 'del':\n          {\n            out += renderer.del(this.parseInline(token.tokens, renderer));\n            break;\n          }\n        case 'text':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n        default:\n          {\n            var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n    return out;\n  };\n  return Parser;\n}();\n\nvar Hooks = /*#__PURE__*/function () {\n  function Hooks(options) {\n    this.options = options || exports.defaults;\n  }\n  var _proto = Hooks.prototype;\n  /**\n   * Process markdown before marked\n   */\n  _proto.preprocess = function preprocess(markdown) {\n    return markdown;\n  }\n\n  /**\n   * Process HTML after marked is finished\n   */;\n  _proto.postprocess = function postprocess(html) {\n    return html;\n  };\n  return Hooks;\n}();\nHooks.passThroughHooks = new Set(['preprocess', 'postprocess']);\n\nfunction onError(silent, async, callback) {\n  return function (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if (silent) {\n      var msg = '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n      if (async) {\n        return Promise.resolve(msg);\n      }\n      if (callback) {\n        callback(null, msg);\n        return;\n      }\n      return msg;\n    }\n    if (async) {\n      return Promise.reject(e);\n    }\n    if (callback) {\n      callback(e);\n      return;\n    }\n    throw e;\n  };\n}\nfunction parseMarkdown(lexer, parser) {\n  return function (src, opt, callback) {\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n    var origOpt = _extends({}, opt);\n    opt = _extends({}, marked.defaults, origOpt);\n    var throwError = onError(opt.silent, opt.async, callback);\n\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      return throwError(new Error('marked(): input parameter is undefined or null'));\n    }\n    if (typeof src !== 'string') {\n      return throwError(new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected'));\n    }\n    checkSanitizeDeprecation(opt);\n    if (opt.hooks) {\n      opt.hooks.options = opt;\n    }\n    if (callback) {\n      var highlight = opt.highlight;\n      var tokens;\n      try {\n        if (opt.hooks) {\n          src = opt.hooks.preprocess(src);\n        }\n        tokens = lexer(src, opt);\n      } catch (e) {\n        return throwError(e);\n      }\n      var done = function done(err) {\n        var out;\n        if (!err) {\n          try {\n            if (opt.walkTokens) {\n              marked.walkTokens(tokens, opt.walkTokens);\n            }\n            out = parser(tokens, opt);\n            if (opt.hooks) {\n              out = opt.hooks.postprocess(out);\n            }\n          } catch (e) {\n            err = e;\n          }\n        }\n        opt.highlight = highlight;\n        return err ? throwError(err) : callback(null, out);\n      };\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n      delete opt.highlight;\n      if (!tokens.length) return done();\n      var pending = 0;\n      marked.walkTokens(tokens, function (token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(function () {\n            highlight(token.text, token.lang, function (err, code) {\n              if (err) {\n                return done(err);\n              }\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n              pending--;\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n      if (pending === 0) {\n        done();\n      }\n      return;\n    }\n    if (opt.async) {\n      return Promise.resolve(opt.hooks ? opt.hooks.preprocess(src) : src).then(function (src) {\n        return lexer(src, opt);\n      }).then(function (tokens) {\n        return opt.walkTokens ? Promise.all(marked.walkTokens(tokens, opt.walkTokens)).then(function () {\n          return tokens;\n        }) : tokens;\n      }).then(function (tokens) {\n        return parser(tokens, opt);\n      }).then(function (html) {\n        return opt.hooks ? opt.hooks.postprocess(html) : html;\n      })[\"catch\"](throwError);\n    }\n    try {\n      if (opt.hooks) {\n        src = opt.hooks.preprocess(src);\n      }\n      var _tokens = lexer(src, opt);\n      if (opt.walkTokens) {\n        marked.walkTokens(_tokens, opt.walkTokens);\n      }\n      var html = parser(_tokens, opt);\n      if (opt.hooks) {\n        html = opt.hooks.postprocess(html);\n      }\n      return html;\n    } catch (e) {\n      return throwError(e);\n    }\n  };\n}\n\n/**\n * Marked\n */\nfunction marked(src, opt, callback) {\n  return parseMarkdown(Lexer.lex, Parser.parse)(src, opt, callback);\n}\n\n/**\n * Options\n */\n\nmarked.options = marked.setOptions = function (opt) {\n  marked.defaults = _extends({}, marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\nmarked.getDefaults = getDefaults;\nmarked.defaults = exports.defaults;\n\n/**\n * Use Extension\n */\n\nmarked.use = function () {\n  var extensions = marked.defaults.extensions || {\n    renderers: {},\n    childTokens: {}\n  };\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  args.forEach(function (pack) {\n    // copy options to new object\n    var opts = _extends({}, pack);\n\n    // set async to true if it was set to true before\n    opts.async = marked.defaults.async || opts.async || false;\n\n    // ==-- Parse \"addon\" extensions --== //\n    if (pack.extensions) {\n      pack.extensions.forEach(function (ext) {\n        if (!ext.name) {\n          throw new Error('extension name required');\n        }\n        if (ext.renderer) {\n          // Renderer extensions\n          var prevRenderer = extensions.renderers[ext.name];\n          if (prevRenderer) {\n            // Replace extension with func to run new extension but fall back if false\n            extensions.renderers[ext.name] = function () {\n              for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n              var ret = ext.renderer.apply(this, args);\n              if (ret === false) {\n                ret = prevRenderer.apply(this, args);\n              }\n              return ret;\n            };\n          } else {\n            extensions.renderers[ext.name] = ext.renderer;\n          }\n        }\n        if (ext.tokenizer) {\n          // Tokenizer Extensions\n          if (!ext.level || ext.level !== 'block' && ext.level !== 'inline') {\n            throw new Error(\"extension level must be 'block' or 'inline'\");\n          }\n          if (extensions[ext.level]) {\n            extensions[ext.level].unshift(ext.tokenizer);\n          } else {\n            extensions[ext.level] = [ext.tokenizer];\n          }\n          if (ext.start) {\n            // Function to check for start of token\n            if (ext.level === 'block') {\n              if (extensions.startBlock) {\n                extensions.startBlock.push(ext.start);\n              } else {\n                extensions.startBlock = [ext.start];\n              }\n            } else if (ext.level === 'inline') {\n              if (extensions.startInline) {\n                extensions.startInline.push(ext.start);\n              } else {\n                extensions.startInline = [ext.start];\n              }\n            }\n          }\n        }\n        if (ext.childTokens) {\n          // Child tokens to be visited by walkTokens\n          extensions.childTokens[ext.name] = ext.childTokens;\n        }\n      });\n      opts.extensions = extensions;\n    }\n\n    // ==-- Parse \"overwrite\" extensions --== //\n    if (pack.renderer) {\n      (function () {\n        var renderer = marked.defaults.renderer || new Renderer();\n        var _loop = function _loop(prop) {\n          var prevRenderer = renderer[prop];\n          // Replace renderer with func to run extension, but fall back if false\n          renderer[prop] = function () {\n            for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              args[_key3] = arguments[_key3];\n            }\n            var ret = pack.renderer[prop].apply(renderer, args);\n            if (ret === false) {\n              ret = prevRenderer.apply(renderer, args);\n            }\n            return ret;\n          };\n        };\n        for (var prop in pack.renderer) {\n          _loop(prop);\n        }\n        opts.renderer = renderer;\n      })();\n    }\n    if (pack.tokenizer) {\n      (function () {\n        var tokenizer = marked.defaults.tokenizer || new Tokenizer();\n        var _loop2 = function _loop2(prop) {\n          var prevTokenizer = tokenizer[prop];\n          // Replace tokenizer with func to run extension, but fall back if false\n          tokenizer[prop] = function () {\n            for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n              args[_key4] = arguments[_key4];\n            }\n            var ret = pack.tokenizer[prop].apply(tokenizer, args);\n            if (ret === false) {\n              ret = prevTokenizer.apply(tokenizer, args);\n            }\n            return ret;\n          };\n        };\n        for (var prop in pack.tokenizer) {\n          _loop2(prop);\n        }\n        opts.tokenizer = tokenizer;\n      })();\n    }\n\n    // ==-- Parse Hooks extensions --== //\n    if (pack.hooks) {\n      (function () {\n        var hooks = marked.defaults.hooks || new Hooks();\n        var _loop3 = function _loop3(prop) {\n          var prevHook = hooks[prop];\n          if (Hooks.passThroughHooks.has(prop)) {\n            hooks[prop] = function (arg) {\n              if (marked.defaults.async) {\n                return Promise.resolve(pack.hooks[prop].call(hooks, arg)).then(function (ret) {\n                  return prevHook.call(hooks, ret);\n                });\n              }\n              var ret = pack.hooks[prop].call(hooks, arg);\n              return prevHook.call(hooks, ret);\n            };\n          } else {\n            hooks[prop] = function () {\n              for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n                args[_key5] = arguments[_key5];\n              }\n              var ret = pack.hooks[prop].apply(hooks, args);\n              if (ret === false) {\n                ret = prevHook.apply(hooks, args);\n              }\n              return ret;\n            };\n          }\n        };\n        for (var prop in pack.hooks) {\n          _loop3(prop);\n        }\n        opts.hooks = hooks;\n      })();\n    }\n\n    // ==-- Parse WalkTokens extensions --== //\n    if (pack.walkTokens) {\n      var _walkTokens = marked.defaults.walkTokens;\n      opts.walkTokens = function (token) {\n        var values = [];\n        values.push(pack.walkTokens.call(this, token));\n        if (_walkTokens) {\n          values = values.concat(_walkTokens.call(this, token));\n        }\n        return values;\n      };\n    }\n    marked.setOptions(opts);\n  });\n};\n\n/**\n * Run callback for every token\n */\n\nmarked.walkTokens = function (tokens, callback) {\n  var values = [];\n  var _loop4 = function _loop4() {\n    var token = _step.value;\n    values = values.concat(callback.call(marked, token));\n    switch (token.type) {\n      case 'table':\n        {\n          for (var _iterator2 = _createForOfIteratorHelperLoose(token.header), _step2; !(_step2 = _iterator2()).done;) {\n            var cell = _step2.value;\n            values = values.concat(marked.walkTokens(cell.tokens, callback));\n          }\n          for (var _iterator3 = _createForOfIteratorHelperLoose(token.rows), _step3; !(_step3 = _iterator3()).done;) {\n            var row = _step3.value;\n            for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n              var _cell = _step4.value;\n              values = values.concat(marked.walkTokens(_cell.tokens, callback));\n            }\n          }\n          break;\n        }\n      case 'list':\n        {\n          values = values.concat(marked.walkTokens(token.items, callback));\n          break;\n        }\n      default:\n        {\n          if (marked.defaults.extensions && marked.defaults.extensions.childTokens && marked.defaults.extensions.childTokens[token.type]) {\n            // Walk any extensions\n            marked.defaults.extensions.childTokens[token.type].forEach(function (childTokens) {\n              values = values.concat(marked.walkTokens(token[childTokens], callback));\n            });\n          } else if (token.tokens) {\n            values = values.concat(marked.walkTokens(token.tokens, callback));\n          }\n        }\n    }\n  };\n  for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n    _loop4();\n  }\n  return values;\n};\n\n/**\n * Parse Inline\n * @param {string} src\n */\nmarked.parseInline = parseMarkdown(Lexer.lexInline, Parser.parseInline);\n\n/**\n * Expose\n */\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\nmarked.Tokenizer = Tokenizer;\nmarked.Slugger = Slugger;\nmarked.Hooks = Hooks;\nmarked.parse = marked;\nvar options = marked.options;\nvar setOptions = marked.setOptions;\nvar use = marked.use;\nvar walkTokens = marked.walkTokens;\nvar parseInline = marked.parseInline;\nvar parse = marked;\nvar parser = Parser.parse;\nvar lexer = Lexer.lex;\n\nexports.Hooks = Hooks;\nexports.Lexer = Lexer;\nexports.Parser = Parser;\nexports.Renderer = Renderer;\nexports.Slugger = Slugger;\nexports.TextRenderer = TextRenderer;\nexports.Tokenizer = Tokenizer;\nexports.getDefaults = getDefaults;\nexports.lexer = lexer;\nexports.marked = marked;\nexports.options = options;\nexports.parse = parse;\nexports.parseInline = parseInline;\nexports.parser = parser;\nexports.setOptions = setOptions;\nexports.use = use;\nexports.walkTokens = walkTokens;\n"],"names":["Typo","CodeMirrorSpellChecker","options","codeMirrorInstance","defineMode","String","prototype","includes","indexOf","apply","this","arguments","config","aff_loading","xhr_aff","XMLHttpRequest","open","onload","readyState","status","aff_data","responseText","num_loaded","typo","dic_data","platform","send","dic_loading","xhr_dic","rx_word","overlay","token","stream","ch","peek","word","next","check","mode","getMode","backdrop","overlayMode","console","log","module","exports","CodeMirror","startListening","cm","state","display","wrapper","offsetHeight","stopListening","lastWrapHeight","clientHeight","refresh","timeout","setTimeout","delay","hurry","clearTimeout","on","window","_cm","off","defineOption","val","autoRefresh","mod","setFullscreen","wrap","getWrapperElement","fullScreenRestore","scrollTop","pageYOffset","scrollLeft","pageXOffset","width","style","height","className","document","documentElement","overflow","setNormal","replace","info","scrollTo","old","Init","clearPlaceholder","placeholder","parentNode","removeChild","setPlaceholder","elt","createElement","cssText","direction","getOption","placeHolder","createTextNode","appendChild","lineSpace","insertBefore","firstChild","onComposition","empty","lineCount","input","getInputField","nodeName","getLine","length","test","querySelector","textContent","onBlur","isEmpty","onChange","prev","placeholderCompose","hasFocus","listRE","emptyListRE","unorderedListRE","incrementRemainingMarkdownListNumbers","pos","startLine","line","lookAhead","skipCount","startItem","exec","startIndent","nextLineNumber","nextLine","nextItem","nextIndent","newNumber","parseInt","nextNumber","itemNumber","isNaN","replaceRange","commands","newlineAndIndentContinueMarkdownList","Pass","ranges","listSelections","replacements","i","head","eolState","getStateAfter","inner","innerMode","name","helperType","execCommand","inList","list","inQuote","quote","match","cursorBeforeBullet","slice","endOfQuote","endOfList","indent","after","numbered","bullet","replaceSelections","base","combine","startState","basePos","baseCur","overlayPos","overlayCur","streamSeen","copyState","Math","min","start","combineTokens","textAfter","electricChars","blankLine","baseToken","overlayToken","doFold","noFold","Pos","regexpFlags","regexp","flags","ignoreCase","global","multiline","ensureFlags","current","target","charAt","RegExp","source","maybeMultiline","searchRegexpForward","doc","last","lastLine","lastIndex","string","from","index","to","searchRegexpForwardMultiline","chunk","curLine","before","split","inside","startCh","lastMatchIn","endMargin","newMatch","end","searchRegexpBackward","first","firstLine","searchRegexpBackwardMultiline","chunkSize","adjustPos","orig","folded","foldFunc","max","mid","len","searchStringForward","query","caseFold","fold","lines","search","found","cutFrom","endString","searchStringBackward","lastIndexOf","top","topString","SearchCursor","atOccurrence","afterEmptyMatch","clipPos","matches","reverse","normalize","str","toLowerCase","findNext","find","findPrevious","cmpPos","result","newText","origin","splitLines","defineExtension","defineDocExtension","cur","getSearchCursor","getCursor","push","anchor","setSelections","onCursorActivity","markedSelection","operation","update","clear","markedSelectionStyle","reset","CHUNK_SIZE","cmp","coverRange","addAt","array","cls","endLine","atEnd","mark","markText","splice","somethingSelected","coverStart","coverEnd","shift","pop","urlRE","modeConfig","codeDepth","code","gfmOverlay","codeBlock","ateSpace","s","skipToEnd","sol","eatWhile","difference","eatSpace","gitHubSpice","markdownConfig","taskLists","strikethrough","emoji","attr","defineMIME","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","mime","mimes","undefined","highlightFormatting","maxBlockquoteDepth","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","header","list1","list2","list3","hr","image","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hasOwnProperty","hrRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","f","inline","switchBlock","block","lineIsEmpty","linkTitle","indentedCode","htmlBlock","exit","htmlState","tagStart","context","tokenize","isInText","inlineNormal","blockNormal","trailingSpace","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","column","indentation","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","getType","eat","setext","listType","taskList","fencedEndRE","localMode","localState","local","footnoteLink","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","styles","taskOpen","join","taskClosed","listMod","handleText","text","matchCh","regex","previousFormatting","count","t","type","formattingEscape","atts","substring","backUp","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","blockCommentStart","blockCommentEnd","closeBrackets","modeInfo","ext","file","alias","findModeByMIME","j","findModeByExtension","findModeByFileName","filename","dot","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","indentUnit","defaults","prop","inText","chain","parser","inBlock","doctype","inTag","baseState","tagName","inAttribute","stringStartCol","closure","eol","isInAttribute","terminator","depth","lower","Context","startOfLine","indented","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","electricInput","configuration","skipAttribute","xmlCurrentTag","close","xmlCurrentContext","cx","mimeModes","tabAndIndentMarkdownList","indentWithTabs","spaces","Array","tabSize","replaceSelection","shiftTabAndUnindentMarkdownList","marked","isMac","navigator","anchorToExternalRegex","bindings","toggleBold","toggleItalic","drawLink","toggleHeadingSmaller","toggleHeadingBigger","drawImage","toggleBlockquote","toggleOrderedList","toggleUnorderedList","toggleCodeBlock","togglePreview","toggleStrikethrough","toggleHeading1","toggleHeading2","toggleHeading3","toggleHeading4","toggleHeading5","toggleHeading6","cleanBlock","drawTable","drawHorizontalRule","undo","redo","toggleSideBySide","toggleFullScreen","shortcuts","getBindingName","key","isMobile","a","userAgent","vendor","opera","substr","fixShortcut","createToolbarDropdown","enableTooltips","parent","el","createToolbarButton","classList","add","onclick","focus","content","childrenIndex","children","childElement","child","toolbarBuiltInButtons","addEventListener","e","stopPropagation","enableActions","markup","attributes","attribute","Object","call","setAttribute","classNamePrefix","toolbarButtonClassPrefix","innerText","action","title","actionName","tooltip","createTooltip","noDisable","noMobile","classNameParts","iconClasses","classNameIndex","classNamePart","tabIndex","icon","iconClassIndex","iconClass","innerHTML","preventDefault","createSep","getState","stat","getTokenAt","data","types","ret","bold","italic","link","saved_overflow","editor","codemirror","setOption","body","sidebyside","nextSibling","contains","sideBySideFullscreen","easyMDEContainer","remove","onToggleFullScreen","maxHeight","getScrollerElement","removeProperty","setPreviewMaxHeight","toolbar_div","toggle","toolbarElements","fullscreen","_toggleBlock","blockStyles","fenceCharsToInsert","fencing_line","token_state","code_type","line_num","firstTok","lastTok","getLineHandle","fencedChars","block_start","block_end","cur_start","cur_end","tok","is_code","setSelection","start_text","start_line","end_text","end_line","fence_chars","search_from","next_line","next_line_last_tok","indentLine","no_sel_and_starting_of_line","sel_multi","start_line_sel","end_line_sel","repl_start","repl_end","_replaceSelection","insertFencingAtSelection","_toggleLine","_toggleHeading","listStyle","unorderedListStyle","lastChild","startPoint","endPoint","_cleanBlock","url","promptURLs","prompt","promptTexts","escapePromptURL","_toggleLink","insertTexts","encodeURI","drawUploadedImage","openBrowseFileWindow","afterImageUploaded","imageName","uploadedImage","text_link","updateStatusBar","imageTexts","sbOnUploaded","sbInit","table","horizontalRule","preview","toolbarButton","useSideBySideListener","previewNormal","toolbar","sideBySideRenderingFunction","newValue","previewRender","value","previewClass","isArray","preview_result","active","startEnd","assign","getSelection","size","currHeadingLevel","repeat","liststyle","listRegexp","whitespacesRegexp","repl","_toggle","untoggleOnly","arr","char","_getChar","rt","_checkChar","isPreviewActive","start_chars","end_chars","humanFileSize","bytes","units","abs","u","toFixed","_mergeProperties","property","concat","constructor","extend","wordCount","m","charCodeAt","iconClassMap","default","timeFormat","locale","format","hour","minute","sbOnDragEnter","sbOnDrop","sbProgress","sizeUnits","errorMessages","noFileGiven","typeNotAllowed","fileTooLarge","importError","EasyMDE","autoDownloadFA","autoDownloadFontAwesome","styleSheets","href","rel","getElementsByTagName","element","showIcons","uploadImage","unshift","plainText","markdown","parsingConfig","autosave","minHeight","errorCallback","errorMessage","alert","imageMaxSize","imageAccept","imagePathAbsolute","imageCSRFName","imageCSRFHeader","unique_id","uniqueId","render","initialValue","foundSavedValue","self","event","imageUploadFunction","uploadImagesUsingCustomFunction","dataTransfer","files","uploadImages","clipboardData","isLocalStorageAvailable","localStorage","setItem","removeItem","onSuccess","onError","names","uploadImageUsingCustomFunction","itemName","gui","statusbar","matchingClasses","getElementsByClassName","markedOptions","renderingConfig","singleLineBreaks","breaks","codeSyntaxHighlighting","hljs","highlight","language","getLanguage","highlightAuto","setOptions","htmlText","parse","sanitizerFunction","htmlDoc","DOMParser","parseFromString","listItems","listItem","listItemChild","HTMLInputElement","marginLeft","listStyleType","removeListStyleWhenCheckbox","linkString","fixedLinkString","addAnchorTargetBlank","_rendered","keyMaps","documentOnKeyDown","keyCode","spellChecker","fromTextArea","theme","lineNumbers","autofocus","extraKeys","lineWrapping","allowDropFileTypes","getAttribute","styleSelectedText","scrollbarStyle","configureMouse","addNew","inputStyle","spellcheck","nativeSpellcheck","forceSync","save","cmWrapper","createToolbar","createStatusbar","enabled","_autosave_timeout","submit_delay","_vm","previewImagesInEditor","querySelectorAll","forEach","parentEl","parentElement","hasAttribute","srcAttr","EMDEimagesCache","keySrc","imagesPreviewHandler","newSrc","assignImageBlockAttributes","img","naturalWidth","naturalHeight","src","sideBySide","createSideBySide","temp_cm","bind","getComputedStyle","setSize","cleanup","removeEventListener","easyMDE","binded","form","autosaveTimeoutId","loaded","getItem","setValue","getElementById","d","Date","dd","Intl","DateTimeFormat","clearAutosavedValue","imageInput","click","onErrorSup","fillErrorMessage","imageUrl","formData","FormData","append","imageCSRFToken","request","upload","onprogress","lengthComputable","progress","round","total","imageUploadEndpoint","setRequestHeader","response","JSON","error","filePath","location","statusText","onerror","filledErrorMessage","paddingTop","borderTopWidth","previewMaxHeight","toString","syncSideBySidePreviewScroll","cScroll","pScroll","v","getScrollInfo","ratio","parseFloat","move","scrollHeight","onscroll","items","bar","toolbarData","toolbarGuideIcon","hideIcons","nonSeparatorIconsFollow","x","item","toolbarTips","multiple","accept","opacity","onUpdate","onActivity","defaultValue","getValue","posLine","posColumn","getDoc","isSideBySideActive","isFullscreenActive","toTextArea","_id","SimpleMdeReact","props","ref","events","getLineAndCursor","getMdeInstance","getCodemirrorInstance","id","anId","textareaProps","rest","useMemo","elementWrapperRef","useRef","nonEventChangeRef","currentValueRef","textRef","setTextRef","useState","setEditor","imageUploadCallback","useCallback","imageUpload","useEffect","editor2","initialOptions","useHandleEditorInstanceLifecycle","onCodemirrorChangeHandler","_","changeObject","setCursor","getCursorCallback","_a","toolbarNode","handler","prevEvents","entries","aRef","displayName","SimpleMdeReactComponent","autosavedValue","anOptions","React","fullScreen","dictionary","affData","wordsData","settings","rules","dictionaryTable","compoundRules","compoundRuleCodes","replacementTable","memoized","path","_len","_jlen","readDataFile","setFunc","_readFile","asyncLoad","then","setAffData","setup","setWordsData","_parseAFF","rule","ONLYINCOMPOUND","_parseDIC","ruleText","expressionText","character","loadedCallback","chrome","extension","dictionaryPath","getURL","__dirname","load","obj","charset","async","promise","req","Promise","resolve","reject","overrideMimeType","fs","existsSync","readFileSync","numEntries","lineParts","_removeAffixComments","trim","definitionParts","ruleType","ruleCode","combineable","charactersToRemove","additionParts","charactersToAdd","continuationClasses","parseRuleCodes","regexToMatch","entry","_removeDicComments","addWord","parts","ruleCodesArray","NEEDAFFIX","newWords","_applyRule","ii","_iilen","newWord","k","combineCode","combineRule","otherNewWords","iii","_iiilen","textCodes","FLAG","continuationRule","aWord","trimmedWord","checkExact","toUpperCase","capitalizedWord","hasFlag","uncapitalizedWord","ruleCodes","COMPOUNDMIN","flag","wordFlags","alphabet","suggest","limit","memoizedLimit","replacementEntry","correctedWord","alphaArray","sort","alphaHash","edits1","words","known_only","_edit","rv","alphabetLength","lettercase","replacementLetter","ed1","weighted_corrections","ed1word","sorted_corrections","b","a_val","b_val","localeCompare","capitalization_scheme","working_limit","correct","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","arg","hint","prim","Symbol","toPrimitive","res","TypeError","Number","_toPrimitive","_extends","_arrayLikeToArray","arr2","_createForOfIteratorHelperLoose","o","allowArrayLike","it","iterator","minLen","n","_unsupportedIterableToArray","done","getDefaults","baseUrl","extensions","gfm","headerIds","headerPrefix","hooks","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartypants","tokenizer","walkTokens","xhtml","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","escape","html","encode","unescapeTest","unescape","fromCharCode","caret","edit","opt","getRegex","nonWordAndColonTest","originIndependentUrl","cleanUrl","prot","decodeURIComponent","baseUrls","justDomain","rtrim","relativeBase","protocol","domain","resolveUrl","noopTest","splitCells","tableRow","cells","offset","escaped","curr","c","invert","l","suffLen","currChar","repeatString","pattern","outputLink","cap","raw","lexer","inLink","tokens","inlineTokens","Tokenizer","_proto","space","newline","codeBlockStyle","fences","matchIndentToCode","indentToCode","map","node","matchIndentInNode","indentCodeCompensation","lang","_escapes","heading","trimmed","blockquote","blockTokens","istask","ischecked","endsWithBlankLine","rawLine","itemContents","endEarly","bull","isordered","ordered","loose","itemRegex","trimLeft","nextBulletRegex","hrRegex","fencesBeginRegex","headingBeginRegex","task","checked","trimRight","spacers","filter","hasMultipleLineBreaks","some","pre","def","tag","align","rows","row","lheading","paragraph","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","level","findClosingBracket","linkLen","reflink","links","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","rDelim","rLength","lLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","_text","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","prevCapZero","_backpedal","inlineText","_paragraph","_label","_title","listItemStart","_tag","_comment","normal","reflinkSearch","out","random","_punctuation","blockSkip","escapedEmSt","_scheme","_email","_attribute","_href","middle","endAst","endUnd","_extended_email","Lexer","create","inlineQueue","lex","lexInline","Constructor","protoProps","staticProps","lastToken","cutSrc","lastParagraphClipped","_this","leading","tabs","extTokenizer","startBlock","startIndex","Infinity","tempSrc","tempStart","getStartIndex","errMsg","Error","_this2","keepPrevChar","keys","startInline","get","Renderer","_code","infostring","_html","slugger","slug","listitem","checkbox","tablerow","tablecell","TextRenderer","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","Parser","textRenderer","parseInline","l2","l3","cell","itemBody","renderers","Hooks","preprocess","postprocess","parseMarkdown","callback","origOpt","throwError","message","msg","warn","checkSanitizeDeprecation","err","pending","all","_tokens","passThroughHooks","Set","newDefaults","use","childTokens","args","_key","pack","opts","prevRenderer","_len2","_key2","_loop","_len3","_key3","_loop2","prevTokenizer","_len4","_key4","_loop3","prevHook","has","_len5","_key5","_walkTokens","values","_step","_loop4","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","_iterator"],"sourceRoot":""}